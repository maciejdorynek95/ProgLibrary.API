2021-11-07 01:57:03.676 +01:00 [INF] Staring Api
2021-11-07 01:57:07.446 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 01:57:08.056 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 01:57:08.078 +01:00 [INF] Hosting environment: Development
2021-11-07 01:57:08.078 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 01:57:08.153 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 01:57:08.270 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 121.8670ms
2021-11-07 01:57:08.297 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 01:57:08.529 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 231.8696ms
2021-11-07 01:57:08.631 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 01:57:08.631 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 01:57:08.685 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 01:57:08.701 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 01:57:08.701 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 01:57:08.701 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 01:57:08.716 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 84.6747ms
2021-11-07 01:57:08.725 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 40.1511ms
2021-11-07 01:57:08.743 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 112.0686ms
2021-11-07 01:57:10.835 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 01:57:11.171 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 335.5500ms
2021-11-07 01:58:01.660 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-07 01:58:01.867 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 01:58:01.917 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 01:58:03.346 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 01:58:03.969 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__email_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-07 01:58:04.191 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 01:58:04.219 +01:00 [INF] Dane Logowania Poprawne
2021-11-07 01:58:04.227 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 01:58:04.478 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-07 01:58:04.500 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2573.1174ms
2021-11-07 01:58:04.501 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 01:58:04.510 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2848.1066ms
2021-11-07 01:58:09.217 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/Browse - -
2021-11-07 01:58:09.323 +01:00 [INF] Successfully validated the token.
2021-11-07 01:58:09.338 +01:00 [INF] Authorization was successful.
2021-11-07 01:58:09.340 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 01:58:09.346 +01:00 [INF] Route matched with {action = "Browse", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Browse() on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 01:58:09.387 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 01:58:09.401 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-07 01:58:09.434 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-07 01:58:09.455 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.AccountDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 01:58:09.463 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API) in 115.9484ms
2021-11-07 01:58:09.463 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 01:58:09.465 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/Browse - - - 200 - application/json;+charset=utf-8 247.7071ms
2021-11-07 01:58:11.792 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - -
2021-11-07 01:58:11.796 +01:00 [INF] Successfully validated the token.
2021-11-07 01:58:11.797 +01:00 [INF] Authorization was successful.
2021-11-07 01:58:11.797 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 01:58:11.801 +01:00 [INF] Route matched with {action = "GetById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetById(System.Guid) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 01:58:11.827 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 01:58:11.836 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2021-11-07 01:58:11.893 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 01:58:11.903 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-07 01:58:11.937 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 01:58:11.938 +01:00 [INF] GetAccountAsync479ae67a-2c42-495e-95c2-17a3bb35b6d8 : 
2021-11-07 01:58:11.951 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.AccountDetailsDto'.
2021-11-07 01:58:11.958 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API) in 155.9359ms
2021-11-07 01:58:11.958 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 01:58:11.959 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - - - 200 - application/json;+charset=utf-8 167.3255ms
2021-11-07 01:58:33.276 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - -
2021-11-07 01:58:33.277 +01:00 [INF] Successfully validated the token.
2021-11-07 01:58:33.278 +01:00 [INF] Authorization was successful.
2021-11-07 01:58:33.278 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 01:58:33.279 +01:00 [INF] Route matched with {action = "GetById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetById(System.Guid) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 01:58:33.282 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 01:58:33.291 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2021-11-07 01:58:33.292 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 01:58:33.298 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-07 01:58:33.304 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 01:58:33.304 +01:00 [INF] GetAccountAsync479ae67a-2c42-495e-95c2-17a3bb35b6d8 : 
2021-11-07 01:58:33.305 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.AccountDetailsDto'.
2021-11-07 01:58:33.306 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API) in 26.1723ms
2021-11-07 01:58:33.306 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 01:58:33.307 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - - - 200 - application/json;+charset=utf-8 30.8362ms
2021-11-07 01:58:35.480 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - -
2021-11-07 01:58:35.481 +01:00 [INF] Successfully validated the token.
2021-11-07 01:58:35.482 +01:00 [INF] Authorization was successful.
2021-11-07 01:58:35.482 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 01:58:35.482 +01:00 [INF] Route matched with {action = "GetById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetById(System.Guid) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 01:58:35.484 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 01:58:35.490 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2021-11-07 01:58:35.491 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 01:58:35.503 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-07 01:58:35.511 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 01:58:35.511 +01:00 [INF] GetAccountAsync479ae67a-2c42-495e-95c2-17a3bb35b6d8 : 
2021-11-07 01:58:35.512 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.AccountDetailsDto'.
2021-11-07 01:58:35.513 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API) in 30.6196ms
2021-11-07 01:58:35.513 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 01:58:35.515 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - - - 200 - application/json;+charset=utf-8 35.3758ms
2021-11-07 01:58:36.672 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - -
2021-11-07 01:58:36.673 +01:00 [INF] Successfully validated the token.
2021-11-07 01:58:36.673 +01:00 [INF] Authorization was successful.
2021-11-07 01:58:36.673 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 01:58:36.673 +01:00 [INF] Route matched with {action = "GetById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetById(System.Guid) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 01:58:36.675 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 01:58:36.683 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2021-11-07 01:58:36.685 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 01:58:36.689 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-07 01:58:36.695 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 01:58:36.696 +01:00 [INF] GetAccountAsync479ae67a-2c42-495e-95c2-17a3bb35b6d8 : 
2021-11-07 01:58:36.697 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.AccountDetailsDto'.
2021-11-07 01:58:36.699 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API) in 25.1332ms
2021-11-07 01:58:36.699 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 01:58:36.700 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - - - 200 - application/json;+charset=utf-8 28.3445ms
2021-11-07 02:04:42.639 +01:00 [INF] Staring Api
2021-11-07 02:04:45.044 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 02:04:45.452 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 02:04:45.452 +01:00 [INF] Hosting environment: Development
2021-11-07 02:04:45.452 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 02:04:45.519 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 02:04:45.602 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 02:04:45.608 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 91.7223ms
2021-11-07 02:04:45.770 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 168.2585ms
2021-11-07 02:04:45.836 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 02:04:45.913 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 02:04:45.918 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 81.8737ms
2021-11-07 02:04:45.945 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 02:04:45.977 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 02:04:45.998 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 02:04:46.009 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 02:04:46.022 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 77.0687ms
2021-11-07 02:04:46.023 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 24.3721ms
2021-11-07 02:04:47.782 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 02:04:48.303 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 521.1276ms
2021-11-07 02:04:55.863 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-07 02:04:55.997 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 02:04:56.041 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 02:04:57.120 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 02:04:57.592 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-07 02:04:57.794 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 02:04:57.823 +01:00 [INF] Dane Logowania Poprawne
2021-11-07 02:04:57.831 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 02:04:58.027 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-07 02:04:58.044 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 1995.3637ms
2021-11-07 02:04:58.045 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 02:04:58.053 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2189.8359ms
2021-11-07 02:04:59.921 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/Browse - -
2021-11-07 02:05:00.064 +01:00 [INF] Successfully validated the token.
2021-11-07 02:05:00.090 +01:00 [INF] Authorization was successful.
2021-11-07 02:05:00.092 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 02:05:00.098 +01:00 [INF] Route matched with {action = "Browse", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Browse() on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 02:05:00.155 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 02:05:00.169 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-07 02:05:00.199 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-07 02:05:00.224 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.AccountDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 02:05:00.229 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API) in 131.2294ms
2021-11-07 02:05:00.229 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 02:05:00.231 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/Browse - - - 200 - application/json;+charset=utf-8 309.9260ms
2021-11-07 02:05:01.568 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - -
2021-11-07 02:05:01.572 +01:00 [INF] Successfully validated the token.
2021-11-07 02:05:01.573 +01:00 [INF] Authorization was successful.
2021-11-07 02:05:01.574 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 02:05:01.577 +01:00 [INF] Route matched with {action = "GetById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetById(System.Guid) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 02:05:01.601 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 02:05:01.609 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2021-11-07 02:05:01.670 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 02:05:01.678 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-07 02:05:01.707 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 02:05:01.707 +01:00 [INF] GetAccountAsync479ae67a-2c42-495e-95c2-17a3bb35b6d8 : 
2021-11-07 02:05:01.732 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.AccountDetailsDto'.
2021-11-07 02:05:01.740 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API) in 162.4583ms
2021-11-07 02:05:01.740 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 02:05:01.741 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - - - 200 - application/json;+charset=utf-8 173.0413ms
2021-11-07 02:12:07.519 +01:00 [INF] Staring Api
2021-11-07 02:12:09.651 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 02:12:10.308 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 02:12:10.308 +01:00 [INF] Hosting environment: Development
2021-11-07 02:12:10.308 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 02:12:10.387 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 02:12:10.476 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 02:12:10.492 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 107.4558ms
2021-11-07 02:12:10.620 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 144.0887ms
2021-11-07 02:12:10.758 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 02:12:10.799 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 02:12:10.827 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 02:12:10.838 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 02:12:10.838 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 02:12:10.838 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 02:12:10.846 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 87.9870ms
2021-11-07 02:12:10.858 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 30.9480ms
2021-11-07 02:12:10.877 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 77.0813ms
2021-11-07 02:12:13.785 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 02:12:14.190 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 402.4061ms
2021-11-07 02:12:25.940 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-07 02:12:26.085 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 02:12:26.127 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 02:12:27.306 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 02:12:27.777 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-07 02:12:27.990 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 02:12:28.020 +01:00 [INF] Dane Logowania Poprawne
2021-11-07 02:12:28.029 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 02:12:28.220 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-07 02:12:28.235 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2100.6927ms
2021-11-07 02:12:28.236 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 02:12:28.243 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2302.8492ms
2021-11-07 02:12:30.920 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/Browse - -
2021-11-07 02:12:31.029 +01:00 [INF] Successfully validated the token.
2021-11-07 02:12:31.045 +01:00 [INF] Authorization was successful.
2021-11-07 02:12:31.048 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 02:12:31.052 +01:00 [INF] Route matched with {action = "Browse", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Browse() on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 02:12:31.092 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 02:12:31.107 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-07 02:12:31.140 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-07 02:12:31.158 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.AccountDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 02:12:31.162 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API) in 110.0521ms
2021-11-07 02:12:31.162 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 02:12:31.167 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/Browse - - - 200 - application/json;+charset=utf-8 246.6469ms
2021-11-07 02:12:50.945 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - -
2021-11-07 02:12:50.949 +01:00 [INF] Successfully validated the token.
2021-11-07 02:12:50.949 +01:00 [INF] Authorization was successful.
2021-11-07 02:12:50.950 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 02:12:50.956 +01:00 [INF] Route matched with {action = "GetById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetById(System.Guid) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 02:12:50.984 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 02:12:50.996 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2021-11-07 02:12:51.067 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 02:12:51.076 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-07 02:12:51.106 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 02:12:51.107 +01:00 [INF] GetAccountAsync479ae67a-2c42-495e-95c2-17a3bb35b6d8 : 
2021-11-07 02:12:51.133 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.AccountDetailsDto'.
2021-11-07 02:12:51.141 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API) in 185.1748ms
2021-11-07 02:12:51.141 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 02:12:51.142 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - - - 200 - application/json;+charset=utf-8 197.8310ms
2021-11-07 02:34:30.011 +01:00 [INF] Staring Api
2021-11-07 02:34:32.520 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 02:34:33.442 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 02:34:33.443 +01:00 [INF] Hosting environment: Development
2021-11-07 02:34:33.443 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 02:34:33.548 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 02:34:33.650 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 108.5634ms
2021-11-07 02:34:33.650 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 02:34:33.855 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 205.1187ms
2021-11-07 02:34:33.932 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 02:34:33.958 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 02:34:34.009 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 02:34:34.009 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 02:34:34.013 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 02:34:34.022 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 84.6927ms
2021-11-07 02:34:34.026 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 02:34:34.039 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 25.5747ms
2021-11-07 02:34:34.055 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 96.6886ms
2021-11-07 02:34:35.947 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 02:34:36.329 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 381.6700ms
2021-11-07 02:34:43.597 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-07 02:34:43.755 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 02:34:43.796 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 02:34:44.857 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 02:34:45.322 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-07 02:34:45.542 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 02:34:45.570 +01:00 [INF] Dane Logowania Poprawne
2021-11-07 02:34:45.577 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 02:34:45.770 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-07 02:34:45.786 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 1982.4166ms
2021-11-07 02:34:45.787 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 02:34:45.795 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2197.0500ms
2021-11-07 02:34:47.414 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/Browse - -
2021-11-07 02:34:47.521 +01:00 [INF] Successfully validated the token.
2021-11-07 02:34:47.543 +01:00 [INF] Authorization was successful.
2021-11-07 02:34:47.545 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 02:34:47.550 +01:00 [INF] Route matched with {action = "Browse", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Browse() on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 02:34:47.590 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 02:34:47.603 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-07 02:34:47.635 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-07 02:34:47.652 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.AccountDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 02:34:47.657 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API) in 106.3919ms
2021-11-07 02:34:47.657 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 02:34:47.658 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/Browse - - - 200 - application/json;+charset=utf-8 244.3961ms
2021-11-07 02:34:49.121 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - -
2021-11-07 02:34:49.124 +01:00 [INF] Successfully validated the token.
2021-11-07 02:34:49.125 +01:00 [INF] Authorization was successful.
2021-11-07 02:34:49.126 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 02:34:49.132 +01:00 [INF] Route matched with {action = "GetById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetById(System.Guid) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 02:34:49.157 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 02:34:49.168 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2021-11-07 02:34:49.237 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 02:34:49.246 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-07 02:34:49.287 +01:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."ReservationId", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 02:34:49.335 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ProgLibrary.Core.DAL.LibraryDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.ReservationId'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.ReservationId'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2021-11-07 02:34:49.342 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ProgLibrary.Core.DAL.LibraryDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.ReservationId'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.HashSet`1.UnionWith(IEnumerable`1 other)
   at System.Collections.Generic.HashSet`1..ctor(IEnumerable`1 collection, IEqualityComparer`1 comparer)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.SnapshotFactoryFactory.SnapshotCollection(IEnumerable`1 collection)
   at lambda_method225(Closure , InternalEntityEntry )
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.RelationshipsSnapshot..ctor(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.EnsureRelationshipSnapshot()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntrySubscriber.SnapshotAndSubscribe(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTrackingFromQuery(IEntityType baseEntityType, Object entity, ValueBuffer& valueBuffer)
   at Microsoft.EntityFrameworkCore.Query.QueryContext.StartTracking(IEntityType entityType, Object entity, ValueBuffer valueBuffer)
   at lambda_method185(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.ReservationId'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.HashSet`1.UnionWith(IEnumerable`1 other)
   at System.Collections.Generic.HashSet`1..ctor(IEnumerable`1 collection, IEqualityComparer`1 comparer)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.SnapshotFactoryFactory.SnapshotCollection(IEnumerable`1 collection)
   at lambda_method225(Closure , InternalEntityEntry )
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.RelationshipsSnapshot..ctor(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.EnsureRelationshipSnapshot()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntrySubscriber.SnapshotAndSubscribe(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTrackingFromQuery(IEntityType baseEntityType, Object entity, ValueBuffer& valueBuffer)
   at Microsoft.EntityFrameworkCore.Query.QueryContext.StartTracking(IEntityType entityType, Object entity, ValueBuffer valueBuffer)
   at lambda_method185(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2021-11-07 02:34:49.603 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API) in 470.8281ms
2021-11-07 02:34:49.604 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 02:34:49.607 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.ReservationId'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.HashSet`1.UnionWith(IEnumerable`1 other)
   at System.Collections.Generic.HashSet`1..ctor(IEnumerable`1 collection, IEqualityComparer`1 comparer)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.SnapshotFactoryFactory.SnapshotCollection(IEnumerable`1 collection)
   at lambda_method225(Closure , InternalEntityEntry )
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.RelationshipsSnapshot..ctor(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.EnsureRelationshipSnapshot()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntrySubscriber.SnapshotAndSubscribe(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTrackingFromQuery(IEntityType baseEntityType, Object entity, ValueBuffer& valueBuffer)
   at Microsoft.EntityFrameworkCore.Query.QueryContext.StartTracking(IEntityType entityType, Object entity, ValueBuffer valueBuffer)
   at lambda_method185(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at ProgLibrary.Core.Domain.User.GetReservations(LibraryDbContext context) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Core\Domain\User.cs:line 43
   at ProgLibrary.Infrastructure.Repositories.UserRepository.GetAsync(Guid id) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Repositories\UserRepository.cs:line 34
   at ProgLibrary.Infrastructure.Services.UserService.GetAccountAsync(Guid userId) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\UserService.cs:line 44
   at ProgLibrary.API.Controllers.AccountController.GetById(Guid userId) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\AccountController.cs:line 33
   at lambda_method178(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-07 02:34:49.672 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - - - 500 - text/plain 551.2251ms
2021-11-07 02:35:55.577 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - -
2021-11-07 02:35:55.578 +01:00 [INF] Successfully validated the token.
2021-11-07 02:35:55.581 +01:00 [INF] Authorization was successful.
2021-11-07 02:35:55.581 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 02:35:55.582 +01:00 [INF] Route matched with {action = "GetById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetById(System.Guid) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 02:35:55.588 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 02:35:55.593 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2021-11-07 02:35:55.594 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 02:35:55.599 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-07 02:35:55.600 +01:00 [ERR] Failed executing DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."ReservationId", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 02:35:55.601 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ProgLibrary.Core.DAL.LibraryDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.ReservationId'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.ReservationId'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2021-11-07 02:35:55.604 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ProgLibrary.Core.DAL.LibraryDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.ReservationId'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.HashSet`1.UnionWith(IEnumerable`1 other)
   at System.Collections.Generic.HashSet`1..ctor(IEnumerable`1 collection, IEqualityComparer`1 comparer)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.SnapshotFactoryFactory.SnapshotCollection(IEnumerable`1 collection)
   at lambda_method225(Closure , InternalEntityEntry )
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.RelationshipsSnapshot..ctor(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.EnsureRelationshipSnapshot()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntrySubscriber.SnapshotAndSubscribe(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTrackingFromQuery(IEntityType baseEntityType, Object entity, ValueBuffer& valueBuffer)
   at Microsoft.EntityFrameworkCore.Query.QueryContext.StartTracking(IEntityType entityType, Object entity, ValueBuffer valueBuffer)
   at lambda_method185(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.ReservationId'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.HashSet`1.UnionWith(IEnumerable`1 other)
   at System.Collections.Generic.HashSet`1..ctor(IEnumerable`1 collection, IEqualityComparer`1 comparer)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.SnapshotFactoryFactory.SnapshotCollection(IEnumerable`1 collection)
   at lambda_method225(Closure , InternalEntityEntry )
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.RelationshipsSnapshot..ctor(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.EnsureRelationshipSnapshot()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntrySubscriber.SnapshotAndSubscribe(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTrackingFromQuery(IEntityType baseEntityType, Object entity, ValueBuffer& valueBuffer)
   at Microsoft.EntityFrameworkCore.Query.QueryContext.StartTracking(IEntityType entityType, Object entity, ValueBuffer valueBuffer)
   at lambda_method185(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2021-11-07 02:35:55.786 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API) in 204.3466ms
2021-11-07 02:35:55.787 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 02:35:55.789 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.ReservationId'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.HashSet`1.UnionWith(IEnumerable`1 other)
   at System.Collections.Generic.HashSet`1..ctor(IEnumerable`1 collection, IEqualityComparer`1 comparer)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.SnapshotFactoryFactory.SnapshotCollection(IEnumerable`1 collection)
   at lambda_method225(Closure , InternalEntityEntry )
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.RelationshipsSnapshot..ctor(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.EnsureRelationshipSnapshot()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntrySubscriber.SnapshotAndSubscribe(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTrackingFromQuery(IEntityType baseEntityType, Object entity, ValueBuffer& valueBuffer)
   at Microsoft.EntityFrameworkCore.Query.QueryContext.StartTracking(IEntityType entityType, Object entity, ValueBuffer valueBuffer)
   at lambda_method185(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at ProgLibrary.Core.Domain.User.GetReservations(LibraryDbContext context) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Core\Domain\User.cs:line 43
   at ProgLibrary.Infrastructure.Repositories.UserRepository.GetAsync(Guid id) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Repositories\UserRepository.cs:line 34
   at ProgLibrary.Infrastructure.Services.UserService.GetAccountAsync(Guid userId) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\UserService.cs:line 44
   at ProgLibrary.API.Controllers.AccountController.GetById(Guid userId) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\AccountController.cs:line 33
   at lambda_method178(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-07 02:35:55.803 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - - - 500 - text/plain 226.2436ms
2021-11-07 11:26:29.436 +01:00 [INF] Staring Api
2021-11-07 11:26:32.768 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 11:26:33.356 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 11:26:33.356 +01:00 [INF] Hosting environment: Development
2021-11-07 11:26:33.357 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 11:26:33.486 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 11:26:33.612 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 11:26:33.618 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 136.3813ms
2021-11-07 11:26:33.774 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 161.2979ms
2021-11-07 11:26:33.861 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 11:26:33.862 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 11:26:33.944 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 11:26:33.966 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 11:26:33.977 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 11:26:33.989 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 11:26:33.994 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 126.6558ms
2021-11-07 11:26:33.999 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 54.3263ms
2021-11-07 11:26:34.046 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 183.8010ms
2021-11-07 11:26:35.432 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 11:26:35.965 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 533.7490ms
2021-11-07 11:26:54.181 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-07 11:26:54.355 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 11:26:54.400 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 11:26:55.554 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 11:26:56.092 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__email_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-07 11:26:56.304 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 11:26:56.335 +01:00 [INF] Dane Logowania Poprawne
2021-11-07 11:26:56.342 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 11:26:56.543 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-07 11:26:56.559 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2153.2726ms
2021-11-07 11:26:56.560 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 11:26:56.567 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2386.5596ms
2021-11-07 11:27:01.651 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/Browse - -
2021-11-07 11:27:01.765 +01:00 [INF] Successfully validated the token.
2021-11-07 11:27:01.781 +01:00 [INF] Authorization was successful.
2021-11-07 11:27:01.782 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 11:27:01.786 +01:00 [INF] Route matched with {action = "Browse", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Browse() on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 11:27:01.849 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 11:27:01.865 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-07 11:27:01.900 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-07 11:27:01.920 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.AccountDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 11:27:01.924 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API) in 138.2138ms
2021-11-07 11:27:01.924 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 11:27:01.929 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/Browse - - - 200 - application/json;+charset=utf-8 277.9437ms
2021-11-07 11:27:03.356 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - -
2021-11-07 11:27:03.361 +01:00 [INF] Successfully validated the token.
2021-11-07 11:27:03.362 +01:00 [INF] Authorization was successful.
2021-11-07 11:27:03.363 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 11:27:03.367 +01:00 [INF] Route matched with {action = "GetById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetById(System.Guid) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 11:27:03.391 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 11:27:03.401 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2021-11-07 11:27:03.801 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API) in 434.3657ms
2021-11-07 11:27:03.802 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 11:27:03.805 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to determine the relationship represented by navigation 'Reservation.User' of type 'User'. Either manually configure the relationship, or ignore this property using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Sqlite.Internal.SqliteModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ValidatingConvention.ProcessModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at ResolveService(ILEmitResolverBuilderRuntimeContext , ServiceProviderEngineScope )
   at ResolveService(ILEmitResolverBuilderRuntimeContext , ServiceProviderEngineScope )
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Collections.Generic.IEnumerable<TEntity>.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at ProgLibrary.Core.Domain.User.GetReservations(LibraryDbContext context) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Core\Domain\User.cs:line 49
   at ProgLibrary.Infrastructure.Repositories.UserRepository.GetAsync(Guid id) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Repositories\UserRepository.cs:line 34
   at ProgLibrary.Infrastructure.Services.UserService.GetAccountAsync(Guid userId) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\UserService.cs:line 44
   at ProgLibrary.API.Controllers.AccountController.GetById(Guid userId) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\AccountController.cs:line 33
   at lambda_method178(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-07 11:27:03.953 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - - - 500 - text/plain 597.1240ms
2021-11-07 11:27:10.983 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/Browse - -
2021-11-07 11:27:10.983 +01:00 [INF] Successfully validated the token.
2021-11-07 11:27:10.984 +01:00 [INF] Authorization was successful.
2021-11-07 11:27:10.985 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 11:27:10.985 +01:00 [INF] Route matched with {action = "Browse", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Browse() on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 11:27:10.986 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 11:27:10.994 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-07 11:27:11.001 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-07 11:27:11.002 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.AccountDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 11:27:11.003 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API) in 18.0752ms
2021-11-07 11:27:11.004 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 11:27:11.006 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/Browse - - - 200 - application/json;+charset=utf-8 23.7315ms
2021-11-07 12:00:32.442 +01:00 [INF] Staring Api
2021-11-07 12:00:34.272 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 12:00:34.616 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 12:00:34.617 +01:00 [INF] Hosting environment: Development
2021-11-07 12:00:34.617 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 12:00:34.680 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 12:00:34.799 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 123.2156ms
2021-11-07 12:00:34.800 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 12:00:35.063 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 262.3361ms
2021-11-07 12:00:35.210 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 12:00:35.217 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 12:00:35.274 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 12:00:35.346 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 12:00:35.346 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 12:00:35.346 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 12:00:35.357 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 149.6265ms
2021-11-07 12:00:35.365 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 124.6208ms
2021-11-07 12:00:35.396 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 178.9202ms
2021-11-07 12:00:36.584 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 12:00:37.353 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 768.8700ms
2021-11-07 12:01:01.831 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Account/Login application/json 61
2021-11-07 12:01:02.230 +01:00 [INF] No CORS policy found for the specified request.
2021-11-07 12:01:02.231 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 12:01:02.355 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 12:01:04.544 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2173.9149ms
2021-11-07 12:01:04.552 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 12:01:04.560 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to determine the relationship represented by navigation 'Reservation.Book' of type 'Book'. Either manually configure the relationship, or ignore this property using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Sqlite.Internal.SqliteModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ValidatingConvention.ProcessModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalized(IModel model)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_UsersSet()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_Users()
   at Microsoft.AspNetCore.Identity.UserManager`1.get_Users()
   at ProgLibrary.Infrastructure.Repositories.UserRepository.GetAsync(String email) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Repositories\UserRepository.cs:line 43
   at ProgLibrary.Infrastructure.Services.UserService.LoginAsync(String email, String password) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\UserService.cs:line 73
   at ProgLibrary.API.Controllers.AccountController.Login(Login command) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\AccountController.cs:line 57
   at lambda_method6(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-07 12:01:04.698 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Account/Login application/json 61 - 500 - text/plain 2866.1837ms
2021-11-07 12:17:08.670 +01:00 [INF] Staring Api
2021-11-07 12:17:10.774 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 12:17:11.841 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 12:17:11.841 +01:00 [INF] Hosting environment: Development
2021-11-07 12:17:11.842 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 12:17:12.042 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 12:17:12.162 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 122.2756ms
2021-11-07 12:17:12.291 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 12:17:12.496 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 204.7666ms
2021-11-07 12:17:12.560 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 12:17:12.637 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 12:17:12.692 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 12:17:12.692 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 12:17:12.707 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 146.6766ms
2021-11-07 12:17:12.782 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 145.2606ms
2021-11-07 12:17:13.723 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 12:17:13.740 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 12:17:13.750 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 26.5088ms
2021-11-07 12:17:14.734 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 12:17:15.194 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 460.3905ms
2021-11-07 12:19:11.126 +01:00 [INF] Staring Api
2021-11-07 12:19:14.718 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 12:19:15.247 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 12:19:15.247 +01:00 [INF] Hosting environment: Development
2021-11-07 12:19:15.247 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 12:19:15.348 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 12:19:15.449 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 103.7628ms
2021-11-07 12:19:15.456 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 12:19:15.648 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 192.8079ms
2021-11-07 12:19:15.697 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 12:19:15.756 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 12:19:15.798 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 12:19:15.798 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 12:19:15.813 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 116.0706ms
2021-11-07 12:19:15.817 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 12:19:15.831 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 12:19:15.842 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 25.2431ms
2021-11-07 12:19:15.848 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 92.8655ms
2021-11-07 12:19:16.806 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 12:19:17.411 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 604.9520ms
2021-11-07 12:20:50.272 +01:00 [INF] Staring Api
2021-11-07 12:20:52.742 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 12:20:53.169 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 12:20:53.169 +01:00 [INF] Hosting environment: Development
2021-11-07 12:20:53.169 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 12:20:53.276 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 12:20:53.397 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 12:20:53.405 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 135.2509ms
2021-11-07 12:20:53.647 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 250.4832ms
2021-11-07 12:20:53.781 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 12:20:53.836 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 12:20:53.892 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 12:20:53.892 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 12:20:53.898 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 117.2384ms
2021-11-07 12:20:53.944 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 106.7480ms
2021-11-07 12:20:54.019 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 12:20:54.027 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 12:20:54.037 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 17.7830ms
2021-11-07 12:20:55.883 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 12:20:56.354 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 470.5012ms
2021-11-07 12:24:22.329 +01:00 [INF] Staring Api
2021-11-07 12:24:23.794 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 12:24:24.144 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 12:24:24.144 +01:00 [INF] Hosting environment: Development
2021-11-07 12:24:24.144 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 12:24:24.202 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 12:24:24.686 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 486.2602ms
2021-11-07 12:24:24.726 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 12:24:24.897 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 171.3665ms
2021-11-07 12:24:24.966 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 12:24:24.967 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 12:24:24.967 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 12:24:25.035 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 12:24:25.035 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 12:24:25.035 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 12:24:25.042 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 74.4145ms
2021-11-07 12:24:25.052 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 85.3735ms
2021-11-07 12:24:25.090 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 123.5641ms
2021-11-07 12:24:25.759 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 12:24:26.296 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 537.0521ms
2021-11-07 12:24:52.314 +01:00 [INF] Staring Api
2021-11-07 12:24:55.144 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 12:24:55.551 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 12:24:55.551 +01:00 [INF] Hosting environment: Development
2021-11-07 12:24:55.551 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 12:24:55.617 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 12:24:55.723 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 12:24:55.732 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 120.7274ms
2021-11-07 12:24:55.994 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 270.8469ms
2021-11-07 12:24:56.151 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 12:24:56.181 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 12:24:56.230 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 12:24:56.230 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 12:24:56.237 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 86.2058ms
2021-11-07 12:24:56.270 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 88.0999ms
2021-11-07 12:24:56.295 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 12:24:56.306 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 12:24:56.336 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 38.4781ms
2021-11-07 12:24:57.647 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 12:24:58.208 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 561.4579ms
2021-11-07 12:27:55.458 +01:00 [INF] Staring Api
2021-11-07 12:27:58.481 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 12:27:58.931 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 12:27:58.931 +01:00 [INF] Hosting environment: Development
2021-11-07 12:27:58.931 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 12:27:59.004 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 12:27:59.087 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 12:27:59.095 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 92.6711ms
2021-11-07 12:27:59.260 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 173.7175ms
2021-11-07 12:27:59.317 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 12:27:59.318 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 12:27:59.376 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 12:27:59.402 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 12:27:59.402 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 12:27:59.405 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 12:27:59.438 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 120.0012ms
2021-11-07 12:27:59.454 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 77.4479ms
2021-11-07 12:27:59.470 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 152.5420ms
2021-11-07 12:28:01.288 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 12:28:01.877 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 589.0041ms
2021-11-07 12:32:14.894 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-07 12:32:15.052 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 12:32:15.102 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 12:32:35.405 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 12:32:36.194 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__email_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-07 12:33:09.479 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 12:33:22.619 +01:00 [INF] Dane Logowania Poprawne
2021-11-07 12:33:24.071 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 12:33:26.799 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-07 12:33:26.822 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 71711.5853ms
2021-11-07 12:33:26.823 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 12:33:26.836 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 71942.6793ms
2021-11-07 12:33:34.461 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/Browse - -
2021-11-07 12:33:34.575 +01:00 [INF] Successfully validated the token.
2021-11-07 12:33:34.589 +01:00 [INF] Authorization was successful.
2021-11-07 12:33:34.592 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 12:33:34.598 +01:00 [INF] Route matched with {action = "Browse", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Browse() on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 12:33:49.706 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 12:34:07.675 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 12:34:07.694 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-07 12:34:07.725 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-07 12:34:46.962 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.AccountDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 12:34:46.967 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API) in 72368.5772ms
2021-11-07 12:34:46.967 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 12:34:46.969 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/Browse - - - 200 - application/json;+charset=utf-8 72507.9437ms
2021-11-07 12:34:49.856 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - -
2021-11-07 12:34:49.859 +01:00 [INF] Successfully validated the token.
2021-11-07 12:34:49.860 +01:00 [INF] Authorization was successful.
2021-11-07 12:34:49.860 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 12:34:49.864 +01:00 [INF] Route matched with {action = "GetById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetById(System.Guid) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 12:35:04.481 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 12:35:04.491 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2021-11-07 12:35:25.931 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 12:35:25.932 +01:00 [INF] GetAccountAsync479ae67a-2c42-495e-95c2-17a3bb35b6d8 : 
2021-11-07 12:35:30.206 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.AccountDetailsDto'.
2021-11-07 12:35:30.213 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API) in 40349.1642ms
2021-11-07 12:35:30.214 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 12:35:30.217 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - - - 200 - application/json;+charset=utf-8 40359.0177ms
2021-11-07 13:00:51.188 +01:00 [INF] Staring Api
2021-11-07 13:00:55.490 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 13:00:56.298 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 13:00:56.298 +01:00 [INF] Hosting environment: Development
2021-11-07 13:00:56.299 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 13:00:56.463 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 13:00:56.834 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 13:00:56.846 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 389.2198ms
2021-11-07 13:00:57.137 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 302.8031ms
2021-11-07 13:00:57.401 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 13:00:57.545 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 13:00:57.561 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 13:00:57.576 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 175.5917ms
2021-11-07 13:00:57.595 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 13:00:57.638 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 92.9997ms
2021-11-07 13:00:57.638 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 13:00:57.659 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 13:00:57.674 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 35.3491ms
2021-11-07 13:00:58.629 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 13:00:59.023 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 393.8142ms
2021-11-07 13:01:17.267 +01:00 [INF] Staring Api
2021-11-07 13:01:20.205 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 13:01:20.725 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 13:01:20.725 +01:00 [INF] Hosting environment: Development
2021-11-07 13:01:20.726 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 13:01:20.797 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 13:01:20.901 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 13:01:20.911 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 117.5433ms
2021-11-07 13:01:21.076 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 175.8724ms
2021-11-07 13:01:21.185 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 13:01:21.257 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 13:01:21.292 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 13:01:21.314 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 128.4193ms
2021-11-07 13:01:21.314 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 13:01:21.366 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 108.7250ms
2021-11-07 13:01:21.376 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 13:01:21.391 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 13:01:21.403 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 26.5748ms
2021-11-07 13:01:22.486 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 13:01:22.943 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 456.7809ms
2021-11-07 13:02:46.963 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-07 13:02:47.133 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 13:02:47.189 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:02:48.749 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 13:02:49.301 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-07 13:02:49.507 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:02:49.535 +01:00 [INF] Dane Logowania Poprawne
2021-11-07 13:02:49.543 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:02:49.735 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-07 13:02:49.763 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2560.7453ms
2021-11-07 13:02:49.764 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 13:02:49.877 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2912.8982ms
2021-11-07 13:02:52.559 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/Browse - -
2021-11-07 13:02:52.699 +01:00 [INF] Successfully validated the token.
2021-11-07 13:02:52.722 +01:00 [INF] Authorization was successful.
2021-11-07 13:02:52.724 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 13:02:52.730 +01:00 [INF] Route matched with {action = "Browse", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Browse() on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:02:52.779 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 13:02:52.794 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-07 13:02:52.831 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-07 13:02:52.851 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.AccountDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 13:02:52.856 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API) in 126.2601ms
2021-11-07 13:02:52.856 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 13:02:52.858 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/Browse - - - 200 - application/json;+charset=utf-8 298.7658ms
2021-11-07 13:02:55.100 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - -
2021-11-07 13:02:55.105 +01:00 [INF] Successfully validated the token.
2021-11-07 13:02:55.106 +01:00 [INF] Authorization was successful.
2021-11-07 13:02:55.107 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 13:02:55.111 +01:00 [INF] Route matched with {action = "GetById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetById(System.Guid) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:02:55.138 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 13:02:55.147 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2021-11-07 13:03:36.709 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 13:03:42.800 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:03:47.668 +01:00 [INF] GetAccountAsync479ae67a-2c42-495e-95c2-17a3bb35b6d8 : 
2021-11-07 13:03:47.840 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
WHERE "r"."UserId" = @__Id_0
2021-11-07 13:03:58.752 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 13:04:01.297 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 13:04:16.276 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 13:04:16.933 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 13:04:16.935 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.AccountDetailsDto'.
2021-11-07 13:04:16.961 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-07 13:11:02.890 +01:00 [INF] Staring Api
2021-11-07 13:11:05.630 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 13:11:06.104 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 13:11:06.105 +01:00 [INF] Hosting environment: Development
2021-11-07 13:11:06.105 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 13:11:06.210 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 13:11:06.329 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 13:11:06.337 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 133.8078ms
2021-11-07 13:11:06.572 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 242.9562ms
2021-11-07 13:11:06.716 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 13:11:06.765 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 13:11:06.767 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 13:11:06.771 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 54.9412ms
2021-11-07 13:11:06.801 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 13:11:06.843 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 75.8271ms
2021-11-07 13:11:06.868 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 13:11:06.874 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 13:11:06.884 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 15.6501ms
2021-11-07 13:11:08.694 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 13:11:09.132 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 437.4581ms
2021-11-07 13:11:16.861 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-07 13:11:17.004 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 13:11:17.046 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:11:18.210 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 13:11:18.724 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-07 13:11:18.935 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:11:18.966 +01:00 [INF] Dane Logowania Poprawne
2021-11-07 13:11:18.978 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:11:19.157 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-07 13:11:19.176 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2121.0782ms
2021-11-07 13:11:19.177 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 13:11:19.180 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2318.5120ms
2021-11-07 13:11:20.716 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/Browse - -
2021-11-07 13:11:20.831 +01:00 [INF] Successfully validated the token.
2021-11-07 13:11:20.846 +01:00 [INF] Authorization was successful.
2021-11-07 13:11:20.847 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 13:11:20.851 +01:00 [INF] Route matched with {action = "Browse", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Browse() on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:11:20.877 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-07 13:11:20.915 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-07 13:11:20.937 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.AccountDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 13:11:20.942 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API) in 90.3635ms
2021-11-07 13:11:20.942 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 13:11:20.943 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/Browse - - - 200 - application/json;+charset=utf-8 227.1257ms
2021-11-07 13:11:21.972 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - -
2021-11-07 13:11:21.975 +01:00 [INF] Successfully validated the token.
2021-11-07 13:11:21.976 +01:00 [INF] Authorization was successful.
2021-11-07 13:11:21.977 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 13:11:21.981 +01:00 [INF] Route matched with {action = "GetById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetById(System.Guid) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:11:22.005 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2021-11-07 13:11:29.739 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 13:11:32.807 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:11:36.075 +01:00 [INF] GetAccountAsync479ae67a-2c42-495e-95c2-17a3bb35b6d8 : 
2021-11-07 13:11:36.567 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
WHERE "r"."UserId" = @__Id_0
2021-11-07 13:11:44.094 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 13:12:28.488 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 13:12:44.162 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 13:12:45.095 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 13:12:46.806 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.AccountDetailsDto'.
2021-11-07 13:13:00.971 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-07 13:13:42.824 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API) in 140837.2785ms
2021-11-07 13:13:42.830 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 13:13:42.843 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at ProgLibrary.Core.Domain.Reservation.get_Users() in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Core\Domain\Reservation.cs:line 30
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ICollectionOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-07 13:13:42.927 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - - - 500 - text/plain 140950.3403ms
2021-11-07 13:17:12.566 +01:00 [INF] Staring Api
2021-11-07 13:17:15.239 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 13:17:15.825 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 13:17:15.826 +01:00 [INF] Hosting environment: Development
2021-11-07 13:17:15.826 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 13:17:15.931 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 13:17:16.076 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 151.5461ms
2021-11-07 13:17:16.100 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 13:17:16.357 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 257.4917ms
2021-11-07 13:17:16.447 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 13:17:16.529 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 13:17:16.537 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 89.7854ms
2021-11-07 13:17:16.607 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 13:17:16.618 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 13:17:16.650 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 42.4734ms
2021-11-07 13:17:16.684 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 13:17:16.691 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 13:17:16.701 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 16.0545ms
2021-11-07 13:17:18.211 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 13:17:18.738 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 527.2739ms
2021-11-07 13:17:25.626 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-07 13:17:25.793 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 13:17:25.840 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:17:27.006 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 13:17:27.528 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-07 13:17:27.781 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:17:27.822 +01:00 [INF] Dane Logowania Poprawne
2021-11-07 13:17:27.830 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:17:28.026 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-07 13:17:28.047 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2197.7613ms
2021-11-07 13:17:28.047 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 13:17:28.052 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2425.5490ms
2021-11-07 13:17:29.330 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/Browse - -
2021-11-07 13:17:29.457 +01:00 [INF] Successfully validated the token.
2021-11-07 13:17:29.473 +01:00 [INF] Authorization was successful.
2021-11-07 13:17:29.474 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 13:17:29.478 +01:00 [INF] Route matched with {action = "Browse", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Browse() on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:17:29.503 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-07 13:17:29.536 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-07 13:17:29.560 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.AccountDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 13:17:29.567 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API) in 88.7128ms
2021-11-07 13:17:29.567 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 13:17:29.569 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/Browse - - - 200 - application/json;+charset=utf-8 238.2570ms
2021-11-07 13:17:31.038 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - -
2021-11-07 13:17:31.042 +01:00 [INF] Successfully validated the token.
2021-11-07 13:17:31.042 +01:00 [INF] Authorization was successful.
2021-11-07 13:17:31.043 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 13:17:31.048 +01:00 [INF] Route matched with {action = "GetById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetById(System.Guid) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:17:31.075 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2021-11-07 13:17:31.080 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:17:31.081 +01:00 [INF] GetAccountAsync479ae67a-2c42-495e-95c2-17a3bb35b6d8 : 
2021-11-07 13:17:31.094 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.AccountDetailsDto'.
2021-11-07 13:17:31.099 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API) in 50.808ms
2021-11-07 13:17:31.099 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 13:17:31.100 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - - - 200 - application/json;+charset=utf-8 61.8390ms
2021-11-07 13:17:39.787 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/Browse - -
2021-11-07 13:17:39.787 +01:00 [INF] Successfully validated the token.
2021-11-07 13:17:39.788 +01:00 [INF] Authorization was successful.
2021-11-07 13:17:39.789 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 13:17:39.789 +01:00 [INF] Route matched with {action = "Browse", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Browse() on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:17:39.798 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-07 13:17:39.806 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-07 13:17:39.808 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.AccountDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 13:17:39.809 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API) in 19.581ms
2021-11-07 13:17:39.809 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 13:17:39.817 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/Browse - - - 200 - application/json;+charset=utf-8 29.7587ms
2021-11-07 13:17:41.652 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/GetById/f19f4815-f4e6-4c73-be21-ddf69a0a54e0 - -
2021-11-07 13:17:41.652 +01:00 [INF] Successfully validated the token.
2021-11-07 13:17:41.653 +01:00 [INF] Authorization was successful.
2021-11-07 13:17:41.653 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 13:17:41.653 +01:00 [INF] Route matched with {action = "GetById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetById(System.Guid) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:17:41.661 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2021-11-07 13:17:41.667 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:17:41.668 +01:00 [INF] GetAccountAsyncf19f4815-f4e6-4c73-be21-ddf69a0a54e0 : 
2021-11-07 13:17:41.668 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.AccountDetailsDto'.
2021-11-07 13:17:41.669 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API) in 15.3827ms
2021-11-07 13:17:41.669 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 13:17:41.670 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/GetById/f19f4815-f4e6-4c73-be21-ddf69a0a54e0 - - - 200 - application/json;+charset=utf-8 17.8959ms
2021-11-07 13:17:42.763 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/Browse - -
2021-11-07 13:17:42.764 +01:00 [INF] Successfully validated the token.
2021-11-07 13:17:42.764 +01:00 [INF] Authorization was successful.
2021-11-07 13:17:42.764 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 13:17:42.764 +01:00 [INF] Route matched with {action = "Browse", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Browse() on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:17:42.773 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-07 13:17:42.783 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-07 13:17:42.784 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.AccountDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 13:17:42.785 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API) in 20.2732ms
2021-11-07 13:17:42.785 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 13:17:42.787 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/Browse - - - 200 - application/json;+charset=utf-8 23.9122ms
2021-11-07 13:29:46.397 +01:00 [INF] Staring Api
2021-11-07 13:29:49.367 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 13:29:49.984 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 13:29:49.984 +01:00 [INF] Hosting environment: Development
2021-11-07 13:29:49.985 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 13:29:50.108 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 13:29:50.205 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 13:29:50.207 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 103.9310ms
2021-11-07 13:29:50.446 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 239.6603ms
2021-11-07 13:29:50.504 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 13:29:50.516 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 13:29:50.584 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 13:29:50.585 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 13:29:50.591 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 86.3050ms
2021-11-07 13:29:50.617 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 13:29:50.632 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 13:29:50.644 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 125.8732ms
2021-11-07 13:29:50.649 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 31.9176ms
2021-11-07 13:29:51.795 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 13:29:52.346 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 550.8295ms
2021-11-07 13:30:00.231 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-07 13:30:00.469 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 13:30:00.562 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:30:02.427 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 13:30:03.065 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__email_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-07 13:30:08.666 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 13:30:08.764 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:30:08.808 +01:00 [INF] Dane Logowania Poprawne
2021-11-07 13:30:08.821 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:30:09.028 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-07 13:30:09.047 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 8478.4688ms
2021-11-07 13:30:09.048 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 13:30:09.051 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 8819.7315ms
2021-11-07 13:30:14.823 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/Browse - -
2021-11-07 13:30:14.953 +01:00 [INF] Successfully validated the token.
2021-11-07 13:30:14.969 +01:00 [INF] Authorization was successful.
2021-11-07 13:30:14.970 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 13:30:14.975 +01:00 [INF] Route matched with {action = "Browse", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Browse() on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:30:14.997 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-07 13:30:15.026 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-07 13:30:15.044 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.AccountDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 13:30:15.049 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API) in 74.6711ms
2021-11-07 13:30:15.050 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 13:30:15.051 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/Browse - - - 200 - application/json;+charset=utf-8 228.5239ms
2021-11-07 13:30:17.038 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - -
2021-11-07 13:30:17.042 +01:00 [INF] Successfully validated the token.
2021-11-07 13:30:17.043 +01:00 [INF] Authorization was successful.
2021-11-07 13:30:17.044 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 13:30:17.050 +01:00 [INF] Route matched with {action = "GetById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetById(System.Guid) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:30:17.076 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2021-11-07 13:30:29.540 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:30:41.650 +01:00 [INF] GetAccountAsync479ae67a-2c42-495e-95c2-17a3bb35b6d8 : 
2021-11-07 13:30:42.093 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
WHERE "r"."UserId" = @__Id_0
2021-11-07 13:30:53.499 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 13:30:56.965 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 13:31:01.464 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 13:31:01.469 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.AccountDetailsDto'.
2021-11-07 13:31:01.495 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-07 13:35:18.889 +01:00 [INF] Staring Api
2021-11-07 13:35:20.656 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 13:35:21.526 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 13:35:21.527 +01:00 [INF] Hosting environment: Development
2021-11-07 13:35:21.527 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 13:35:21.596 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 13:35:21.677 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 13:35:21.685 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 92.3767ms
2021-11-07 13:35:21.850 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 172.8446ms
2021-11-07 13:35:21.900 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 13:35:21.901 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 13:35:21.947 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 13:35:21.970 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 13:35:21.970 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 13:35:21.970 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 13:35:21.974 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 74.0276ms
2021-11-07 13:35:21.984 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 37.7146ms
2021-11-07 13:35:22.004 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 103.4349ms
2021-11-07 13:35:25.817 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 13:35:26.337 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 519.9047ms
2021-11-07 13:35:49.583 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-07 13:35:49.742 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 13:35:49.791 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:35:51.038 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 13:35:51.586 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__email_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-07 13:35:51.766 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 13:35:51.857 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:35:51.886 +01:00 [INF] Dane Logowania Poprawne
2021-11-07 13:35:51.894 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:35:52.128 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-07 13:35:52.144 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2345.0613ms
2021-11-07 13:35:52.144 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 13:35:52.154 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2571.2252ms
2021-11-07 13:35:56.354 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/Browse - -
2021-11-07 13:35:56.477 +01:00 [INF] Successfully validated the token.
2021-11-07 13:35:56.494 +01:00 [INF] Authorization was successful.
2021-11-07 13:35:56.495 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 13:35:56.502 +01:00 [INF] Route matched with {action = "Browse", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Browse() on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:35:56.522 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 13:35:56.536 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-07 13:35:56.573 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-07 13:35:56.602 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.AccountDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 13:35:56.612 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API) in 109.8869ms
2021-11-07 13:35:56.612 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Browse (ProgLibrary.API)'
2021-11-07 13:35:56.626 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/Browse - - - 200 - application/json;+charset=utf-8 272.5776ms
2021-11-07 13:35:58.292 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/GetById/479ae67a-2c42-495e-95c2-17a3bb35b6d8 - -
2021-11-07 13:35:58.295 +01:00 [INF] Successfully validated the token.
2021-11-07 13:35:58.296 +01:00 [INF] Authorization was successful.
2021-11-07 13:35:58.298 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.GetById (ProgLibrary.API)'
2021-11-07 13:35:58.302 +01:00 [INF] Route matched with {action = "GetById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetById(System.Guid) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:35:58.322 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 13:35:58.332 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 1
2021-11-07 13:36:02.269 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 13:36:02.765 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:36:04.685 +01:00 [INF] GetAccountAsync479ae67a-2c42-495e-95c2-17a3bb35b6d8 : 
2021-11-07 13:36:05.777 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
WHERE "r"."UserId" = @__Id_0
2021-11-07 13:36:09.407 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 13:55:06.821 +01:00 [INF] Staring Api
2021-11-07 13:55:08.689 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 13:55:09.133 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 13:55:09.134 +01:00 [INF] Hosting environment: Development
2021-11-07 13:55:09.134 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 13:55:09.223 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 13:55:09.339 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 13:55:09.344 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 126.8472ms
2021-11-07 13:55:09.548 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 208.1924ms
2021-11-07 13:55:09.641 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 13:55:09.642 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 13:55:09.704 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 13:55:09.745 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 13:55:09.745 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 13:55:09.745 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 13:55:09.750 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 107.6170ms
2021-11-07 13:55:09.767 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 95.2100ms
2021-11-07 13:55:09.801 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 159.0477ms
2021-11-07 13:55:10.533 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 13:55:10.974 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 441.7039ms
2021-11-07 13:57:13.650 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Account/Login application/json 61
2021-11-07 13:57:13.856 +01:00 [INF] No CORS policy found for the specified request.
2021-11-07 13:57:13.857 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 13:57:13.904 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:57:15.131 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 13:57:15.670 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__email_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-07 13:57:15.903 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:57:15.933 +01:00 [INF] Dane Logowania Poprawne
2021-11-07 13:57:15.941 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:57:16.133 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-07 13:57:16.148 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2237.7838ms
2021-11-07 13:57:16.149 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 13:57:16.155 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Account/Login application/json 61 - 200 - application/json;+charset=utf-8 2505.7380ms
2021-11-07 13:57:41.526 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Account/GetByEmail?userEmail=admin%40admin.pl - -
2021-11-07 13:57:41.673 +01:00 [INF] Successfully validated the token.
2021-11-07 13:57:41.689 +01:00 [INF] Authorization was successful.
2021-11-07 13:57:41.691 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.GetByEmail (ProgLibrary.API)'
2021-11-07 13:57:41.696 +01:00 [INF] Route matched with {action = "GetByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetByEmail(System.String) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 13:57:41.751 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 13:57:41.756 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-07 13:57:41.761 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 13:57:41.762 +01:00 [INF] GetAccountAsyncadmin@admin.pl : 
2021-11-07 13:57:53.298 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.AccountDetailsDto'.
2021-11-07 13:57:53.308 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.GetByEmail (ProgLibrary.API) in 11611.951ms
2021-11-07 13:57:53.308 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.GetByEmail (ProgLibrary.API)'
2021-11-07 13:57:53.309 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Account/GetByEmail?userEmail=admin%40admin.pl - - - 200 - application/json;+charset=utf-8 11782.9223ms
2021-11-07 14:00:17.900 +01:00 [INF] Staring Api
2021-11-07 14:00:19.607 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 14:00:19.974 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 14:00:19.974 +01:00 [INF] Hosting environment: Development
2021-11-07 14:00:19.974 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 14:00:20.035 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 14:00:20.123 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 83.4263ms
2021-11-07 14:00:20.123 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 14:00:20.247 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 123.9660ms
2021-11-07 14:00:20.308 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 14:00:20.309 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 14:00:20.309 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 14:00:20.415 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 14:00:20.415 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 14:00:20.415 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 14:00:20.419 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 111.4192ms
2021-11-07 14:00:20.435 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 125.9282ms
2021-11-07 14:00:20.477 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 167.9768ms
2021-11-07 14:00:21.309 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 14:00:21.693 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 384.4899ms
2021-11-07 14:00:43.874 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Account/Login application/json 72
2021-11-07 14:00:44.062 +01:00 [INF] No CORS policy found for the specified request.
2021-11-07 14:00:44.063 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 14:00:44.109 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 14:00:45.324 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 14:00:45.912 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-07 14:13:35.399 +01:00 [INF] Staring Api
2021-11-07 14:13:37.065 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 14:13:37.412 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 14:13:37.412 +01:00 [INF] Hosting environment: Development
2021-11-07 14:13:37.412 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 14:13:37.471 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 14:13:37.553 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 85.6522ms
2021-11-07 14:13:37.555 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 14:13:37.685 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 130.4022ms
2021-11-07 14:13:37.790 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 14:13:37.793 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 14:13:37.795 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 14:13:37.859 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 14:13:37.859 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 14:13:37.859 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 14:13:37.873 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 77.7975ms
2021-11-07 14:13:37.873 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 80.4450ms
2021-11-07 14:13:37.910 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 116.0101ms
2021-11-07 14:13:38.762 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 14:13:39.165 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 403.1541ms
2021-11-07 14:14:01.725 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Account/Login application/json 61
2021-11-07 14:14:01.926 +01:00 [INF] No CORS policy found for the specified request.
2021-11-07 14:14:01.927 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 14:14:01.983 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 14:14:03.240 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 1247.0401ms
2021-11-07 14:14:03.244 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 14:14:03.249 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No suitable constructor was found for entity type 'User'. The following constructors had parameters that could not be bound to properties of the entity type: cannot bind 'reservationRepository', 'bookRepository' in 'User(AuthenticationDbContext authContext, IReservationRepository reservationRepository, IBookRepository bookRepository)'; cannot bind 'name' in 'User(Guid id, string name, string email)'.
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ConstructorBindingConvention.ProcessModelFinalizing(IConventionModelBuilder modelBuilder, IConventionContext`1 context)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_UsersSet()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_Users()
   at Microsoft.AspNetCore.Identity.UserManager`1.get_Users()
   at ProgLibrary.Infrastructure.Repositories.UserRepository.GetAsync(String email) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Repositories\UserRepository.cs:line 43
   at ProgLibrary.Infrastructure.Services.UserService.LoginAsync(String email, String password) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\UserService.cs:line 73
   at ProgLibrary.API.Controllers.AccountController.Login(Login command) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\AccountController.cs:line 57
   at lambda_method6(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-07 14:14:03.353 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Account/Login application/json 61 - 500 - text/plain 1628.1767ms
2021-11-07 14:15:15.304 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Account/Login application/json 61
2021-11-07 14:15:15.318 +01:00 [INF] No CORS policy found for the specified request.
2021-11-07 14:15:15.319 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 14:15:15.319 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 14:15:15.550 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 229.6047ms
2021-11-07 14:15:15.550 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 14:15:15.553 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No suitable constructor was found for entity type 'User'. The following constructors had parameters that could not be bound to properties of the entity type: cannot bind 'reservationRepository', 'bookRepository' in 'User(AuthenticationDbContext authContext, IReservationRepository reservationRepository, IBookRepository bookRepository)'; cannot bind 'name' in 'User(Guid id, string name, string email)'.
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ConstructorBindingConvention.ProcessModelFinalizing(IConventionModelBuilder modelBuilder, IConventionContext`1 context)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_UsersSet()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_Users()
   at Microsoft.AspNetCore.Identity.UserManager`1.get_Users()
   at ProgLibrary.Infrastructure.Repositories.UserRepository.GetAsync(String email) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Repositories\UserRepository.cs:line 43
   at ProgLibrary.Infrastructure.Services.UserService.LoginAsync(String email, String password) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\UserService.cs:line 73
   at ProgLibrary.API.Controllers.AccountController.Login(Login command) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\AccountController.cs:line 57
   at lambda_method6(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-07 14:15:15.580 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Account/Login application/json 61 - 500 - text/plain 275.0434ms
2021-11-07 14:16:42.575 +01:00 [INF] Staring Api
2021-11-07 14:16:45.218 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 14:16:45.549 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 14:16:45.549 +01:00 [INF] Hosting environment: Development
2021-11-07 14:16:45.549 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 14:16:45.616 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 14:16:45.706 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 14:16:45.710 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 95.8050ms
2021-11-07 14:16:45.883 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 176.7119ms
2021-11-07 14:16:45.939 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 14:16:45.940 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 14:16:45.940 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 14:16:46.007 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 14:16:46.007 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 14:16:46.007 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 14:16:46.047 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 107.2358ms
2021-11-07 14:16:46.056 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 116.5872ms
2021-11-07 14:16:46.085 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 145.3503ms
2021-11-07 14:16:46.845 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 14:16:47.264 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 418.5276ms
2021-11-07 14:17:03.195 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Account/Login application/json 61
2021-11-07 14:17:03.367 +01:00 [INF] No CORS policy found for the specified request.
2021-11-07 14:17:03.367 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 14:17:03.422 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 14:17:04.627 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 1199.934ms
2021-11-07 14:17:04.631 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 14:17:04.634 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No suitable constructor was found for entity type 'User'. The following constructors had parameters that could not be bound to properties of the entity type: cannot bind 'reservationRepository', 'bookRepository' in 'User(AuthenticationDbContext authContext, IReservationRepository reservationRepository, IBookRepository bookRepository)'; cannot bind 'reservationRepository', 'bookRepository' in 'User(IReservationRepository reservationRepository, IBookRepository bookRepository)'; cannot bind 'name' in 'User(Guid id, string name, string email)'.
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ConstructorBindingConvention.ProcessModelFinalizing(IConventionModelBuilder modelBuilder, IConventionContext`1 context)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_UsersSet()
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.get_Users()
   at Microsoft.AspNetCore.Identity.UserManager`1.get_Users()
   at ProgLibrary.Infrastructure.Repositories.UserRepository.GetAsync(String email) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Repositories\UserRepository.cs:line 43
   at ProgLibrary.Infrastructure.Services.UserService.LoginAsync(String email, String password) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\UserService.cs:line 73
   at ProgLibrary.API.Controllers.AccountController.Login(Login command) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\AccountController.cs:line 57
   at lambda_method6(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-07 14:17:04.802 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Account/Login application/json 61 - 500 - text/plain 1606.4927ms
2021-11-07 21:00:54.300 +01:00 [INF] Staring Api
2021-11-07 21:00:56.580 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-07 21:00:57.152 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-07 21:00:57.152 +01:00 [INF] Hosting environment: Development
2021-11-07 21:00:57.152 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-07 21:00:57.227 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-07 21:00:57.329 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-07 21:00:57.337 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 106.3907ms
2021-11-07 21:00:57.596 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 266.6223ms
2021-11-07 21:00:57.698 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-07 21:00:57.698 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-07 21:00:57.702 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-07 21:00:57.833 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-07 21:00:57.833 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-07 21:00:57.849 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-07 21:00:57.855 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 156.2663ms
2021-11-07 21:00:57.863 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 163.5592ms
2021-11-07 21:00:57.894 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 195.3690ms
2021-11-07 21:00:59.321 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-07 21:00:59.822 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 500.8859ms
2021-11-07 21:01:08.984 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Books/Get - -
2021-11-07 21:01:09.219 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user)
2021-11-07 21:01:09.228 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-07 21:01:09.230 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Books/Get - - - 401 - - 246.2765ms
2021-11-07 21:01:25.289 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Account/Login application/json 61
2021-11-07 21:01:25.311 +01:00 [INF] No CORS policy found for the specified request.
2021-11-07 21:01:25.312 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 21:01:25.366 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-07 21:01:26.610 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 21:01:27.223 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__email_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-07 21:01:27.416 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 21:01:27.511 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 21:01:27.545 +01:00 [INF] Dane Logowania Poprawne
2021-11-07 21:01:27.553 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-07 21:01:27.771 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-07 21:01:27.787 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2415.1131ms
2021-11-07 21:01:27.788 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-07 21:01:27.795 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Account/Login application/json 61 - 200 - application/json;+charset=utf-8 2505.4505ms
2021-11-07 21:01:47.930 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Books/Get - -
2021-11-07 21:01:48.067 +01:00 [INF] Successfully validated the token.
2021-11-07 21:01:48.070 +01:00 [INF] Authorization was successful.
2021-11-07 21:01:48.072 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-07 21:01:48.079 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-07 21:01:54.453 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 21:01:54.465 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 21:02:02.702 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 21:02:02.707 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 14626.4721ms
2021-11-07 21:02:02.707 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-07 21:02:02.708 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 14777.1824ms
2021-11-07 21:02:09.125 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Books/Get?title=%22%22 - -
2021-11-07 21:02:09.128 +01:00 [INF] Successfully validated the token.
2021-11-07 21:02:09.129 +01:00 [INF] Authorization was successful.
2021-11-07 21:02:09.130 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-07 21:02:09.130 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-07 21:02:19.387 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 21:02:19.394 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 21:02:21.358 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 21:02:21.359 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 12227.3336ms
2021-11-07 21:02:21.359 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-07 21:02:21.366 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Books/Get?title=%22%22 - - - 200 - application/json;+charset=utf-8 12238.8605ms
2021-11-07 21:03:18.068 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Books/Get?title=%22%22 - -
2021-11-07 21:03:18.071 +01:00 [INF] Successfully validated the token.
2021-11-07 21:03:18.071 +01:00 [INF] Authorization was successful.
2021-11-07 21:03:18.075 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-07 21:03:18.075 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-07 21:03:27.792 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 21:03:27.798 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 21:03:27.798 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 21:03:27.799 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 9722.7875ms
2021-11-07 21:03:27.799 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-07 21:03:27.801 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Books/Get?title=%22%22 - - - 200 - application/json;+charset=utf-8 9731.5009ms
2021-11-07 21:03:31.415 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Books/Get - -
2021-11-07 21:03:31.415 +01:00 [INF] Successfully validated the token.
2021-11-07 21:03:31.416 +01:00 [INF] Authorization was successful.
2021-11-07 21:03:31.416 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-07 21:03:31.416 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-07 21:03:41.485 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 21:03:41.494 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 21:03:50.068 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 21:03:50.069 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 18651.313ms
2021-11-07 21:03:50.069 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-07 21:03:50.070 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 18654.3234ms
2021-11-07 21:03:58.373 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Books/Get - -
2021-11-07 21:03:58.373 +01:00 [INF] Successfully validated the token.
2021-11-07 21:03:58.373 +01:00 [INF] Authorization was successful.
2021-11-07 21:03:58.374 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-07 21:03:58.374 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-07 21:04:31.109 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 21:04:32.536 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 21:04:40.763 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 21:04:40.763 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 21:04:40.764 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 42387.9344ms
2021-11-07 21:04:40.764 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-07 21:04:40.766 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 42391.0284ms
2021-11-07 21:05:11.025 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Books/Create application/json 156
2021-11-07 21:05:11.027 +01:00 [INF] Successfully validated the token.
2021-11-07 21:05:11.061 +01:00 [INF] No CORS policy found for the specified request.
2021-11-07 21:05:11.061 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-07 21:05:11.066 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-07 21:05:15.334 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 21:05:15.345 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__title_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-07 21:05:19.424 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (Size = 3), @p2='?' (Size = 3), @p3='?', @p4='?' (Size = 3), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-07 21:05:19.453 +01:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-11-07 21:05:19.458 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 8391.219ms
2021-11-07 21:05:19.458 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-07 21:05:19.463 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Books/Create application/json 156 - 200 - application/json;+charset=utf-8 8438.1833ms
2021-11-07 21:05:34.612 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Books/Create application/json 159
2021-11-07 21:05:34.613 +01:00 [INF] Successfully validated the token.
2021-11-07 21:05:34.615 +01:00 [INF] No CORS policy found for the specified request.
2021-11-07 21:05:34.615 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-07 21:05:34.615 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-07 21:05:34.617 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 21:05:34.624 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__title_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-07 21:05:34.641 +01:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?', @p1='?' (Size = 4), @p2='?' (Size = 4), @p3='?', @p4='?' (Size = 4), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-07 21:05:34.723 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'ProgLibrary.Core.DAL.LibraryDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Books.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Books.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2021-11-07 21:05:34.929 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 313.8175ms
2021-11-07 21:05:34.931 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-07 21:05:34.933 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Books.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ProgLibrary.Infrastructure.Repositories.BookRepository.AddAsync(Book book) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Repositories\BookRepository.cs:line 39
   at ProgLibrary.Infrastructure.Services.BookService.CreateAsync(Guid id, String title, String author, DateTime releasedDate, String description) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\BookService.cs:line 49
   at ProgLibrary.API.Controllers.BooksController.Create(CreateBook command) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\BooksController.cs:line 49
   at lambda_method148(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-07 21:05:34.993 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Books/Create application/json 159 - 500 - text/plain 380.0995ms
2021-11-07 21:05:46.435 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Books/Create application/json 159
2021-11-07 21:05:46.437 +01:00 [INF] Successfully validated the token.
2021-11-07 21:05:46.437 +01:00 [INF] No CORS policy found for the specified request.
2021-11-07 21:05:46.437 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-07 21:05:46.437 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-07 21:05:46.441 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 21:05:46.447 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__title_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-07 21:05:46.454 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (Size = 4), @p2='?' (Size = 4), @p3='?', @p4='?' (Size = 4), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-07 21:05:46.458 +01:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-11-07 21:05:46.459 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 21.1294ms
2021-11-07 21:05:46.459 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-07 21:05:46.460 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Books/Create application/json 159 - 200 - application/json;+charset=utf-8 24.4418ms
2021-11-07 21:06:02.145 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Books/Get - -
2021-11-07 21:06:02.145 +01:00 [INF] Successfully validated the token.
2021-11-07 21:06:02.146 +01:00 [INF] Authorization was successful.
2021-11-07 21:06:02.146 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-07 21:06:02.146 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-07 21:06:05.896 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-07 21:06:05.902 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-07 21:06:05.912 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-07 21:06:05.913 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-07 21:06:05.913 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-07 21:06:05.924 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 3777.7876ms
2021-11-07 21:06:05.925 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-07 21:06:05.926 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 3780.9651ms
