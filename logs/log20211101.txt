2021-11-01 08:55:46.891 +01:00 [INF] Staring Api
2021-11-01 08:55:50.061 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 08:55:50.420 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 08:55:50.420 +01:00 [INF] Hosting environment: Development
2021-11-01 08:55:50.420 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 08:55:50.474 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 08:55:50.530 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 08:55:50.541 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 69.3318ms
2021-11-01 08:55:50.654 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 124.2722ms
2021-11-01 08:55:50.775 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 08:55:50.867 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 08:55:50.927 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 08:55:50.927 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 08:55:50.970 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 194.4156ms
2021-11-01 08:55:51.041 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 173.7126ms
2021-11-01 08:55:51.204 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 08:55:51.218 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 08:55:51.235 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 30.6860ms
2021-11-01 08:55:55.455 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 08:55:55.729 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 274.6178ms
2021-11-01 08:56:23.750 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Account/Login application/json 74
2021-11-01 08:56:23.958 +01:00 [INF] No CORS policy found for the specified request.
2021-11-01 08:56:23.959 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 08:56:24.014 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 08:56:25.179 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 08:56:25.673 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 08:56:25.922 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 08:56:25.952 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 08:56:25.958 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 08:56:26.154 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 08:56:26.169 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2146.548ms
2021-11-01 08:56:26.170 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 08:56:26.176 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Account/Login application/json 74 - 200 - application/json;+charset=utf-8 2430.5223ms
2021-11-01 08:57:05.792 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 08:57:05.891 +01:00 [INF] Successfully validated the token.
2021-11-01 08:57:05.905 +01:00 [INF] Authorization was successful.
2021-11-01 08:57:05.906 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 08:57:05.910 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 08:57:05.957 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 08:57:05.969 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 08:57:05.998 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 08:57:06.000 +01:00 [INF] Executing JsonResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Collections.Generic.IList`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-01 08:57:06.025 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 114.954ms
2021-11-01 08:57:06.026 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 08:57:06.029 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 237.3848ms
2021-11-01 08:58:31.143 +01:00 [INF] Request starting HTTP/2 DELETE https://localhost:44336/api/Administration/zxc - -
2021-11-01 08:58:31.162 +01:00 [INF] Successfully validated the token.
2021-11-01 08:58:31.166 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (superadmin)
2021-11-01 08:58:31.171 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2021-11-01 08:58:31.174 +01:00 [INF] Request finished HTTP/2 DELETE https://localhost:44336/api/Administration/zxc - - - 403 - - 31.3568ms
2021-11-01 09:01:56.124 +01:00 [INF] Staring Api
2021-11-01 09:01:58.807 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 09:01:59.421 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 09:01:59.421 +01:00 [INF] Hosting environment: Development
2021-11-01 09:01:59.422 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 09:01:59.558 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 09:01:59.650 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 09:01:59.658 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 106.7979ms
2021-11-01 09:01:59.804 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 154.0131ms
2021-11-01 09:01:59.861 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 09:01:59.876 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 09:01:59.928 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 09:01:59.947 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 09:01:59.947 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 09:01:59.947 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 09:01:59.961 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 100.0831ms
2021-11-01 09:01:59.965 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 36.4730ms
2021-11-01 09:01:59.995 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 119.5075ms
2021-11-01 09:02:01.266 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 09:02:01.548 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 282.0158ms
2021-11-01 09:02:13.965 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 09:02:14.175 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2021-11-01 09:02:14.183 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-01 09:02:14.185 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Administration/GetUsers - - - 401 - - 219.9426ms
2021-11-01 09:02:32.192 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Account/Login application/json 74
2021-11-01 09:02:32.220 +01:00 [INF] No CORS policy found for the specified request.
2021-11-01 09:02:32.221 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 09:02:32.278 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 09:02:33.511 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:02:34.038 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 09:02:34.252 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 09:02:34.281 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 09:02:34.288 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 09:02:34.497 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 09:02:34.512 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2228.4504ms
2021-11-01 09:02:34.513 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 09:02:34.521 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Account/Login application/json 74 - 200 - application/json;+charset=utf-8 2329.6592ms
2021-11-01 09:02:46.536 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 09:02:46.647 +01:00 [INF] Successfully validated the token.
2021-11-01 09:02:46.649 +01:00 [INF] Authorization was successful.
2021-11-01 09:02:46.654 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 09:02:46.659 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 09:02:46.702 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:02:46.713 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 09:02:46.739 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 09:02:46.741 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 09:02:46.755 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 95.732ms
2021-11-01 09:02:46.755 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 09:02:46.756 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 219.8587ms
2021-11-01 09:03:41.895 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Account/Register application/json 99
2021-11-01 09:03:41.903 +01:00 [INF] Successfully validated the token.
2021-11-01 09:03:41.905 +01:00 [INF] No CORS policy found for the specified request.
2021-11-01 09:03:41.905 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Register (ProgLibrary.API)'
2021-11-01 09:03:41.908 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Register(ProgLibrary.Infrastructure.Commands.User.Register) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 09:03:41.939 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:03:41.956 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2021-11-01 09:03:41.970 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2021-11-01 09:03:41.973 +01:00 [INF] Utworzono User : 'user' 
2021-11-01 09:03:42.031 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2021-11-01 09:03:42.042 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2021-11-01 09:03:42.208 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 36), @p3='?' (Size = 21), @p4='?', @p5='?', @p6='?', @p7='?' (Size = 21), @p8='?' (Size = 11), @p9='?' (Size = 84), @p10='?', @p11='?', @p12='?' (Size = 32), @p13='?', @p14='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2021-11-01 09:03:42.247 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 09:03:42.272 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?', @__get_Item_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE ("a"."UserId" = @__get_Item_0) AND ("a"."RoleId" = @__get_Item_1)
LIMIT 1
2021-11-01 09:03:42.279 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 09:03:42.310 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2021-11-01 09:03:42.318 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 21)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2021-11-01 09:03:42.345 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2021-11-01 09:03:42.353 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p14='?', @p0='?', @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 21), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 21), @p7='?' (Size = 11), @p8='?' (Size = 84), @p9='?', @p10='?', @p11='?' (Size = 32), @p12='?', @p13='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15;
SELECT changes();
2021-11-01 09:03:42.364 +01:00 [INF] Executing JsonResult, writing value of type 'Microsoft.AspNetCore.Mvc.CreatedResult'.
2021-11-01 09:03:42.373 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Register (ProgLibrary.API) in 464.4513ms
2021-11-01 09:03:42.373 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Register (ProgLibrary.API)'
2021-11-01 09:03:42.374 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Account/Register application/json 99 - 200 - application/json;+charset=utf-8 478.9912ms
2021-11-01 09:04:05.727 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Account/Register application/json 94
2021-11-01 09:04:05.731 +01:00 [INF] Successfully validated the token.
2021-11-01 09:04:05.731 +01:00 [INF] No CORS policy found for the specified request.
2021-11-01 09:04:05.731 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Register (ProgLibrary.API)'
2021-11-01 09:04:05.734 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Register(ProgLibrary.Infrastructure.Commands.User.Register) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 09:04:05.754 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:04:05.757 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2021-11-01 09:04:05.763 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
2021-11-01 09:04:05.765 +01:00 [INF] Utworzono User : 'user' 
2021-11-01 09:04:05.780 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2021-11-01 09:04:05.783 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2021-11-01 09:04:05.787 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 36), @p3='?' (Size = 17), @p4='?', @p5='?', @p6='?', @p7='?' (Size = 17), @p8='?' (Size = 10), @p9='?' (Size = 84), @p10='?', @p11='?', @p12='?' (Size = 32), @p13='?', @p14='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2021-11-01 09:04:05.797 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 09:04:05.802 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?', @__get_Item_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."UserId", "a"."RoleId"
FROM "AspNetUserRoles" AS "a"
WHERE ("a"."UserId" = @__get_Item_0) AND ("a"."RoleId" = @__get_Item_1)
LIMIT 1
2021-11-01 09:04:05.807 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 09:04:05.811 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2021-11-01 09:04:05.815 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2021-11-01 09:04:05.819 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
2021-11-01 09:04:05.819 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?', @p0='?', @p1='?' (Size = 36), @p15='?' (Size = 36), @p2='?' (Size = 17), @p3='?', @p4='?', @p5='?', @p6='?' (Size = 17), @p7='?' (Size = 10), @p8='?' (Size = 84), @p9='?', @p10='?', @p11='?' (Size = 32), @p12='?', @p13='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TwoFactorEnabled" = @p12, "UserName" = @p13
WHERE "Id" = @p14 AND "ConcurrencyStamp" = @p15;
SELECT changes();
2021-11-01 09:04:05.827 +01:00 [INF] Executing JsonResult, writing value of type 'Microsoft.AspNetCore.Mvc.CreatedResult'.
2021-11-01 09:04:05.828 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Register (ProgLibrary.API) in 93.7375ms
2021-11-01 09:04:05.828 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Register (ProgLibrary.API)'
2021-11-01 09:04:05.828 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Account/Register application/json 94 - 200 - application/json;+charset=utf-8 101.4389ms
2021-11-01 09:04:08.832 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 09:04:08.833 +01:00 [INF] Successfully validated the token.
2021-11-01 09:04:08.834 +01:00 [INF] Authorization was successful.
2021-11-01 09:04:08.834 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 09:04:08.835 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 09:04:08.836 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:04:08.839 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 09:04:08.846 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 09:04:08.848 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 09:04:08.855 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 19.7368ms
2021-11-01 09:04:08.855 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 09:04:08.859 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 27.2978ms
2021-11-01 09:15:26.308 +01:00 [INF] Staring Api
2021-11-01 09:15:28.930 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 09:15:29.330 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 09:15:29.330 +01:00 [INF] Hosting environment: Development
2021-11-01 09:15:29.330 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 09:15:29.416 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 09:15:29.490 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 09:15:29.499 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 85.6844ms
2021-11-01 09:15:29.682 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 191.0955ms
2021-11-01 09:15:29.752 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 09:15:29.796 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 09:15:29.830 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 09:15:29.830 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 09:15:29.835 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 83.4579ms
2021-11-01 09:15:29.871 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 75.2472ms
2021-11-01 09:15:29.897 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 09:15:29.904 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 09:15:29.912 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 15.1350ms
2021-11-01 09:15:31.649 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 09:15:31.814 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 165.3735ms
2021-11-01 09:15:42.805 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 09:15:42.982 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 09:15:43.037 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 09:15:44.167 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:15:44.682 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 09:15:44.900 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 09:15:44.932 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 09:15:44.937 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 09:15:45.133 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 09:15:45.150 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2106.009ms
2021-11-01 09:15:45.151 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 09:15:45.158 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2353.1070ms
2021-11-01 09:15:46.609 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 09:15:46.707 +01:00 [INF] Successfully validated the token.
2021-11-01 09:15:46.709 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 09:15:46.715 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations(System.String) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 09:15:48.726 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:15:48.774 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
INNER JOIN "AspNetUsers" AS "a" ON "r"."UserId" = "a"."Id"
WHERE "a"."Email" IS NULL
2021-11-01 09:15:49.512 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 09:15:49.516 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 2800.6918ms
2021-11-01 09:15:49.516 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 09:15:49.518 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 2908.8040ms
2021-11-01 09:16:05.327 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 09:16:05.331 +01:00 [INF] Successfully validated the token.
2021-11-01 09:16:05.352 +01:00 [INF] Authorization was successful.
2021-11-01 09:16:05.354 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 09:16:05.358 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 09:16:14.446 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:16:14.459 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 09:16:14.489 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 09:16:14.496 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 09:16:20.825 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 15466.8002ms
2021-11-01 09:16:20.825 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 09:16:20.828 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 15500.4437ms
2021-11-01 09:16:32.973 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 09:16:32.975 +01:00 [INF] Successfully validated the token.
2021-11-01 09:16:32.984 +01:00 [INF] Authorization was successful.
2021-11-01 09:16:32.985 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 09:16:32.989 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 09:16:33.002 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:16:33.011 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 09:16:33.046 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:16:33.047 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:16:33.048 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:16:33.050 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:16:33.051 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:16:33.051 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:16:33.052 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:16:33.052 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:16:33.052 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:16:33.053 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:16:33.056 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 09:16:33.064 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 74.2556ms
2021-11-01 09:16:33.064 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 09:16:33.066 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 92.1894ms
2021-11-01 09:27:39.649 +01:00 [INF] Staring Api
2021-11-01 09:27:42.302 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 09:27:42.761 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 09:27:42.761 +01:00 [INF] Hosting environment: Development
2021-11-01 09:27:42.761 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 09:27:42.838 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 09:27:42.911 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 09:27:42.916 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 81.5914ms
2021-11-01 09:27:43.078 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 166.8353ms
2021-11-01 09:27:43.135 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 09:27:43.215 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 09:27:43.221 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 85.1732ms
2021-11-01 09:27:43.229 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 09:27:43.241 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 09:27:43.273 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 43.6961ms
2021-11-01 09:27:43.322 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 09:27:43.332 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 09:27:43.343 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 20.1706ms
2021-11-01 09:27:45.028 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 09:27:45.281 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 253.4390ms
2021-11-01 09:27:54.104 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 09:27:54.292 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 09:27:54.346 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 09:27:55.947 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:27:56.605 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 09:27:56.941 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 09:27:56.981 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 09:27:56.990 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 09:27:57.221 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 09:27:57.248 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2888.1771ms
2021-11-01 09:27:57.249 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 09:27:57.265 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 3161.1946ms
2021-11-01 09:27:59.159 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 09:27:59.296 +01:00 [INF] Successfully validated the token.
2021-11-01 09:27:59.299 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 09:27:59.308 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations(System.String) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 09:28:03.059 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:28:03.098 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
INNER JOIN "AspNetUsers" AS "a" ON "r"."UserId" = "a"."Id"
WHERE "a"."Email" IS NULL
2021-11-01 09:28:04.389 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 09:28:04.392 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 5084.2517ms
2021-11-01 09:28:04.392 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 09:28:04.394 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 5234.4597ms
2021-11-01 09:28:06.790 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 09:28:06.794 +01:00 [INF] Successfully validated the token.
2021-11-01 09:28:06.809 +01:00 [INF] Authorization was successful.
2021-11-01 09:28:06.811 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 09:28:06.814 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 09:28:13.453 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:28:13.468 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 09:28:13.506 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 09:28:13.515 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 09:28:17.669 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 10854.1724ms
2021-11-01 09:28:17.669 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 09:28:17.680 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 10889.8076ms
2021-11-01 09:38:26.603 +01:00 [INF] Staring Api
2021-11-01 09:38:28.636 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 09:38:29.060 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 09:38:29.061 +01:00 [INF] Hosting environment: Development
2021-11-01 09:38:29.061 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 09:38:29.124 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 09:38:29.213 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 09:38:29.222 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 98.5885ms
2021-11-01 09:38:29.371 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 157.4004ms
2021-11-01 09:38:29.417 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 09:38:29.455 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 09:38:29.488 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 09:38:29.488 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 09:38:29.504 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 09:38:29.512 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 95.3360ms
2021-11-01 09:38:29.515 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 09:38:29.535 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 30.4946ms
2021-11-01 09:38:29.558 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 102.0700ms
2021-11-01 09:38:31.386 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 09:38:31.514 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 128.1882ms
2021-11-01 09:38:57.815 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 09:38:57.966 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 09:38:58.006 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 09:38:59.383 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:38:59.850 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 09:39:00.082 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 09:39:00.112 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 09:39:00.117 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 09:39:00.305 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 09:39:00.322 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2308.5901ms
2021-11-01 09:39:00.322 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 09:39:00.330 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2514.6924ms
2021-11-01 09:39:17.333 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 09:39:17.427 +01:00 [INF] Successfully validated the token.
2021-11-01 09:39:17.429 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 09:39:17.434 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations(System.String) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 09:39:19.714 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:39:19.758 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
INNER JOIN "AspNetUsers" AS "a" ON "r"."UserId" = "a"."Id"
WHERE "a"."Email" IS NULL
2021-11-01 09:39:20.639 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 09:39:20.642 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 3207.9359ms
2021-11-01 09:39:20.643 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 09:39:20.644 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 3310.7666ms
2021-11-01 09:39:22.929 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 09:39:22.933 +01:00 [INF] Successfully validated the token.
2021-11-01 09:39:22.946 +01:00 [INF] Authorization was successful.
2021-11-01 09:39:22.948 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 09:39:22.954 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 09:39:29.648 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:39:29.659 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 09:39:29.707 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 09:39:29.717 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 09:39:33.522 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 10568.7267ms
2021-11-01 09:39:33.523 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 09:39:33.531 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 10602.6154ms
2021-11-01 09:47:50.352 +01:00 [INF] Staring Api
2021-11-01 09:47:52.468 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 09:47:52.913 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 09:47:52.917 +01:00 [INF] Hosting environment: Development
2021-11-01 09:47:52.918 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 09:47:52.995 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 09:47:53.072 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 09:47:53.080 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 88.8815ms
2021-11-01 09:47:53.232 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 159.1460ms
2021-11-01 09:47:53.276 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 09:47:53.309 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 09:47:53.342 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 09:47:53.342 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 09:47:53.354 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 77.3848ms
2021-11-01 09:47:53.377 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 09:47:53.390 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 81.1900ms
2021-11-01 09:47:53.401 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 09:47:53.412 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 34.6427ms
2021-11-01 09:47:55.201 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 09:47:55.356 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 155.8296ms
2021-11-01 09:48:03.475 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 09:48:03.659 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 09:48:03.719 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 09:48:04.834 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:48:05.306 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 09:48:05.522 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 09:48:05.552 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 09:48:05.562 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 09:48:05.753 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 09:48:05.768 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2045.6376ms
2021-11-01 09:48:05.769 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 09:48:05.775 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2303.6362ms
2021-11-01 09:48:06.463 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 09:48:06.564 +01:00 [INF] Successfully validated the token.
2021-11-01 09:48:06.566 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 09:48:06.571 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations(System.String) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 09:48:08.179 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:48:08.227 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
INNER JOIN "AspNetUsers" AS "a" ON "r"."UserId" = "a"."Id"
WHERE "a"."Email" IS NULL
2021-11-01 09:48:08.229 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 09:48:08.232 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 1663.358ms
2021-11-01 09:48:08.232 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 09:48:08.234 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 1773.7809ms
2021-11-01 09:48:10.406 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 09:48:10.410 +01:00 [INF] Successfully validated the token.
2021-11-01 09:48:10.426 +01:00 [INF] Authorization was successful.
2021-11-01 09:48:10.428 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 09:48:10.432 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 09:48:10.450 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:48:10.462 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 09:48:10.492 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 09:48:10.495 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 09:48:10.509 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 77.01ms
2021-11-01 09:48:10.509 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 09:48:10.511 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 105.3156ms
2021-11-01 09:55:11.937 +01:00 [INF] Staring Api
2021-11-01 09:55:14.263 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 09:55:14.690 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 09:55:14.691 +01:00 [INF] Hosting environment: Development
2021-11-01 09:55:14.691 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 09:55:14.757 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 09:55:14.828 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 09:55:14.840 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 85.2609ms
2021-11-01 09:55:14.963 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 134.7855ms
2021-11-01 09:55:15.008 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 09:55:15.038 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 09:55:15.079 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 09:55:15.079 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 09:55:15.091 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 82.1476ms
2021-11-01 09:55:15.098 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 09:55:15.112 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 09:55:15.126 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 28.1891ms
2021-11-01 09:55:15.126 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 88.3246ms
2021-11-01 09:55:19.200 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 09:55:19.332 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 133.0263ms
2021-11-01 09:55:32.874 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 09:55:33.028 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 09:55:33.089 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 09:55:34.138 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:55:34.630 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 09:55:34.841 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 09:55:34.868 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 09:55:34.875 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 09:55:35.059 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 09:55:35.074 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 1978.3625ms
2021-11-01 09:55:35.075 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 09:55:35.082 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2207.4813ms
2021-11-01 09:55:39.716 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 09:55:39.811 +01:00 [INF] Successfully validated the token.
2021-11-01 09:55:39.826 +01:00 [INF] Authorization was successful.
2021-11-01 09:55:39.827 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 09:55:39.832 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 09:55:39.908 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:55:39.915 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 09:55:39.950 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:55:39.951 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:55:39.951 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:55:39.953 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:55:39.954 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:55:39.954 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:55:39.955 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:55:39.955 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:55:39.955 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:55:39.956 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:55:39.958 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 09:55:39.971 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 139.3444ms
2021-11-01 09:55:39.971 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 09:55:39.973 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 257.2403ms
2021-11-01 09:55:45.132 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 09:55:45.138 +01:00 [INF] Successfully validated the token.
2021-11-01 09:55:45.139 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 09:55:45.143 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations(System.String) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 09:55:47.962 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:55:47.986 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
INNER JOIN "AspNetUsers" AS "a" ON "r"."UserId" = "a"."Id"
WHERE "a"."Email" IS NULL
2021-11-01 09:55:48.640 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 09:55:48.641 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 3497.1835ms
2021-11-01 09:55:48.641 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 09:55:48.642 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 3510.1907ms
2021-11-01 09:55:50.842 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 09:55:50.844 +01:00 [INF] Successfully validated the token.
2021-11-01 09:55:50.845 +01:00 [INF] Authorization was successful.
2021-11-01 09:55:50.846 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 09:55:50.851 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 09:55:50.859 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:55:50.871 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 09:55:50.904 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 09:55:50.907 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 09:55:50.916 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 64.5698ms
2021-11-01 09:55:50.916 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 09:55:50.917 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 75.4528ms
2021-11-01 09:58:08.988 +01:00 [INF] Staring Api
2021-11-01 09:58:11.631 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 09:58:12.527 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 09:58:12.546 +01:00 [INF] Hosting environment: Development
2021-11-01 09:58:12.546 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 09:58:12.625 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 09:58:12.733 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 09:58:12.734 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 116.1440ms
2021-11-01 09:58:12.970 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 237.0491ms
2021-11-01 09:58:13.026 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 09:58:13.048 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 09:58:13.102 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 09:58:13.102 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 09:58:13.108 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 81.5768ms
2021-11-01 09:58:13.143 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 95.0665ms
2021-11-01 09:58:13.503 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 09:58:13.509 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 09:58:13.520 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 17.6528ms
2021-11-01 09:58:15.207 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 09:58:15.508 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 301.9025ms
2021-11-01 09:58:26.713 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 09:58:26.883 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 09:58:26.932 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 09:58:28.112 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:58:28.623 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 09:58:28.840 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 09:58:28.873 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 09:58:28.879 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 09:58:29.078 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 09:58:29.095 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2155.6792ms
2021-11-01 09:58:29.096 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 09:58:29.102 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2388.5256ms
2021-11-01 09:58:29.991 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 09:58:30.083 +01:00 [INF] Successfully validated the token.
2021-11-01 09:58:30.097 +01:00 [INF] Authorization was successful.
2021-11-01 09:58:30.099 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 09:58:30.104 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 09:58:30.174 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:58:30.180 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 09:58:30.211 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:30.213 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:30.213 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:30.215 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:30.215 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:30.216 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:30.216 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:30.217 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:30.217 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:30.217 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:30.220 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 09:58:30.235 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 131.6468ms
2021-11-01 09:58:30.236 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 09:58:30.240 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 249.1627ms
2021-11-01 09:58:30.896 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 09:58:30.900 +01:00 [INF] Successfully validated the token.
2021-11-01 09:58:30.901 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 09:58:30.905 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations(System.String) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 09:58:33.041 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:58:33.061 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
INNER JOIN "AspNetUsers" AS "a" ON "r"."UserId" = "a"."Id"
WHERE "a"."Email" IS NULL
2021-11-01 09:58:33.063 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 09:58:33.065 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 2159.7135ms
2021-11-01 09:58:33.065 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 09:58:33.067 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 2170.6723ms
2021-11-01 09:58:35.424 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 09:58:35.425 +01:00 [INF] Successfully validated the token.
2021-11-01 09:58:35.425 +01:00 [INF] Authorization was successful.
2021-11-01 09:58:35.426 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 09:58:35.429 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 09:58:35.439 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:58:35.449 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 09:58:35.480 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 09:58:35.482 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 09:58:35.492 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 62.715ms
2021-11-01 09:58:35.493 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 09:58:35.494 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 69.9637ms
2021-11-01 09:58:35.497 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 09:58:35.499 +01:00 [INF] Successfully validated the token.
2021-11-01 09:58:35.501 +01:00 [INF] Authorization was successful.
2021-11-01 09:58:35.501 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 09:58:35.502 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 09:58:35.504 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 09:58:35.506 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 09:58:35.506 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:35.507 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:35.507 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:35.507 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:35.507 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:35.508 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:35.508 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:35.508 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:35.508 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:35.509 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 09:58:35.510 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 09:58:35.511 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 9.0601ms
2021-11-01 09:58:35.511 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 09:58:35.512 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 14.5671ms
2021-11-01 10:00:29.608 +01:00 [INF] Staring Api
2021-11-01 10:00:33.139 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 10:00:33.791 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 10:00:33.793 +01:00 [INF] Hosting environment: Development
2021-11-01 10:00:33.793 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 10:00:33.893 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 10:00:34.023 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 10:00:34.032 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 144.3870ms
2021-11-01 10:00:34.179 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 155.3517ms
2021-11-01 10:00:34.227 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 10:00:34.250 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 10:00:34.297 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 10:00:34.297 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 10:00:34.312 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 85.3837ms
2021-11-01 10:00:34.338 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 87.8795ms
2021-11-01 10:00:34.349 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 10:00:34.355 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 10:00:34.366 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 17.2113ms
2021-11-01 10:00:35.667 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 10:00:35.794 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 127.3286ms
2021-11-01 10:01:00.220 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 10:01:00.392 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 10:01:00.457 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 10:01:01.493 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:01:01.955 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 10:01:02.162 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 10:01:02.191 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 10:01:02.198 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 10:01:02.397 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 10:01:02.412 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 1947.4299ms
2021-11-01 10:01:02.413 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 10:01:02.420 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2200.6225ms
2021-11-01 10:05:42.257 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 10:05:42.390 +01:00 [INF] Successfully validated the token.
2021-11-01 10:05:42.393 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 10:05:42.398 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations(System.String) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 10:05:44.833 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:05:44.909 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
INNER JOIN "AspNetUsers" AS "a" ON "r"."UserId" = "a"."Id"
WHERE "a"."Email" IS NULL
2021-11-01 10:05:45.460 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 10:05:45.464 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 3066.2619ms
2021-11-01 10:05:45.464 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 10:05:45.466 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 3209.4889ms
2021-11-01 10:05:48.145 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 10:05:48.150 +01:00 [INF] Successfully validated the token.
2021-11-01 10:05:48.177 +01:00 [INF] Authorization was successful.
2021-11-01 10:05:48.179 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 10:05:48.186 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 10:05:56.279 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:05:56.308 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 10:05:56.366 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 10:05:56.376 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 10:06:01.496 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 13307.2835ms
2021-11-01 10:06:01.496 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 10:06:01.526 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 13381.4120ms
2021-11-01 10:06:01.547 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 10:06:01.552 +01:00 [INF] Successfully validated the token.
2021-11-01 10:06:01.553 +01:00 [INF] Authorization was successful.
2021-11-01 10:06:01.553 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 10:06:01.558 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 10:06:01.576 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:06:01.592 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 10:06:01.656 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:06:01.657 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:06:01.661 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:06:01.663 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:06:01.664 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:06:01.665 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:06:01.666 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:06:01.668 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:06:01.669 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:06:01.669 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:06:01.672 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 10:06:01.694 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 135.7924ms
2021-11-01 10:06:01.695 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 10:06:01.704 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 157.2817ms
2021-11-01 10:25:44.496 +01:00 [INF] Staring Api
2021-11-01 10:25:46.704 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 10:25:47.131 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 10:25:47.131 +01:00 [INF] Hosting environment: Development
2021-11-01 10:25:47.132 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 10:25:47.211 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 10:25:47.317 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 10:25:47.323 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 114.9304ms
2021-11-01 10:25:47.536 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 219.4854ms
2021-11-01 10:25:47.621 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 10:25:47.674 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 10:25:47.692 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 10:25:47.692 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 10:25:47.698 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 76.7535ms
2021-11-01 10:25:47.738 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 64.7400ms
2021-11-01 10:25:47.772 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 10:25:47.779 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 10:25:47.788 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 15.8627ms
2021-11-01 10:25:49.449 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 10:25:49.589 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 140.2156ms
2021-11-01 10:26:55.857 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 10:26:56.017 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 10:26:56.061 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 10:26:57.190 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:26:57.662 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 10:26:57.865 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 10:26:57.899 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 10:26:57.908 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 10:26:58.084 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 10:26:58.101 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2032.2759ms
2021-11-01 10:26:58.102 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 10:26:58.111 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2254.7652ms
2021-11-01 10:27:00.517 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 10:27:00.614 +01:00 [INF] Successfully validated the token.
2021-11-01 10:27:00.616 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 10:27:00.622 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations(System.String) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 10:27:05.941 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:27:05.982 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
INNER JOIN "AspNetUsers" AS "a" ON "r"."UserId" = "a"."Id"
WHERE "a"."Email" IS NULL
2021-11-01 10:27:05.984 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 10:27:05.988 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 5365.8521ms
2021-11-01 10:27:05.988 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 10:27:05.990 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 5473.4753ms
2021-11-01 10:27:07.970 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 10:27:07.973 +01:00 [INF] Successfully validated the token.
2021-11-01 10:27:07.988 +01:00 [INF] Authorization was successful.
2021-11-01 10:27:07.989 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 10:27:07.995 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 10:27:08.011 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:27:08.022 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 10:27:08.049 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 10:27:08.052 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 10:27:08.064 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 68.6639ms
2021-11-01 10:27:08.064 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 10:27:08.066 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 95.8791ms
2021-11-01 10:27:08.079 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 10:27:08.080 +01:00 [INF] Successfully validated the token.
2021-11-01 10:27:08.082 +01:00 [INF] Authorization was successful.
2021-11-01 10:27:08.082 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 10:27:08.086 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 10:27:08.100 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:27:08.105 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 10:27:08.134 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:27:08.135 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:27:08.136 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:27:08.137 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:27:08.138 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:27:08.138 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:27:08.138 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:27:08.139 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:27:08.140 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:27:08.142 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:27:08.143 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 10:27:08.152 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 65.5461ms
2021-11-01 10:27:08.152 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 10:27:08.153 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 74.0044ms
2021-11-01 10:27:34.598 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 10:27:34.599 +01:00 [INF] Successfully validated the token.
2021-11-01 10:27:34.600 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-11-01 10:27:34.600 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-11-01 10:27:34.602 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 405 - - 4.6019ms
2021-11-01 10:29:05.906 +01:00 [INF] Staring Api
2021-11-01 10:29:08.785 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 10:29:09.238 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 10:29:09.238 +01:00 [INF] Hosting environment: Development
2021-11-01 10:29:09.239 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 10:29:09.301 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 10:29:09.410 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 10:29:09.425 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 127.9838ms
2021-11-01 10:29:09.644 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 234.3096ms
2021-11-01 10:29:09.736 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 10:29:09.750 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 10:29:09.835 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 10:29:09.840 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 10:29:09.843 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 106.6734ms
2021-11-01 10:29:09.884 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 133.2266ms
2021-11-01 10:29:09.921 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 10:29:09.932 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 10:29:09.943 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 21.4938ms
2021-11-01 10:29:11.622 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 10:29:11.777 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 155.1030ms
2021-11-01 10:33:41.951 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 10:33:41.951 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 10:33:42.102 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 10:33:42.102 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 10:33:42.151 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 10:33:42.151 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 10:33:43.286 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:33:43.286 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:33:43.778 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 10:33:43.918 +01:00 [INF] Executed DbCommand (156ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 10:33:43.986 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 10:33:44.001 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 10:33:44.017 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 10:33:44.017 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 10:33:44.021 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 10:33:44.177 +01:00 [INF] Executed DbCommand (157ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 10:33:44.215 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 10:33:44.215 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 10:33:44.232 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2073.1866ms
2021-11-01 10:33:44.232 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 10:33:44.232 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2073.1864ms
2021-11-01 10:33:44.233 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 10:33:44.240 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2288.9709ms
2021-11-01 10:33:44.240 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2288.9673ms
2021-11-01 10:33:56.292 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 10:33:56.403 +01:00 [INF] Successfully validated the token.
2021-11-01 10:33:56.405 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 10:33:56.411 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations(System.String) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 10:33:56.479 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:33:56.519 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
INNER JOIN "AspNetUsers" AS "a" ON "r"."UserId" = "a"."Id"
WHERE "a"."Email" IS NULL
2021-11-01 10:33:56.521 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 10:33:56.524 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 113.6788ms
2021-11-01 10:33:56.525 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 10:33:56.526 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 234.5806ms
2021-11-01 10:33:58.320 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 10:33:58.324 +01:00 [INF] Successfully validated the token.
2021-11-01 10:33:58.351 +01:00 [INF] Authorization was successful.
2021-11-01 10:33:58.355 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 10:33:58.361 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 10:33:58.383 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:33:58.394 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 10:33:58.423 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 10:33:58.425 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 10:33:58.437 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 76.6506ms
2021-11-01 10:33:58.438 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 10:33:58.439 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 118.9174ms
2021-11-01 10:33:58.526 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 10:33:58.527 +01:00 [INF] Successfully validated the token.
2021-11-01 10:33:58.528 +01:00 [INF] Authorization was successful.
2021-11-01 10:33:58.528 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 10:33:58.532 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 10:33:58.542 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:33:58.549 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 10:33:58.576 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:33:58.577 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:33:58.577 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:33:58.579 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:33:58.580 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:33:58.580 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:33:58.581 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:33:58.581 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:33:58.581 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:33:58.582 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:33:58.583 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 10:33:58.592 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 59.8094ms
2021-11-01 10:33:58.592 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 10:33:58.593 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 66.5883ms
2021-11-01 10:34:34.324 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 -
2021-11-01 10:34:34.326 +01:00 [INF] Successfully validated the token.
2021-11-01 10:34:34.327 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 10:34:34.331 +01:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Reservations.CreateReservation) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 10:34:34.351 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:34:34.359 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__bookId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
WHERE "r"."BookId" = @__bookId_0
LIMIT 1
2021-11-01 10:34:34.563 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API) in 232.1715ms
2021-11-01 10:34:34.564 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 10:34:34.567 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Użytkownik o id: '23aae744-c701-41c7-baf1-d70d4b1bd3b6' nie istenieje
   at ProgLibrary.Infrastructure.Extensions.RepositoryExtensions.GetOrFailAsync(IReservationRepository reservationRepository, Guid id) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Extensions\RepositoryExtensions.cs:line 67
   at ProgLibrary.Infrastructure.Services.ReservationService.CreateAsync(Guid id, Guid userId, Guid bookId, DateTime ReservationTimeFrom, DateTime ReservationTimeTo) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\ReservationService.cs:line 46
   at ProgLibrary.API.Controllers.ReservationsController.Create(CreateReservation command) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\ReservationsController.cs:line 32
   at lambda_method265(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 10:34:34.650 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 - - 500 - text/plain 325.9670ms
2021-11-01 10:37:02.539 +01:00 [INF] Staring Api
2021-11-01 10:37:04.711 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 10:37:05.184 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 10:37:05.185 +01:00 [INF] Hosting environment: Development
2021-11-01 10:37:05.185 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 10:37:05.259 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 10:37:05.417 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 10:37:05.419 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 163.8053ms
2021-11-01 10:37:05.651 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 233.1605ms
2021-11-01 10:37:05.809 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 10:37:05.859 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 10:37:05.924 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 10:37:05.924 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 10:37:05.939 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 129.9334ms
2021-11-01 10:37:05.970 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 110.9011ms
2021-11-01 10:37:06.053 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 10:37:06.084 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 10:37:06.108 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 55.3666ms
2021-11-01 10:37:09.955 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 10:37:10.123 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 168.1699ms
2021-11-01 10:37:17.662 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 10:37:17.817 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 10:37:17.872 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 10:37:18.937 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:37:19.416 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 10:37:19.626 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 10:37:19.655 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 10:37:19.662 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 10:37:19.846 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 10:37:19.862 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 1982.8165ms
2021-11-01 10:37:19.862 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 10:37:19.869 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2207.8351ms
2021-11-01 10:37:24.240 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 10:37:24.335 +01:00 [INF] Successfully validated the token.
2021-11-01 10:37:24.338 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 10:37:24.343 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations(System.String) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 10:37:24.422 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:37:24.479 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
INNER JOIN "AspNetUsers" AS "a" ON "r"."UserId" = "a"."Id"
WHERE "a"."Email" IS NULL
2021-11-01 10:37:24.481 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 10:37:24.485 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 142.299ms
2021-11-01 10:37:24.486 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 10:37:24.490 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 249.9260ms
2021-11-01 10:37:26.165 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 10:37:26.167 +01:00 [INF] Successfully validated the token.
2021-11-01 10:37:26.180 +01:00 [INF] Authorization was successful.
2021-11-01 10:37:26.182 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 10:37:26.186 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 10:37:26.204 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:37:26.217 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 10:37:26.248 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 10:37:26.250 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 10:37:26.264 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 77.5072ms
2021-11-01 10:37:26.264 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 10:37:26.265 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 100.9167ms
2021-11-01 10:37:26.347 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 10:37:26.348 +01:00 [INF] Successfully validated the token.
2021-11-01 10:37:26.349 +01:00 [INF] Authorization was successful.
2021-11-01 10:37:26.349 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 10:37:26.356 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 10:37:26.368 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:37:26.381 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 10:37:26.422 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:37:26.423 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:37:26.423 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:37:26.425 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:37:26.425 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:37:26.426 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:37:26.426 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:37:26.427 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:37:26.427 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:37:26.428 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 10:37:26.430 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 10:37:26.440 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 83.5054ms
2021-11-01 10:37:26.440 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 10:37:26.442 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 94.8886ms
2021-11-01 10:37:53.626 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 -
2021-11-01 10:37:53.628 +01:00 [INF] Successfully validated the token.
2021-11-01 10:37:53.628 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 10:37:53.632 +01:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Reservations.CreateReservation) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 10:37:54.921 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 10:37:54.933 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__bookId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
WHERE "r"."BookId" = @__bookId_0
LIMIT 1
2021-11-01 10:37:55.292 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API) in 1659.5628ms
2021-11-01 10:37:55.300 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 10:37:55.328 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Użytkownik o id: '831f0bb3-d3ec-4a98-8602-6768f219e139' nie istenieje
   at ProgLibrary.Infrastructure.Extensions.RepositoryExtensions.GetOrFailAsync(IReservationRepository reservationRepository, Guid id) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Extensions\RepositoryExtensions.cs:line 67
   at ProgLibrary.Infrastructure.Services.ReservationService.CreateAsync(Guid id, Guid userId, Guid bookId, DateTime ReservationTimeFrom, DateTime ReservationTimeTo) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\ReservationService.cs:line 46
   at ProgLibrary.API.Controllers.ReservationsController.Create(CreateReservation command) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\ReservationsController.cs:line 32
   at lambda_method245(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 10:37:55.444 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 - - 500 - text/plain 1818.0641ms
2021-11-01 11:17:18.452 +01:00 [INF] Staring Api
2021-11-01 11:17:20.634 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 11:17:21.021 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 11:17:21.022 +01:00 [INF] Hosting environment: Development
2021-11-01 11:17:21.022 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 11:17:21.084 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 11:17:21.178 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 11:17:21.191 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 110.5835ms
2021-11-01 11:17:21.348 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 169.7064ms
2021-11-01 11:17:21.410 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 11:17:21.473 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 11:17:21.481 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 69.9080ms
2021-11-01 11:17:21.507 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 11:17:21.529 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 11:17:21.565 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 57.9941ms
2021-11-01 11:17:21.583 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 11:17:21.593 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 11:17:21.604 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 19.5238ms
2021-11-01 11:17:22.936 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 11:17:23.051 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 114.2455ms
2021-11-01 11:17:41.358 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 11:17:41.511 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 11:17:41.587 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 11:17:42.791 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 11:17:43.259 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 11:17:43.471 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 11:17:43.503 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 11:17:43.513 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 11:17:43.705 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 11:17:43.729 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2131.5282ms
2021-11-01 11:17:43.729 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 11:17:43.741 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2383.1575ms
2021-11-01 11:17:54.470 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 11:17:54.562 +01:00 [INF] Successfully validated the token.
2021-11-01 11:17:54.575 +01:00 [INF] Authorization was successful.
2021-11-01 11:17:54.576 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 11:17:54.583 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 11:17:54.674 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 11:17:54.682 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 11:17:54.711 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:54.712 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:54.713 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:54.714 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:54.715 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:54.715 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:54.715 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:54.716 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:54.716 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:54.716 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:54.718 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 11:17:54.733 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 150.3549ms
2021-11-01 11:17:54.734 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 11:17:54.735 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 264.8773ms
2021-11-01 11:17:55.661 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 11:17:55.665 +01:00 [INF] Successfully validated the token.
2021-11-01 11:17:55.666 +01:00 [INF] Authorization was successful.
2021-11-01 11:17:55.666 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 11:17:55.673 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations(System.String) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 11:17:55.687 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 11:17:55.715 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
INNER JOIN "AspNetUsers" AS "a" ON "r"."UserId" = "a"."Id"
WHERE "a"."Email" IS NULL
2021-11-01 11:17:55.717 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 11:17:55.718 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 44.8735ms
2021-11-01 11:17:55.718 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 11:17:55.720 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 59.0818ms
2021-11-01 11:17:56.920 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 11:17:56.923 +01:00 [INF] Successfully validated the token.
2021-11-01 11:17:56.924 +01:00 [INF] Authorization was successful.
2021-11-01 11:17:56.924 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 11:17:56.927 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 11:17:56.936 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 11:17:56.946 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 11:17:56.976 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 11:17:56.978 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 11:17:56.987 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 59.7346ms
2021-11-01 11:17:56.987 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 11:17:56.989 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 68.7774ms
2021-11-01 11:17:57.047 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 11:17:57.049 +01:00 [INF] Successfully validated the token.
2021-11-01 11:17:57.049 +01:00 [INF] Authorization was successful.
2021-11-01 11:17:57.050 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 11:17:57.050 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 11:17:57.051 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 11:17:57.054 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 11:17:57.055 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:57.055 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:57.056 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:57.056 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:57.057 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:57.057 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:57.057 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:57.058 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:57.058 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:57.058 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:17:57.060 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 11:17:57.061 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 10.8133ms
2021-11-01 11:17:57.061 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 11:17:57.062 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 14.8214ms
2021-11-01 11:22:53.348 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 -
2021-11-01 11:22:53.350 +01:00 [INF] Successfully validated the token.
2021-11-01 11:22:53.350 +01:00 [INF] Authorization was successful.
2021-11-01 11:22:53.352 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 11:22:53.358 +01:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Reservations.CreateReservation) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 11:22:53.374 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 11:22:53.385 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reservationId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
WHERE "r"."Id" = @__reservationId_0
LIMIT 1
2021-11-01 11:22:53.551 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("Id", "BookId", "CreatedAt", "ReservationTimeFrom", "ReservationTimeTo", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 11:23:11.555 +01:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-11-01 11:23:11.556 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API) in 18197.5443ms
2021-11-01 11:23:11.556 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 11:23:11.568 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 18220.7404ms
2021-11-01 11:24:20.106 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 11:24:20.110 +01:00 [INF] Successfully validated the token.
2021-11-01 11:24:20.110 +01:00 [INF] Authorization was successful.
2021-11-01 11:24:20.111 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 11:24:20.111 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations(System.String) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 11:24:20.116 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 11:24:20.125 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
INNER JOIN "AspNetUsers" AS "a" ON "r"."UserId" = "a"."Id"
WHERE "a"."Email" IS NULL
2021-11-01 11:24:20.130 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 11:24:20.130 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 19.0123ms
2021-11-01 11:24:20.130 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 11:24:20.131 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 25.6628ms
2021-11-01 11:24:26.147 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 11:24:26.147 +01:00 [INF] Successfully validated the token.
2021-11-01 11:24:26.147 +01:00 [INF] Authorization was successful.
2021-11-01 11:24:26.148 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 11:24:26.148 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations(System.String) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 11:24:26.149 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 11:24:26.154 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
INNER JOIN "AspNetUsers" AS "a" ON "r"."UserId" = "a"."Id"
WHERE "a"."Email" IS NULL
2021-11-01 11:24:26.155 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 11:24:26.156 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 7.6931ms
2021-11-01 11:24:26.156 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 11:24:26.157 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 10.3695ms
2021-11-01 11:24:58.421 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 11:24:58.426 +01:00 [INF] Successfully validated the token.
2021-11-01 11:24:58.426 +01:00 [INF] Authorization was successful.
2021-11-01 11:24:58.427 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 11:24:58.427 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations(System.String) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 11:24:58.427 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 11:24:58.431 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
INNER JOIN "AspNetUsers" AS "a" ON "r"."UserId" = "a"."Id"
WHERE "a"."Email" IS NULL
2021-11-01 11:24:58.432 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 11:24:58.433 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 5.8822ms
2021-11-01 11:24:58.433 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 11:24:58.434 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 12.5717ms
2021-11-01 11:25:26.212 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 11:25:26.243 +01:00 [INF] Successfully validated the token.
2021-11-01 11:25:26.243 +01:00 [INF] Authorization was successful.
2021-11-01 11:25:26.244 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 11:25:26.244 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations(System.String) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 11:25:37.058 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 11:25:40.729 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
INNER JOIN "AspNetUsers" AS "a" ON "r"."UserId" = "a"."Id"
WHERE "a"."Email" IS NULL
2021-11-01 11:26:22.862 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
INNER JOIN "AspNetUsers" AS "a" ON "r"."UserId" = "a"."Id"
WHERE "a"."Email" IS NULL
2021-11-01 11:26:29.793 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:26:41.385 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
INNER JOIN "AspNetUsers" AS "a" ON "r"."UserId" = "a"."Id"
WHERE "a"."Email" IS NULL
2021-11-01 11:26:44.318 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
INNER JOIN "AspNetUsers" AS "a" ON "r"."UserId" = "a"."Id"
WHERE "a"."Email" IS NULL
2021-11-01 11:26:48.886 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:30:19.158 +01:00 [INF] Staring Api
2021-11-01 11:30:21.726 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 11:30:22.166 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 11:30:22.166 +01:00 [INF] Hosting environment: Development
2021-11-01 11:30:22.166 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 11:30:22.251 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 11:30:22.343 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 11:30:22.360 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 115.0925ms
2021-11-01 11:30:22.511 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 167.7739ms
2021-11-01 11:30:22.547 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 11:30:22.560 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 11:30:22.608 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 11:30:22.608 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 11:30:22.616 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 68.6122ms
2021-11-01 11:30:22.649 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 88.3961ms
2021-11-01 11:30:22.652 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 11:30:22.663 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 11:30:22.673 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 21.8057ms
2021-11-01 11:30:24.477 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 11:30:24.676 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 198.7962ms
2021-11-01 11:30:38.852 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 11:30:39.022 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 11:30:39.069 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 11:30:40.211 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 11:30:40.710 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 11:30:40.929 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 11:30:40.965 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 11:30:40.973 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 11:30:41.163 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 11:30:41.179 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2102.6048ms
2021-11-01 11:30:41.180 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 11:30:41.188 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2335.5554ms
2021-11-01 11:30:48.498 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 11:30:48.604 +01:00 [INF] Successfully validated the token.
2021-11-01 11:30:48.620 +01:00 [INF] Authorization was successful.
2021-11-01 11:30:48.621 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 11:30:48.625 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations(System.String) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 11:30:48.708 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 11:30:48.721 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:30:48.773 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 11:30:48.789 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 162.8933ms
2021-11-01 11:30:48.789 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 11:30:48.798 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 299.3525ms
2021-11-01 11:34:12.551 +01:00 [INF] Staring Api
2021-11-01 11:34:15.110 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 11:34:15.530 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 11:34:15.530 +01:00 [INF] Hosting environment: Development
2021-11-01 11:34:15.530 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 11:34:15.605 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 11:34:15.697 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 11:34:15.710 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 108.6257ms
2021-11-01 11:34:15.851 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 153.4999ms
2021-11-01 11:34:15.926 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 11:34:15.960 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 11:34:15.996 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 11:34:15.996 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 11:34:16.002 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 75.3125ms
2021-11-01 11:34:16.033 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 72.9827ms
2021-11-01 11:34:16.037 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 11:34:16.051 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 11:34:16.061 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 24.0427ms
2021-11-01 11:34:17.675 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 11:34:17.825 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 149.7653ms
2021-11-01 11:35:32.704 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 11:35:32.873 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 11:35:32.926 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 11:35:34.044 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 11:35:34.539 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 11:35:34.754 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 11:35:34.782 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 11:35:34.789 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 11:35:34.985 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 11:35:34.999 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2067.2548ms
2021-11-01 11:35:34.999 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 11:35:35.007 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2303.1252ms
2021-11-01 11:35:38.467 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 11:35:38.594 +01:00 [INF] Successfully validated the token.
2021-11-01 11:35:38.622 +01:00 [INF] Authorization was successful.
2021-11-01 11:35:38.624 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 11:35:38.630 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations(System.String) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 11:35:40.056 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 11:35:40.069 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 11:35:40.236 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 11:35:42.593 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 3963.1453ms
2021-11-01 11:35:42.593 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 11:35:42.594 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 4126.9547ms
2021-11-01 11:36:18.355 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 11:36:18.362 +01:00 [INF] Successfully validated the token.
2021-11-01 11:36:18.363 +01:00 [INF] Authorization was successful.
2021-11-01 11:36:18.364 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 11:36:18.365 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations(System.String) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 13:36:16.014 +01:00 [INF] Staring Api
2021-11-01 13:36:19.281 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 13:36:19.713 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 13:36:19.714 +01:00 [INF] Hosting environment: Development
2021-11-01 13:36:19.714 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 13:36:19.790 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 13:36:19.871 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 13:36:19.894 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 104.9220ms
2021-11-01 13:36:20.093 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 222.0348ms
2021-11-01 13:36:20.189 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 13:36:20.247 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 13:36:20.302 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 13:36:20.302 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 13:36:20.310 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 120.5254ms
2021-11-01 13:36:20.346 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 98.4780ms
2021-11-01 13:36:20.387 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 13:36:20.399 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 13:36:20.411 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 22.7884ms
2021-11-01 13:36:22.781 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 13:36:22.907 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/Reservations/GetReservations" for actions - ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API),ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 13:36:22.987 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 500 - text/plain 205.8925ms
2021-11-01 13:36:32.689 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 13:36:32.869 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 13:36:32.930 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 13:36:34.111 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 13:36:34.631 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 13:36:34.875 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 13:36:34.905 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 13:36:34.911 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 13:36:35.112 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 13:36:35.129 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2193.1078ms
2021-11-01 13:36:35.129 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 13:36:35.138 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2448.6047ms
2021-11-01 13:36:36.669 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 13:36:36.674 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)
ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 13:36:36.686 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 500 - text/plain 16.6322ms
2021-11-01 13:36:46.835 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 13:36:46.925 +01:00 [INF] Successfully validated the token.
2021-11-01 13:36:46.943 +01:00 [INF] Authorization was successful.
2021-11-01 13:36:46.946 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 13:36:46.951 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 13:36:47.045 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 13:36:47.053 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 13:36:47.084 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 13:36:47.115 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 13:36:47.116 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 13:36:47.118 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 13:36:47.118 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 13:36:47.119 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 13:36:47.120 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 13:36:47.120 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 13:36:47.121 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 13:36:47.122 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 13:36:47.125 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 13:36:47.140 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 189.4082ms
2021-11-01 13:36:47.141 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 13:36:47.143 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 307.2076ms
2021-11-01 13:36:50.331 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 13:36:50.333 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)
ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 13:36:50.337 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 500 - text/plain 6.1544ms
2021-11-01 13:37:32.034 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 13:37:32.035 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)
ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 13:37:32.051 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 500 - text/plain 16.9529ms
2021-11-01 13:37:48.055 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 13:37:48.057 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)
ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 13:37:48.062 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 500 - text/plain 6.0723ms
2021-11-01 13:38:14.429 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 13:38:14.434 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)
ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 13:38:14.438 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 500 - text/plain 9.1252ms
2021-11-01 13:39:18.760 +01:00 [INF] Staring Api
2021-11-01 13:39:21.465 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 13:39:21.972 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 13:39:21.973 +01:00 [INF] Hosting environment: Development
2021-11-01 13:39:21.973 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 13:39:22.049 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 13:39:22.134 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 13:39:22.142 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 95.1257ms
2021-11-01 13:39:22.447 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 313.5653ms
2021-11-01 13:39:22.530 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 13:39:22.544 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 13:39:22.605 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 13:39:22.650 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 13:39:22.660 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 130.0813ms
2021-11-01 13:39:22.666 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 13:39:22.696 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 13:39:22.756 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 150.6649ms
2021-11-01 13:39:22.756 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 225.9367ms
2021-11-01 13:39:23.757 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 13:39:23.906 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 13:39:23.972 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 500 - text/plain 215.5189ms
2021-11-01 13:39:38.666 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 13:39:38.870 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 13:39:38.917 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 13:39:40.103 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 13:39:40.668 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 13:39:40.906 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 13:39:40.966 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 13:39:40.977 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 13:39:41.234 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 13:39:41.257 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2330.236ms
2021-11-01 13:39:41.259 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 13:39:41.269 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2602.7860ms
2021-11-01 13:39:45.223 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 13:39:45.337 +01:00 [INF] Successfully validated the token.
2021-11-01 13:39:45.357 +01:00 [INF] Authorization was successful.
2021-11-01 13:39:45.360 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 13:39:45.364 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 13:40:21.632 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 13:40:22.853 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 13:40:33.217 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 13:40:34.469 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 13:40:34.533 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 49169.0868ms
2021-11-01 13:40:34.534 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 13:40:34.543 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 49319.4792ms
2021-11-01 13:40:43.773 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 13:40:43.779 +01:00 [INF] Successfully validated the token.
2021-11-01 13:40:43.780 +01:00 [INF] Authorization was successful.
2021-11-01 13:40:43.781 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 13:40:43.781 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 13:40:45.203 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 13:40:45.208 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 13:40:45.211 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 13:40:45.212 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 1430.5644ms
2021-11-01 13:40:45.212 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 13:40:45.216 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 1442.8982ms
2021-11-01 14:07:33.049 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/084c00e5-6bc0-43e2-a02a-d64a6a75d0bb - -
2021-11-01 14:07:33.055 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin)
2021-11-01 14:07:33.061 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-01 14:07:33.063 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/084c00e5-6bc0-43e2-a02a-d64a6a75d0bb - - - 401 - - 14.3490ms
2021-11-01 14:07:38.071 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 14:07:38.072 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user)
2021-11-01 14:07:38.072 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-01 14:07:38.074 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 401 - - 2.7499ms
2021-11-01 14:07:56.805 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 14:07:56.809 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user)
2021-11-01 14:07:56.809 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-01 14:07:56.811 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 401 - - 5.9563ms
2021-11-01 14:08:16.112 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 14:08:16.118 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 14:08:16.118 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 14:08:16.121 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:08:16.131 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 14:08:16.136 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 14:08:16.154 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 14:08:16.157 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 14:08:16.159 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 14:08:16.159 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 40.3697ms
2021-11-01 14:08:16.159 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 14:08:16.163 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 50.0585ms
2021-11-01 14:08:20.344 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 14:08:20.346 +01:00 [INF] Successfully validated the token.
2021-11-01 14:08:20.346 +01:00 [INF] Authorization was successful.
2021-11-01 14:08:20.346 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:08:20.353 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 14:08:20.368 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:08:20.374 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 14:08:20.390 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:08:20.405 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:08:20.406 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:08:20.407 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:08:20.408 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:08:20.408 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:08:20.409 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:08:20.409 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:08:20.410 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:08:20.411 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:08:20.413 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:08:20.421 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 68.4653ms
2021-11-01 14:08:20.422 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:08:20.423 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 79.3651ms
2021-11-01 14:08:51.322 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-11-01 14:08:51.323 +01:00 [INF] Successfully validated the token.
2021-11-01 14:08:51.323 +01:00 [INF] Authorization was successful.
2021-11-01 14:08:51.323 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:08:51.332 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 14:08:51.337 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:08:51.344 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-11-01 14:08:51.357 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:08:51.361 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:08:51.363 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-11-01 14:08:51.366 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 33.2875ms
2021-11-01 14:08:51.366 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:08:51.367 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 44.4370ms
2021-11-01 14:08:56.212 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Account/GetById - -
2021-11-01 14:08:56.214 +01:00 [INF] Successfully validated the token.
2021-11-01 14:08:56.214 +01:00 [INF] Authorization was successful.
2021-11-01 14:08:56.214 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Get (ProgLibrary.API)'
2021-11-01 14:08:56.218 +01:00 [INF] Route matched with {action = "Get", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 14:08:56.242 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:08:56.252 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 2
2021-11-01 14:08:56.522 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Get (ProgLibrary.API) in 303.9505ms
2021-11-01 14:08:56.524 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Get (ProgLibrary.API)'
2021-11-01 14:08:56.527 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: użytkownik o id 00000000-0000-0000-0000-000000000000 nie istenieje
   at ProgLibrary.Infrastructure.Repositories.UserRepository.GetAsync(Guid id) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Repositories\UserRepository.cs:line 32
   at ProgLibrary.Infrastructure.Services.UserService.GetAccountAsync(Guid userId) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\UserService.cs:line 44
   at ProgLibrary.API.Controllers.AccountController.Get(Guid userId) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\AccountController.cs:line 30
   at lambda_method240(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 14:08:56.599 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Account/GetById - - - 500 - text/plain 386.7350ms
2021-11-01 14:08:57.804 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-11-01 14:08:57.805 +01:00 [INF] Successfully validated the token.
2021-11-01 14:08:57.805 +01:00 [INF] Authorization was successful.
2021-11-01 14:08:57.805 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:08:57.805 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 14:08:57.808 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:08:57.814 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-11-01 14:08:57.818 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:08:57.821 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:08:57.823 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-11-01 14:08:57.824 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 18.1519ms
2021-11-01 14:08:57.824 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:08:57.824 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 20.2328ms
2021-11-01 14:09:13.149 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 14:09:13.149 +01:00 [INF] Successfully validated the token.
2021-11-01 14:09:13.149 +01:00 [INF] Authorization was successful.
2021-11-01 14:09:13.150 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:09:13.150 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 14:09:13.151 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:09:13.157 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 14:09:13.158 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:09:13.158 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:09:13.158 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:09:13.159 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:09:13.159 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:09:13.160 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:09:13.160 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:09:13.160 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:09:13.161 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:09:13.161 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:09:13.162 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:09:13.163 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 12.6032ms
2021-11-01 14:09:13.163 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:09:13.163 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 15.0515ms
2021-11-01 14:13:31.071 +01:00 [INF] Staring Api
2021-11-01 14:13:34.053 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 14:13:34.568 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 14:13:34.569 +01:00 [INF] Hosting environment: Development
2021-11-01 14:13:34.569 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 14:13:34.647 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 14:13:34.739 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 14:13:34.749 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 105.8436ms
2021-11-01 14:13:35.058 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 319.0200ms
2021-11-01 14:13:35.142 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 14:13:35.172 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 14:13:35.241 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 14:13:35.295 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 14:13:35.305 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 14:13:35.323 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 14:13:35.340 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 198.0266ms
2021-11-01 14:13:35.567 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 319.2687ms
2021-11-01 14:13:35.673 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 500.6692ms
2021-11-01 14:13:36.634 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 14:13:36.801 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 14:13:36.869 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 500 - text/plain 234.8633ms
2021-11-01 14:13:49.045 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 14:13:49.262 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 14:13:49.375 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 14:13:50.571 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:13:51.146 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 14:13:51.399 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 14:13:51.448 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 14:13:51.458 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 14:13:51.707 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 14:13:51.732 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2351.3584ms
2021-11-01 14:13:51.733 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 14:13:51.748 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2703.7184ms
2021-11-01 14:13:55.804 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 14:13:55.976 +01:00 [INF] Successfully validated the token.
2021-11-01 14:13:55.998 +01:00 [INF] Authorization was successful.
2021-11-01 14:13:56.000 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 14:13:56.004 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 14:13:56.693 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:13:56.701 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:13:56.804 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:13:59.428 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 3423.9689ms
2021-11-01 14:13:59.429 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 14:13:59.430 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 3626.1508ms
2021-11-01 14:14:39.021 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 14:14:39.028 +01:00 [INF] Successfully validated the token.
2021-11-01 14:14:39.028 +01:00 [INF] Authorization was successful.
2021-11-01 14:14:39.029 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 14:14:39.034 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 14:14:39.052 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:14:39.066 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 14:14:39.101 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 14:14:39.103 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:14:39.118 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 83.8361ms
2021-11-01 14:14:39.119 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 14:14:39.120 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 99.5848ms
2021-11-01 14:14:39.193 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 14:14:39.194 +01:00 [INF] Successfully validated the token.
2021-11-01 14:14:39.195 +01:00 [INF] Authorization was successful.
2021-11-01 14:14:39.196 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:14:39.200 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 14:14:39.211 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:14:39.217 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 14:14:39.234 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:39.245 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:39.245 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:39.250 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:39.250 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:39.251 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:39.251 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:39.252 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:39.252 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:39.253 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:39.254 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:14:39.260 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 59.8611ms
2021-11-01 14:14:39.260 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:14:39.261 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 68.1668ms
2021-11-01 14:14:53.530 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 14:14:53.537 +01:00 [INF] Successfully validated the token.
2021-11-01 14:14:53.538 +01:00 [INF] Authorization was successful.
2021-11-01 14:14:53.538 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 14:14:53.538 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 14:14:54.477 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:14:54.484 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:54.486 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:14:54.486 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 948.0181ms
2021-11-01 14:14:54.486 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 14:14:54.488 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 957.0896ms
2021-11-01 14:14:57.727 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 14:14:57.730 +01:00 [INF] Successfully validated the token.
2021-11-01 14:14:57.730 +01:00 [INF] Authorization was successful.
2021-11-01 14:14:57.730 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 14:14:57.731 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 14:14:57.733 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:14:57.737 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 14:14:57.745 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 14:14:57.747 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:14:57.748 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 16.7004ms
2021-11-01 14:14:57.748 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 14:14:57.755 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 14:14:57.756 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 28.8263ms
2021-11-01 14:14:57.759 +01:00 [INF] Successfully validated the token.
2021-11-01 14:14:57.760 +01:00 [INF] Authorization was successful.
2021-11-01 14:14:57.760 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:14:57.760 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 14:14:57.762 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:14:57.770 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 14:14:57.770 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:57.771 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:57.772 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:57.772 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:57.773 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:57.773 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:57.774 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:57.774 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:57.775 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:57.775 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:14:57.776 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:14:57.777 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 16.9834ms
2021-11-01 14:14:57.777 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:14:57.778 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 22.7651ms
2021-11-01 14:15:28.100 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 14:15:28.100 +01:00 [INF] Successfully validated the token.
2021-11-01 14:15:28.101 +01:00 [INF] Authorization was successful.
2021-11-01 14:15:28.101 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 14:15:28.101 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 14:15:28.121 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:15:28.129 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 14:15:28.135 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 14:15:28.137 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:15:28.137 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 36.181ms
2021-11-01 14:15:28.138 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 14:15:28.146 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 46.8002ms
2021-11-01 14:15:28.166 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 14:15:28.167 +01:00 [INF] Successfully validated the token.
2021-11-01 14:15:28.167 +01:00 [INF] Authorization was successful.
2021-11-01 14:15:28.167 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:15:28.167 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 14:15:28.173 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:15:28.179 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 14:15:28.179 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:28.180 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:28.181 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:28.181 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:28.182 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:28.182 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:28.182 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:28.183 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:28.183 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:28.185 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:28.187 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:15:28.189 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 21.1536ms
2021-11-01 14:15:28.189 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:15:28.217 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 51.5024ms
2021-11-01 14:15:32.932 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 14:15:32.934 +01:00 [INF] Successfully validated the token.
2021-11-01 14:15:32.934 +01:00 [INF] Authorization was successful.
2021-11-01 14:15:32.939 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:15:32.939 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 14:15:32.940 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:15:32.943 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 14:15:32.943 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:32.944 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:32.944 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:32.944 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:32.945 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:32.945 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:32.945 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:32.946 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:32.946 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:32.946 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:32.948 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:15:32.948 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 8.842ms
2021-11-01 14:15:32.948 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:15:32.950 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 17.9361ms
2021-11-01 14:15:36.617 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 14:15:36.618 +01:00 [INF] Successfully validated the token.
2021-11-01 14:15:36.618 +01:00 [INF] Authorization was successful.
2021-11-01 14:15:36.618 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 14:15:36.618 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 14:15:37.363 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:15:37.367 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:15:37.370 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:15:37.371 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 752.6238ms
2021-11-01 14:15:37.372 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 14:15:37.373 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 756.2736ms
2021-11-01 14:18:49.141 +01:00 [INF] Staring Api
2021-11-01 14:18:52.238 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 14:18:52.931 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 14:18:52.931 +01:00 [INF] Hosting environment: Development
2021-11-01 14:18:52.931 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 14:18:53.038 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 14:18:53.125 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 14:18:53.144 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 108.5576ms
2021-11-01 14:18:53.317 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 192.2128ms
2021-11-01 14:18:53.403 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 14:18:53.455 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 14:18:53.473 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 14:18:53.473 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 14:18:53.480 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 76.9781ms
2021-11-01 14:18:53.508 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 52.3753ms
2021-11-01 14:18:53.530 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 14:18:53.545 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 14:18:53.559 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 28.3458ms
2021-11-01 14:18:54.898 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 14:18:55.027 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 14:18:55.111 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 500 - text/plain 213.2368ms
2021-11-01 14:19:08.451 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 14:19:08.647 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 14:19:08.702 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 14:19:10.043 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:19:10.579 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 14:19:10.826 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 14:19:10.858 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 14:19:10.865 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 14:19:11.073 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 14:19:11.091 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2378.552ms
2021-11-01 14:19:11.091 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 14:19:11.100 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2649.3228ms
2021-11-01 14:19:13.979 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 14:19:14.097 +01:00 [INF] Successfully validated the token.
2021-11-01 14:19:14.114 +01:00 [INF] Authorization was successful.
2021-11-01 14:19:14.117 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 14:19:14.122 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 14:19:18.022 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:19:18.029 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:19:18.059 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:19:18.068 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 3946.2566ms
2021-11-01 14:19:18.069 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 14:19:18.070 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 4090.4060ms
2021-11-01 14:22:56.781 +01:00 [INF] Staring Api
2021-11-01 14:22:59.543 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 14:23:00.163 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 14:23:00.163 +01:00 [INF] Hosting environment: Development
2021-11-01 14:23:00.163 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 14:23:00.284 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 14:23:00.429 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 156.0391ms
2021-11-01 14:23:00.429 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 14:23:00.668 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 238.9615ms
2021-11-01 14:23:00.781 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 14:23:00.832 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 14:23:00.874 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 14:23:00.874 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 14:23:00.884 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 102.4151ms
2021-11-01 14:23:00.920 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 87.8093ms
2021-11-01 14:23:00.944 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 14:23:00.960 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 14:23:00.972 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 27.2221ms
2021-11-01 14:23:02.580 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 14:23:02.704 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 14:23:02.782 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 500 - text/plain 203.0075ms
2021-11-01 14:23:13.332 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 14:23:13.529 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 14:23:13.613 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 14:23:14.974 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:23:15.545 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 14:23:15.795 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 14:23:15.827 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 14:23:15.833 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 14:23:16.064 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 14:23:16.081 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2462.4854ms
2021-11-01 14:23:16.082 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 14:23:16.097 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2765.7300ms
2021-11-01 14:23:18.242 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 14:23:18.377 +01:00 [INF] Successfully validated the token.
2021-11-01 14:23:18.404 +01:00 [INF] Authorization was successful.
2021-11-01 14:23:18.406 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 14:23:18.410 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 14:23:18.552 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:23:18.566 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:23:18.606 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:23:18.615 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 204.5963ms
2021-11-01 14:23:18.615 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 14:23:18.617 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 374.5005ms
2021-11-01 14:23:23.699 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 14:23:23.703 +01:00 [INF] Successfully validated the token.
2021-11-01 14:23:23.703 +01:00 [INF] Authorization was successful.
2021-11-01 14:23:23.704 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 14:23:23.709 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 14:23:23.733 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:23:23.749 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 14:23:23.782 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 14:23:23.785 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:23:23.797 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 88.329ms
2021-11-01 14:23:23.797 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 14:23:23.800 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 100.8310ms
2021-11-01 14:23:23.874 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 14:23:23.875 +01:00 [INF] Successfully validated the token.
2021-11-01 14:23:23.876 +01:00 [INF] Authorization was successful.
2021-11-01 14:23:23.877 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:23:23.882 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 14:23:23.894 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:23:23.901 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 14:23:23.917 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:23:23.931 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:23:23.932 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:23:23.934 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:23:23.934 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:23:23.935 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:23:23.935 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:23:23.936 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:23:23.936 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:23:23.937 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:23:23.939 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:23:23.952 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 69.7481ms
2021-11-01 14:23:23.952 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:23:23.955 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 80.8051ms
2021-11-01 14:23:57.564 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 14:23:57.567 +01:00 [INF] Successfully validated the token.
2021-11-01 14:23:57.568 +01:00 [INF] Authorization was successful.
2021-11-01 14:23:57.568 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 14:23:57.568 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 14:23:57.601 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:23:57.604 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:23:57.605 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:23:57.606 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 37.5027ms
2021-11-01 14:23:57.606 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 14:23:57.608 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 43.7418ms
2021-11-01 14:35:22.996 +01:00 [INF] Staring Api
2021-11-01 14:35:25.970 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 14:35:26.709 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 14:35:26.709 +01:00 [INF] Hosting environment: Development
2021-11-01 14:35:26.709 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 14:35:26.855 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 14:35:26.957 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 14:35:26.963 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 112.0375ms
2021-11-01 14:35:27.127 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 169.2886ms
2021-11-01 14:35:27.201 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 14:35:27.203 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 14:35:27.256 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 14:35:27.271 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 14:35:27.271 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 14:35:27.271 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 14:35:27.289 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 87.8664ms
2021-11-01 14:35:27.289 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 33.4406ms
2021-11-01 14:35:27.319 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 115.9680ms
2021-11-01 14:35:28.470 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 14:35:28.595 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 14:35:28.660 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 500 - text/plain 190.5151ms
2021-11-01 14:36:47.540 +01:00 [INF] Staring Api
2021-11-01 14:36:51.893 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 14:36:52.557 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 14:36:52.558 +01:00 [INF] Hosting environment: Development
2021-11-01 14:36:52.576 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 14:36:52.658 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 14:36:52.801 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 14:36:52.801 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 149.3106ms
2021-11-01 14:36:53.024 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 223.2500ms
2021-11-01 14:36:53.091 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 14:36:53.098 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 14:36:53.099 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 14:36:53.190 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 14:36:53.192 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 14:36:53.201 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 14:36:53.208 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 116.4513ms
2021-11-01 14:36:53.225 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 126.6722ms
2021-11-01 14:36:53.288 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 190.1609ms
2021-11-01 14:36:54.456 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 14:36:54.796 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 340.2478ms
2021-11-01 14:37:22.113 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 14:37:22.310 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user)
2021-11-01 14:37:22.315 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-01 14:37:22.316 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Reservations/GetReservations - - - 401 - - 203.5617ms
2021-11-01 14:37:42.679 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Account/Login application/json 74
2021-11-01 14:37:42.708 +01:00 [INF] No CORS policy found for the specified request.
2021-11-01 14:37:42.709 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 14:37:42.770 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 14:37:44.058 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:37:44.634 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 14:37:44.900 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 14:37:44.936 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 14:37:44.942 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 14:37:45.168 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 14:37:45.187 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2405.9886ms
2021-11-01 14:37:45.188 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 14:37:45.194 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Account/Login application/json 74 - 200 - application/json;+charset=utf-8 2514.8319ms
2021-11-01 14:38:10.591 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 14:38:10.721 +01:00 [INF] Successfully validated the token.
2021-11-01 14:38:10.723 +01:00 [INF] Authorization was successful.
2021-11-01 14:38:10.724 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 14:38:10.728 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 14:38:10.826 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:38:10.840 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:38:10.888 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:38:10.905 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 177.3902ms
2021-11-01 14:38:10.906 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 14:38:10.908 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 317.2165ms
2021-11-01 14:38:22.413 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Books/Get - -
2021-11-01 14:38:22.416 +01:00 [INF] Successfully validated the token.
2021-11-01 14:38:22.417 +01:00 [INF] Authorization was successful.
2021-11-01 14:38:22.420 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:38:22.426 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 14:38:22.455 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:38:22.465 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 14:38:22.480 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:38:22.495 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:38:22.495 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:38:22.497 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:38:22.498 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:38:22.498 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:38:22.498 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:38:22.499 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:38:22.499 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:38:22.499 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 14:38:22.501 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:38:22.512 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 86.3201ms
2021-11-01 14:38:22.512 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 14:38:22.513 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 99.4314ms
2021-11-01 14:38:43.062 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44336/api/Books application/json 117
2021-11-01 14:38:43.062 +01:00 [INF] Successfully validated the token.
2021-11-01 14:38:43.063 +01:00 [INF] Authorization was successful.
2021-11-01 14:38:43.064 +01:00 [INF] No CORS policy found for the specified request.
2021-11-01 14:38:43.064 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 14:38:43.072 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 14:38:43.089 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:38:43.096 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__title_0='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 14:38:43.277 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (Size = 6), @p2='?' (Size = 6), @p3='?', @p4='?' (Size = 6), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 14:38:43.309 +01:00 [INF] Executing JsonResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-01 14:38:43.339 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 266.8882ms
2021-11-01 14:38:43.339 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 14:38:43.339 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44336/api/Books application/json 117 - 200 - application/json;+charset=utf-8 278.3151ms
2021-11-01 14:39:52.799 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 14:39:52.809 +01:00 [INF] Successfully validated the token.
2021-11-01 14:39:52.810 +01:00 [INF] Authorization was successful.
2021-11-01 14:39:52.810 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 14:39:52.819 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 14:39:52.839 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 14:39:52.856 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 14:39:52.887 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 14:39:52.889 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 14:39:52.904 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 85.0591ms
2021-11-01 14:39:52.904 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 14:39:52.905 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 106.0113ms
2021-11-01 14:47:33.395 +01:00 [INF] Staring Api
2021-11-01 14:47:36.113 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 14:47:36.912 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 14:47:36.913 +01:00 [INF] Hosting environment: Development
2021-11-01 14:47:36.913 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 14:47:37.059 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 14:47:37.226 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 176.2862ms
2021-11-01 14:47:37.430 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 14:47:37.639 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 209.6589ms
2021-11-01 14:47:37.691 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 14:47:37.711 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 14:47:37.769 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 14:47:37.793 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 14:47:37.795 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 14:47:37.811 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 119.0723ms
2021-11-01 14:47:37.833 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 14:47:37.846 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 74.3711ms
2021-11-01 14:47:37.874 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 162.6857ms
2021-11-01 14:47:39.132 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 14:47:39.317 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 184.8955ms
2021-11-01 14:57:50.990 +01:00 [INF] Staring Api
2021-11-01 14:57:55.363 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 14:57:56.566 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 14:57:56.567 +01:00 [INF] Hosting environment: Development
2021-11-01 14:57:56.567 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 14:57:56.725 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 14:57:56.863 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 148.1312ms
2021-11-01 14:57:56.876 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 14:57:57.203 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 326.4132ms
2021-11-01 14:57:57.288 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 14:57:57.350 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 14:57:57.385 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 14:57:57.385 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 14:57:57.392 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 103.6475ms
2021-11-01 14:57:57.447 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 97.8033ms
2021-11-01 14:57:57.470 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 14:57:57.489 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 14:57:57.504 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 33.9831ms
2021-11-01 14:57:59.175 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 14:57:59.402 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 226.8515ms
2021-11-01 15:11:14.658 +01:00 [INF] Staring Api
2021-11-01 15:11:17.367 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 15:11:17.986 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 15:11:17.987 +01:00 [INF] Hosting environment: Development
2021-11-01 15:11:17.987 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 15:11:18.146 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 15:11:18.308 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 178.2179ms
2021-11-01 15:11:18.324 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 15:11:18.679 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 356.3543ms
2021-11-01 15:11:18.739 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 15:11:18.741 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 15:11:18.742 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 15:11:18.809 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 15:11:18.809 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 15:11:18.809 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 15:11:18.819 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 78.3834ms
2021-11-01 15:11:18.834 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 92.5731ms
2021-11-01 15:11:18.880 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 142.8577ms
2021-11-01 15:11:19.663 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 15:11:19.949 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 286.3199ms
2021-11-01 15:51:40.994 +01:00 [INF] Staring Api
2021-11-01 15:51:44.087 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 15:51:44.609 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 15:51:44.609 +01:00 [INF] Hosting environment: Development
2021-11-01 15:51:44.609 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 15:51:44.701 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 15:51:44.824 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 129.8204ms
2021-11-01 15:51:44.825 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 15:51:45.210 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 385.2033ms
2021-11-01 15:51:45.272 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 15:51:45.305 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 15:51:45.352 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 15:51:45.357 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 15:51:45.357 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 15:51:45.367 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 94.2168ms
2021-11-01 15:51:45.367 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 15:51:45.398 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 46.0463ms
2021-11-01 15:51:45.417 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 112.5218ms
2021-11-01 15:51:46.419 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 15:51:46.660 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 240.8283ms
2021-11-01 16:09:37.022 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 16:09:37.199 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 16:09:37.265 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 16:09:38.524 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:09:39.056 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 16:09:39.282 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 16:09:39.311 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 16:09:39.319 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 16:09:39.535 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 16:09:39.554 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2281.0154ms
2021-11-01 16:09:39.555 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 16:09:39.565 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2542.4693ms
2021-11-01 16:10:00.784 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 16:10:00.891 +01:00 [INF] Successfully validated the token.
2021-11-01 16:10:00.910 +01:00 [INF] Authorization was successful.
2021-11-01 16:10:00.911 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 16:10:00.915 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 16:10:01.046 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:10:01.056 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:01.109 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:10:01.117 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 201.9947ms
2021-11-01 16:10:01.118 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 16:10:01.126 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 341.8374ms
2021-11-01 16:10:10.360 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 16:10:10.366 +01:00 [INF] Successfully validated the token.
2021-11-01 16:10:10.367 +01:00 [INF] Authorization was successful.
2021-11-01 16:10:10.369 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:10:10.372 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 16:10:10.391 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:10:10.404 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 16:10:10.435 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 16:10:10.437 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:10:10.453 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 80.0882ms
2021-11-01 16:10:10.453 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:10:10.455 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 94.1269ms
2021-11-01 16:10:10.530 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 16:10:10.618 +01:00 [INF] Successfully validated the token.
2021-11-01 16:10:10.619 +01:00 [INF] Authorization was successful.
2021-11-01 16:10:10.619 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:10:10.623 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 16:10:10.635 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:10:10.640 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 16:10:10.659 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:10.672 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:10.673 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:10.674 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:10.675 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:10.677 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:10.678 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:10.678 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:10.679 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:10.679 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:10.680 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:10.683 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:10:10.689 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 65.8261ms
2021-11-01 16:10:10.690 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:10:10.691 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 160.9212ms
2021-11-01 16:10:25.402 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 -
2021-11-01 16:10:25.404 +01:00 [INF] Successfully validated the token.
2021-11-01 16:10:25.404 +01:00 [INF] Authorization was successful.
2021-11-01 16:10:25.405 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 16:10:25.411 +01:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Reservations.CreateReservation) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 16:10:25.421 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:10:25.430 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
WHERE "r"."Id" = @__reservationId_0
LIMIT 1
2021-11-01 16:10:25.622 +01:00 [INF] Executing JsonResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-01 16:10:25.645 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API) in 233.926ms
2021-11-01 16:10:25.646 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 16:10:25.648 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Rezerwacja o id: 'c2d53487-9877-4adb-96a8-288be68931c2' nie istenieje)
 ---> System.Exception: Rezerwacja o id: 'c2d53487-9877-4adb-96a8-288be68931c2' nie istenieje
   at ProgLibrary.Infrastructure.Extensions.RepositoryExtensions.GetOrFailAsync(IReservationRepository reservationRepository, Guid id) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Extensions\RepositoryExtensions.cs:line 67
   at ProgLibrary.Infrastructure.Services.ReservationService.CreateAsync(Guid id, Guid userId, Guid bookId, DateTime ReservationTimeFrom, DateTime ReservationTimeTo) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\ReservationService.cs:line 44
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 16:10:25.730 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 - - 500 - text/plain 327.6370ms
2021-11-01 16:10:49.282 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 16:10:49.291 +01:00 [INF] Successfully validated the token.
2021-11-01 16:10:49.292 +01:00 [INF] Authorization was successful.
2021-11-01 16:10:49.300 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:10:49.301 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 16:10:49.303 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:10:49.307 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 16:10:49.312 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 16:10:49.316 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:10:49.316 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 15.5224ms
2021-11-01 16:10:49.317 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:10:49.319 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 36.6451ms
2021-11-01 16:10:49.323 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 16:10:49.325 +01:00 [INF] Successfully validated the token.
2021-11-01 16:10:49.326 +01:00 [INF] Authorization was successful.
2021-11-01 16:10:49.326 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:10:49.326 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 16:10:49.328 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:10:49.334 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 16:10:49.334 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:49.335 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:49.336 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:49.336 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:49.336 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:49.337 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:49.337 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:49.338 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:49.338 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:49.339 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:49.340 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:49.342 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:10:49.345 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 18.5433ms
2021-11-01 16:10:49.345 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:10:49.351 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 27.7930ms
2021-11-01 16:10:51.670 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 16:10:51.670 +01:00 [INF] Successfully validated the token.
2021-11-01 16:10:51.671 +01:00 [INF] Authorization was successful.
2021-11-01 16:10:51.671 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:10:51.671 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 16:10:51.687 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:10:51.692 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 16:10:51.700 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 16:10:51.702 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:10:51.702 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 30.7803ms
2021-11-01 16:10:51.703 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:10:51.705 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 35.4749ms
2021-11-01 16:10:51.706 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 16:10:51.707 +01:00 [INF] Successfully validated the token.
2021-11-01 16:10:51.707 +01:00 [INF] Authorization was successful.
2021-11-01 16:10:51.707 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:10:51.707 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 16:10:51.713 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:10:51.716 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 16:10:51.717 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:51.718 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:51.718 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:51.718 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:51.719 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:51.719 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:51.719 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:51.720 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:51.720 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:51.721 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:51.721 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:51.722 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:10:51.723 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 15.7778ms
2021-11-01 16:10:51.723 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:10:51.731 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 25.7351ms
2021-11-01 16:10:53.300 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 16:10:53.303 +01:00 [INF] Successfully validated the token.
2021-11-01 16:10:53.303 +01:00 [INF] Authorization was successful.
2021-11-01 16:10:53.303 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:10:53.303 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 16:10:53.304 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:10:53.307 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 16:10:53.315 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 16:10:53.317 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:10:53.320 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 16.3225ms
2021-11-01 16:10:53.320 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:10:53.331 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 30.9047ms
2021-11-01 16:10:53.332 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 16:10:53.333 +01:00 [INF] Successfully validated the token.
2021-11-01 16:10:53.333 +01:00 [INF] Authorization was successful.
2021-11-01 16:10:53.333 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:10:53.333 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 16:10:53.334 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:10:53.337 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 16:10:53.338 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:53.338 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:53.338 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:53.338 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:53.339 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:53.339 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:53.339 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:53.340 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:53.340 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:53.340 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:53.340 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:10:53.342 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:10:53.342 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 8.7659ms
2021-11-01 16:10:53.343 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:10:53.351 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 18.4220ms
2021-11-01 16:11:05.805 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 -
2021-11-01 16:11:05.807 +01:00 [INF] Successfully validated the token.
2021-11-01 16:11:05.808 +01:00 [INF] Authorization was successful.
2021-11-01 16:11:05.808 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 16:11:05.808 +01:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Reservations.CreateReservation) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 16:11:05.811 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:11:05.816 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reservationId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
WHERE "r"."Id" = @__reservationId_0
LIMIT 1
2021-11-01 16:11:05.981 +01:00 [INF] Executing JsonResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-01 16:11:05.982 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API) in 173.7244ms
2021-11-01 16:11:05.983 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 16:11:05.986 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Rezerwacja o id: 'cbf6345e-5bde-4bf8-84cb-55bffa88c9b9' nie istenieje)
 ---> System.Exception: Rezerwacja o id: 'cbf6345e-5bde-4bf8-84cb-55bffa88c9b9' nie istenieje
   at ProgLibrary.Infrastructure.Extensions.RepositoryExtensions.GetOrFailAsync(IReservationRepository reservationRepository, Guid id) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Extensions\RepositoryExtensions.cs:line 67
   at ProgLibrary.Infrastructure.Services.ReservationService.CreateAsync(Guid id, Guid userId, Guid bookId, DateTime ReservationTimeFrom, DateTime ReservationTimeTo) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\ReservationService.cs:line 44
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 16:11:05.997 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 - - 500 - text/plain 193.2065ms
2021-11-01 16:14:50.189 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 16:14:50.195 +01:00 [INF] Successfully validated the token.
2021-11-01 16:14:50.201 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 16:14:50.202 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 16:14:50.203 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:14:50.212 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 16:14:50.217 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 16:14:50.233 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 16:14:50.237 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 16:14:50.240 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 16:14:50.241 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 39.4802ms
2021-11-01 16:14:50.242 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 16:14:50.243 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 54.1637ms
2021-11-01 16:14:50.287 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 16:14:50.288 +01:00 [INF] Successfully validated the token.
2021-11-01 16:14:50.289 +01:00 [INF] Authorization was successful.
2021-11-01 16:14:50.290 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:14:50.290 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 16:14:50.291 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:14:50.295 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 16:14:50.301 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 16:14:50.303 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:14:50.303 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 13.3456ms
2021-11-01 16:14:50.304 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:14:50.312 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 24.8791ms
2021-11-01 16:14:50.317 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 16:14:50.318 +01:00 [INF] Successfully validated the token.
2021-11-01 16:14:50.318 +01:00 [INF] Authorization was successful.
2021-11-01 16:14:50.318 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:14:50.318 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 16:14:50.319 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:14:50.322 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 16:14:50.322 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:14:50.323 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:14:50.323 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:14:50.324 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:14:50.324 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:14:50.324 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:14:50.325 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:14:50.325 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:14:50.325 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:14:50.325 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:14:50.326 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:14:50.327 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:14:50.328 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 9.2484ms
2021-11-01 16:14:50.328 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:14:50.330 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 13.0143ms
2021-11-01 16:15:01.216 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 -
2021-11-01 16:15:01.217 +01:00 [INF] Successfully validated the token.
2021-11-01 16:15:01.217 +01:00 [INF] Authorization was successful.
2021-11-01 16:15:01.217 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 16:15:01.217 +01:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Reservations.CreateReservation) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 16:15:01.219 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:15:01.223 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
WHERE "r"."Id" = @__reservationId_0
LIMIT 1
2021-11-01 16:15:01.420 +01:00 [INF] Executing JsonResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-01 16:15:01.421 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API) in 203.4434ms
2021-11-01 16:15:01.422 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 16:15:01.423 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Rezerwacja o id: '59a6f550-d3ed-4579-80a7-8bec4a7687e0' nie istenieje)
 ---> System.Exception: Rezerwacja o id: '59a6f550-d3ed-4579-80a7-8bec4a7687e0' nie istenieje
   at ProgLibrary.Infrastructure.Extensions.RepositoryExtensions.GetOrFailAsync(IReservationRepository reservationRepository, Guid id) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Extensions\RepositoryExtensions.cs:line 67
   at ProgLibrary.Infrastructure.Services.ReservationService.CreateAsync(Guid id, Guid userId, Guid bookId, DateTime ReservationTimeFrom, DateTime ReservationTimeTo) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\ReservationService.cs:line 44
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 16:15:01.434 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 - - 500 - text/plain 217.9631ms
2021-11-01 16:15:38.620 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 16:15:38.620 +01:00 [INF] Successfully validated the token.
2021-11-01 16:15:38.620 +01:00 [INF] Authorization was successful.
2021-11-01 16:15:38.621 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:15:38.621 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 16:15:38.621 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:15:38.624 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 16:15:38.631 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 16:15:38.633 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:15:38.633 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 12.3903ms
2021-11-01 16:15:38.633 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:15:38.634 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 14.7112ms
2021-11-01 16:15:38.639 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 16:15:38.640 +01:00 [INF] Successfully validated the token.
2021-11-01 16:15:38.640 +01:00 [INF] Authorization was successful.
2021-11-01 16:15:38.640 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:15:38.641 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 16:15:38.641 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:15:38.647 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 16:15:38.647 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:38.648 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:38.648 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:38.649 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:38.649 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:38.649 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:38.650 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:38.650 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:38.651 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:38.651 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:38.653 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:38.654 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:15:38.655 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 14.3005ms
2021-11-01 16:15:38.655 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:15:38.661 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 22.1604ms
2021-11-01 16:15:41.222 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 16:15:41.225 +01:00 [INF] Successfully validated the token.
2021-11-01 16:15:41.225 +01:00 [INF] Authorization was successful.
2021-11-01 16:15:41.225 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:15:41.225 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 16:15:41.228 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:15:41.235 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 16:15:41.240 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 16:15:41.245 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:15:41.245 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 19.9035ms
2021-11-01 16:15:41.246 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:15:41.246 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 24.4607ms
2021-11-01 16:15:41.249 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 16:15:41.250 +01:00 [INF] Successfully validated the token.
2021-11-01 16:15:41.250 +01:00 [INF] Authorization was successful.
2021-11-01 16:15:41.250 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:15:41.250 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 16:15:41.251 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:15:41.254 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 16:15:41.255 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:41.255 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:41.255 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:41.256 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:41.256 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:41.256 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:41.257 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:41.257 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:41.258 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:41.259 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:41.260 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:15:41.262 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:15:41.263 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 12.4578ms
2021-11-01 16:15:41.263 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:15:41.271 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 18.0192ms
2021-11-01 16:15:48.403 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 -
2021-11-01 16:15:48.403 +01:00 [INF] Successfully validated the token.
2021-11-01 16:15:48.403 +01:00 [INF] Authorization was successful.
2021-11-01 16:15:48.405 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 16:15:48.405 +01:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Reservations.CreateReservation) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 16:15:59.648 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:15:59.692 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
WHERE "r"."Id" = @__reservationId_0
LIMIT 1
2021-11-01 16:23:37.595 +01:00 [INF] Staring Api
2021-11-01 16:23:41.620 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 16:23:42.400 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 16:23:42.400 +01:00 [INF] Hosting environment: Development
2021-11-01 16:23:42.400 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 16:23:42.504 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 16:23:42.607 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 16:23:42.611 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 112.1652ms
2021-11-01 16:23:42.789 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 181.8627ms
2021-11-01 16:23:42.884 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 16:23:42.886 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 16:23:42.887 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 16:23:42.981 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 16:23:42.983 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 16:23:42.994 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 107.1346ms
2021-11-01 16:23:42.998 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 16:23:43.008 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 121.5506ms
2021-11-01 16:23:43.074 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 186.5408ms
2021-11-01 16:23:44.430 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 16:23:44.731 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 300.6393ms
2021-11-01 16:26:35.577 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 16:26:35.752 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 16:26:35.801 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 16:26:36.917 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:26:37.390 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 16:26:37.615 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 16:26:37.644 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 16:26:37.650 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 16:26:37.850 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 16:26:37.867 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2058.7283ms
2021-11-01 16:26:37.868 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 16:26:37.875 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2297.9437ms
2021-11-01 16:26:40.852 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 16:26:40.948 +01:00 [INF] Successfully validated the token.
2021-11-01 16:26:40.964 +01:00 [INF] Authorization was successful.
2021-11-01 16:26:40.966 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 16:26:40.974 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 16:26:41.055 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:26:41.067 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:26:41.102 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:26:41.114 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 139.7217ms
2021-11-01 16:26:41.114 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 16:26:41.117 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 264.1707ms
2021-11-01 16:26:42.471 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 16:26:42.476 +01:00 [INF] Successfully validated the token.
2021-11-01 16:26:42.477 +01:00 [INF] Authorization was successful.
2021-11-01 16:26:42.478 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:26:42.481 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 16:26:42.499 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:26:42.513 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 16:26:42.549 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 16:26:42.551 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:26:42.570 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 88.3255ms
2021-11-01 16:26:42.570 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:26:42.571 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 100.1645ms
2021-11-01 16:26:42.653 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 16:26:42.654 +01:00 [INF] Successfully validated the token.
2021-11-01 16:26:42.655 +01:00 [INF] Authorization was successful.
2021-11-01 16:26:42.655 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:26:42.662 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 16:26:42.676 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:26:42.683 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 16:26:42.699 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:26:42.715 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:26:42.715 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:26:42.717 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:26:42.718 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:26:42.718 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:26:42.719 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:26:42.719 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:26:42.719 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:26:42.720 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:26:42.720 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:26:42.722 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:26:42.730 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 68.6966ms
2021-11-01 16:26:42.731 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:26:42.732 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 78.6784ms
2021-11-01 16:26:51.872 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 -
2021-11-01 16:26:51.875 +01:00 [INF] Successfully validated the token.
2021-11-01 16:26:51.875 +01:00 [INF] Authorization was successful.
2021-11-01 16:26:51.876 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 16:26:51.881 +01:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Reservations.CreateReservation) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 16:26:57.358 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:26:57.408 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
WHERE "r"."Id" = @__reservationId_0
LIMIT 1
2021-11-01 16:27:03.168 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:27:41.930 +01:00 [INF] Executing JsonResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-01 16:27:42.008 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API) in 50125.8067ms
2021-11-01 16:27:42.015 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 16:27:42.050 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 16:27:42.153 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 - - 500 - text/plain 50280.5144ms
2021-11-01 16:28:04.788 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 16:28:04.791 +01:00 [INF] Successfully validated the token.
2021-11-01 16:28:04.791 +01:00 [INF] Authorization was successful.
2021-11-01 16:28:04.791 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:28:04.792 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 16:28:04.799 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:28:04.804 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 16:28:04.809 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 16:28:04.811 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:28:04.812 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 19.6583ms
2021-11-01 16:28:04.812 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:28:04.813 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 24.9440ms
2021-11-01 16:28:04.829 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 16:28:04.832 +01:00 [INF] Successfully validated the token.
2021-11-01 16:28:04.832 +01:00 [INF] Authorization was successful.
2021-11-01 16:28:04.833 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:28:04.833 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 16:28:04.836 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:28:04.839 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 16:28:04.839 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:04.840 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:04.840 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:04.840 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:04.841 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:04.841 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:04.842 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:04.842 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:04.843 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:04.843 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:04.844 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:04.845 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:28:04.846 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 12.9927ms
2021-11-01 16:28:04.848 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:28:04.853 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 24.3003ms
2021-11-01 16:28:06.787 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 16:28:06.787 +01:00 [INF] Successfully validated the token.
2021-11-01 16:28:06.787 +01:00 [INF] Authorization was successful.
2021-11-01 16:28:06.788 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:28:06.788 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 16:28:06.805 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:28:06.809 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 16:28:06.819 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 16:28:06.821 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:28:06.823 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 34.1997ms
2021-11-01 16:28:06.823 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:28:06.831 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 44.7334ms
2021-11-01 16:28:06.876 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 16:28:06.877 +01:00 [INF] Successfully validated the token.
2021-11-01 16:28:06.877 +01:00 [INF] Authorization was successful.
2021-11-01 16:28:06.877 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:28:06.877 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 16:28:06.881 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:28:06.887 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 16:28:06.888 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:06.889 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:06.889 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:06.889 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:06.890 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:06.890 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:06.890 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:06.891 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:06.891 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:06.891 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:06.892 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:28:06.893 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:28:06.894 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 16.7347ms
2021-11-01 16:28:06.894 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:28:06.896 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 19.6148ms
2021-11-01 16:28:23.804 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 -
2021-11-01 16:28:23.805 +01:00 [INF] Successfully validated the token.
2021-11-01 16:28:23.805 +01:00 [INF] Authorization was successful.
2021-11-01 16:28:23.806 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 16:28:23.806 +01:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Reservations.CreateReservation) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 16:28:54.501 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:28:54.534 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
WHERE "r"."Id" = @__reservationId_0
LIMIT 1
2021-11-01 16:29:32.294 +01:00 [INF] Executing JsonResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-01 16:29:32.332 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API) in 68525.3129ms
2021-11-01 16:29:32.338 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 16:29:32.421 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 16:29:32.474 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 - - 500 - text/plain 68669.1584ms
2021-11-01 16:29:38.993 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 16:29:38.993 +01:00 [INF] Successfully validated the token.
2021-11-01 16:29:38.994 +01:00 [INF] Authorization was successful.
2021-11-01 16:29:38.994 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:29:38.994 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 16:29:38.995 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:29:38.998 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 16:29:39.003 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 16:29:39.006 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:29:39.007 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 12.9622ms
2021-11-01 16:29:39.007 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:29:39.008 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 15.2050ms
2021-11-01 16:29:39.011 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 16:29:39.012 +01:00 [INF] Successfully validated the token.
2021-11-01 16:29:39.012 +01:00 [INF] Authorization was successful.
2021-11-01 16:29:39.013 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:29:39.013 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 16:29:39.014 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:29:39.017 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 16:29:39.017 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:29:39.018 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:29:39.018 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:29:39.019 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:29:39.019 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:29:39.019 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:29:39.020 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:29:39.020 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:29:39.022 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:29:39.023 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:29:39.024 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:29:39.026 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:29:39.026 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 13.075ms
2021-11-01 16:29:39.026 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:29:39.028 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 16.6211ms
2021-11-01 16:29:46.511 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 -
2021-11-01 16:29:46.513 +01:00 [INF] Successfully validated the token.
2021-11-01 16:29:46.513 +01:00 [INF] Authorization was successful.
2021-11-01 16:29:46.514 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 16:29:46.514 +01:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Reservations.CreateReservation) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 16:30:07.478 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:30:07.525 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reservationId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
WHERE "r"."Id" = @__reservationId_0
LIMIT 1
2021-11-01 16:30:13.371 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("Id", "BookId", "CreatedAt", "ReservationTimeFrom", "ReservationTimeTo", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 16:30:13.418 +01:00 [INF] Executing JsonResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-01 16:30:13.421 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API) in 26906.3555ms
2021-11-01 16:30:13.422 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 16:30:13.424 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 16:30:13.470 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 - - 500 - text/plain 26958.6466ms
2021-11-01 16:30:25.556 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - -
2021-11-01 16:30:25.556 +01:00 [INF] Successfully validated the token.
2021-11-01 16:30:25.557 +01:00 [INF] Authorization was successful.
2021-11-01 16:30:25.557 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:30:25.557 +01:00 [INF] Route matched with {action = "GetUsers", controller = "Administration"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetUsers() on controller ProgLibrary.API.Controllers.AdministrationController (ProgLibrary.API).
2021-11-01 16:30:25.558 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:30:25.563 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2021-11-01 16:30:25.570 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2021-11-01 16:30:25.572 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Core.Domain.User, ProgLibrary.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:30:25.573 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API) in 15.7347ms
2021-11-01 16:30:25.573 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AdministrationController.GetUsers (ProgLibrary.API)'
2021-11-01 16:30:25.574 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Administration/GetUsers - - - 200 - application/json;+charset=utf-8 20.4338ms
2021-11-01 16:30:25.579 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 16:30:25.580 +01:00 [INF] Successfully validated the token.
2021-11-01 16:30:25.580 +01:00 [INF] Authorization was successful.
2021-11-01 16:30:25.580 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:30:25.581 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 16:30:25.582 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:30:25.589 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 16:30:25.589 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:30:25.590 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:30:25.590 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:30:25.591 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:30:25.591 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:30:25.592 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:30:25.592 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:30:25.592 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:30:25.594 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:30:25.594 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:30:25.595 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:30:25.597 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:30:25.597 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 16.4063ms
2021-11-01 16:30:25.597 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:30:25.598 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 19.2206ms
2021-11-01 16:30:30.177 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 -
2021-11-01 16:30:30.177 +01:00 [INF] Successfully validated the token.
2021-11-01 16:30:30.178 +01:00 [INF] Authorization was successful.
2021-11-01 16:30:30.178 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 16:30:30.178 +01:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Reservations.CreateReservation) on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 16:30:37.249 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:30:37.287 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
WHERE "r"."Id" = @__reservationId_0
LIMIT 1
2021-11-01 16:31:43.530 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("Id", "BookId", "CreatedAt", "ReservationTimeFrom", "ReservationTimeTo", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 16:31:51.274 +01:00 [INF] Executing JsonResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-01 16:31:51.278 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API) in 81098.7411ms
2021-11-01 16:31:51.278 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.Create (ProgLibrary.API)'
2021-11-01 16:31:51.285 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 16:31:51.342 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Reservations/Create application/json;+charset=utf-8 - - 500 - text/plain 81164.8558ms
2021-11-01 16:32:57.939 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 16:32:57.948 +01:00 [INF] Successfully validated the token.
2021-11-01 16:32:57.948 +01:00 [INF] Authorization was successful.
2021-11-01 16:32:57.949 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 16:32:57.949 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 16:32:57.950 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:32:57.954 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:32:57.956 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:32:57.962 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 13.2815ms
2021-11-01 16:32:57.963 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 16:32:57.965 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 24.0575ms
2021-11-01 16:32:59.532 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 16:32:59.534 +01:00 [INF] Successfully validated the token.
2021-11-01 16:32:59.534 +01:00 [INF] Authorization was successful.
2021-11-01 16:32:59.534 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 16:32:59.535 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 16:32:59.535 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:32:59.539 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:32:59.541 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:32:59.541 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 6.6758ms
2021-11-01 16:32:59.541 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 16:32:59.543 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 10.1494ms
2021-11-01 16:49:26.826 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 16:49:26.834 +01:00 [INF] Successfully validated the token.
2021-11-01 16:49:26.836 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 16:49:26.837 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 16:49:26.871 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:49:26.875 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 16:49:26.881 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 16:49:26.898 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 16:49:26.902 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 16:49:26.904 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 16:49:26.905 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 68.1528ms
2021-11-01 16:49:26.905 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 16:49:26.907 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 80.9927ms
2021-11-01 16:49:26.943 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 16:49:26.944 +01:00 [INF] Successfully validated the token.
2021-11-01 16:49:26.944 +01:00 [INF] Authorization was successful.
2021-11-01 16:49:26.944 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 16:49:26.944 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 16:49:26.945 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:49:26.949 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:26.952 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:49:26.953 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 8.4598ms
2021-11-01 16:49:26.953 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 16:49:26.954 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 10.7138ms
2021-11-01 16:49:28.613 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 16:49:28.613 +01:00 [INF] Successfully validated the token.
2021-11-01 16:49:28.614 +01:00 [INF] Authorization was successful.
2021-11-01 16:49:28.614 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:49:28.615 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 16:49:28.617 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:49:28.622 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 16:49:28.623 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:28.624 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:28.625 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:28.626 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:28.627 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:28.627 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:28.628 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:28.628 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:28.628 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:28.629 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:28.629 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:28.631 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:49:28.633 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 18.3114ms
2021-11-01 16:49:28.633 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:49:28.639 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 26.1561ms
2021-11-01 16:49:29.486 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 16:49:29.491 +01:00 [INF] Successfully validated the token.
2021-11-01 16:49:29.494 +01:00 [INF] Authorization was successful.
2021-11-01 16:49:29.495 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 16:49:29.495 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 16:49:29.495 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:49:29.499 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:29.501 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:49:29.502 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 6.9827ms
2021-11-01 16:49:29.502 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 16:49:29.503 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 17.3159ms
2021-11-01 16:49:31.618 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 16:49:31.618 +01:00 [INF] Successfully validated the token.
2021-11-01 16:49:31.619 +01:00 [INF] Authorization was successful.
2021-11-01 16:49:31.619 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 16:49:31.620 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 16:49:31.620 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:49:31.626 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:31.628 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:49:31.631 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 11.4911ms
2021-11-01 16:49:31.632 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 16:49:31.636 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 18.5611ms
2021-11-01 16:49:32.683 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 16:49:32.683 +01:00 [INF] Successfully validated the token.
2021-11-01 16:49:32.684 +01:00 [INF] Authorization was successful.
2021-11-01 16:49:32.684 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:49:32.684 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 16:49:32.684 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 16:49:32.687 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 16:49:32.688 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:32.688 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:32.689 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:32.689 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:32.690 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:32.690 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:32.691 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:32.691 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:32.692 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:32.693 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:32.694 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 16:49:32.698 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 16:49:32.699 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 14.9956ms
2021-11-01 16:49:32.699 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 16:49:32.701 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 18.0907ms
2021-11-01 17:11:15.863 +01:00 [INF] Staring Api
2021-11-01 17:11:19.089 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 17:11:19.568 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 17:11:19.569 +01:00 [INF] Hosting environment: Development
2021-11-01 17:11:19.584 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 17:11:19.662 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 17:11:19.772 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 114.1993ms
2021-11-01 17:11:19.772 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 17:11:19.964 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 192.4754ms
2021-11-01 17:11:20.026 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 17:11:20.087 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 17:11:20.115 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 17:11:20.115 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 17:11:20.120 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 94.3109ms
2021-11-01 17:11:20.154 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 67.1272ms
2021-11-01 17:11:20.165 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 17:11:20.174 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 17:11:20.184 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 18.9602ms
2021-11-01 17:11:21.534 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 17:11:21.720 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 185.7866ms
2021-11-01 17:13:00.314 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 17:13:00.509 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 17:13:00.571 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 17:13:01.858 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 17:13:02.427 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 17:13:02.689 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 17:13:02.723 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 17:13:02.731 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 17:13:02.944 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 17:13:02.965 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2384.1515ms
2021-11-01 17:13:02.967 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 17:13:02.978 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2664.5706ms
2021-11-01 17:15:06.868 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 17:15:07.008 +01:00 [INF] Successfully validated the token.
2021-11-01 17:15:07.033 +01:00 [INF] Authorization was successful.
2021-11-01 17:15:07.035 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 17:15:07.043 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 17:15:07.140 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 17:15:07.147 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 17:15:07.178 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:15:07.208 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:15:07.209 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:15:07.210 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:15:07.211 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:15:07.211 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:15:07.211 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:15:07.212 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:15:07.212 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:15:07.212 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:15:07.212 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:15:07.214 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 17:15:07.234 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 190.9244ms
2021-11-01 17:15:07.234 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 17:15:07.236 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 368.0254ms
2021-11-01 17:16:51.457 +01:00 [INF] Staring Api
2021-11-01 17:16:54.888 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 17:16:55.398 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 17:16:55.398 +01:00 [INF] Hosting environment: Development
2021-11-01 17:16:55.398 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 17:16:55.545 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 17:16:55.672 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 17:16:55.676 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 134.0587ms
2021-11-01 17:16:55.851 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 179.2304ms
2021-11-01 17:16:55.906 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 17:16:55.946 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 17:16:56.013 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 17:16:56.013 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 17:16:56.022 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 115.5688ms
2021-11-01 17:16:56.056 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 109.6964ms
2021-11-01 17:16:56.101 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 17:16:56.121 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 17:16:56.134 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 32.3501ms
2021-11-01 17:16:57.197 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 17:16:57.382 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 184.2976ms
2021-11-01 17:29:12.427 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 17:29:12.598 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 17:29:12.654 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 17:29:13.804 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 17:29:14.311 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 17:29:14.536 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 17:29:14.565 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 17:29:14.572 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 17:29:14.784 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 17:29:14.804 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2144.5413ms
2021-11-01 17:29:14.808 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 17:29:14.818 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2391.0132ms
2021-11-01 17:29:24.182 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 17:29:24.281 +01:00 [INF] Successfully validated the token.
2021-11-01 17:29:24.297 +01:00 [INF] Authorization was successful.
2021-11-01 17:29:24.299 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 17:29:24.303 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 17:29:24.396 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 17:29:24.406 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:29:24.443 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 17:29:24.453 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 149.639ms
2021-11-01 17:29:24.453 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 17:29:24.455 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 272.6155ms
2021-11-01 17:29:26.336 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 17:29:26.342 +01:00 [INF] Successfully validated the token.
2021-11-01 17:29:26.343 +01:00 [INF] Authorization was successful.
2021-11-01 17:29:26.344 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 17:29:26.348 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 17:29:26.370 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 17:29:26.379 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 17:29:26.397 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:29:26.413 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:29:26.413 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:29:26.415 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:29:26.416 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:29:26.416 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:29:26.417 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:29:26.417 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:29:26.418 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:29:26.418 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:29:26.419 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:29:26.421 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 17:29:26.430 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 81.7215ms
2021-11-01 17:29:26.430 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 17:29:26.432 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 96.0603ms
2021-11-01 17:32:23.840 +01:00 [INF] Staring Api
2021-11-01 17:32:26.453 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 17:32:26.947 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 17:32:26.947 +01:00 [INF] Hosting environment: Development
2021-11-01 17:32:26.947 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 17:32:27.064 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 17:32:27.226 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 169.6128ms
2021-11-01 17:32:27.263 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 17:32:27.517 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 254.3485ms
2021-11-01 17:32:27.695 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 17:32:27.761 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 17:32:27.792 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 17:32:27.792 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 17:32:27.808 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 113.4992ms
2021-11-01 17:32:27.843 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 82.3969ms
2021-11-01 17:32:27.880 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 17:32:27.898 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 17:32:27.908 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 28.2370ms
2021-11-01 17:32:29.944 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 17:32:30.121 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 172.7697ms
2021-11-01 17:32:40.081 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 17:32:40.261 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 17:32:40.329 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 17:32:41.627 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 17:32:42.243 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 17:32:42.520 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 17:32:42.562 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 17:32:42.571 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 17:32:42.770 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 17:32:42.788 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2450.8158ms
2021-11-01 17:32:42.788 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 17:32:42.798 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2716.9562ms
2021-11-01 17:32:45.043 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 17:32:45.142 +01:00 [INF] Successfully validated the token.
2021-11-01 17:32:45.157 +01:00 [INF] Authorization was successful.
2021-11-01 17:32:45.158 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 17:32:45.163 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 17:32:45.238 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 17:32:45.249 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:32:45.281 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 17:32:45.289 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 125.5961ms
2021-11-01 17:32:45.290 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 17:32:45.293 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 249.0480ms
2021-11-01 17:32:46.431 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 17:32:46.435 +01:00 [INF] Successfully validated the token.
2021-11-01 17:32:46.436 +01:00 [INF] Authorization was successful.
2021-11-01 17:32:46.437 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 17:32:46.440 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 17:32:46.470 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 17:32:46.477 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 17:32:46.497 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:32:46.514 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:32:46.514 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:32:46.517 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:32:46.517 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:32:46.518 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:32:46.518 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:32:46.519 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:32:46.519 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:32:46.520 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:32:46.520 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:32:46.522 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 17:32:46.533 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 92.7465ms
2021-11-01 17:32:46.534 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 17:32:46.535 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 104.6202ms
2021-11-01 17:34:17.193 +01:00 [INF] Staring Api
2021-11-01 17:34:20.011 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 17:34:20.716 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 17:34:20.716 +01:00 [INF] Hosting environment: Development
2021-11-01 17:34:20.717 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 17:34:20.878 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 17:34:20.985 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 17:34:20.992 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 118.0674ms
2021-11-01 17:34:21.219 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 234.0794ms
2021-11-01 17:34:21.286 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 17:34:21.323 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 17:34:21.378 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 17:34:21.378 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 17:34:21.387 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 17:34:21.404 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 117.3364ms
2021-11-01 17:34:21.410 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 17:34:21.427 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 39.6137ms
2021-11-01 17:34:21.437 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 113.8647ms
2021-11-01 17:34:23.099 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 17:34:23.475 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 375.5953ms
2021-11-01 17:34:32.967 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 17:34:33.173 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 17:34:33.230 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 17:34:34.430 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 17:34:34.952 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 17:34:35.166 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 17:34:35.196 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 17:34:35.201 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 17:34:35.404 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 17:34:35.422 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2184.1152ms
2021-11-01 17:34:35.423 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 17:34:35.432 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2464.9829ms
2021-11-01 17:34:37.338 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 17:34:37.479 +01:00 [INF] Successfully validated the token.
2021-11-01 17:34:37.500 +01:00 [INF] Authorization was successful.
2021-11-01 17:34:37.502 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 17:34:37.508 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 17:34:37.589 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 17:34:37.596 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 17:34:37.629 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:34:37.665 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:34:37.666 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:34:37.668 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:34:37.668 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:34:37.669 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:34:37.669 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:34:37.670 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:34:37.670 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:34:37.671 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:34:37.671 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:34:37.674 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 17:34:37.688 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 179.9397ms
2021-11-01 17:34:37.688 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 17:34:37.690 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 352.0158ms
2021-11-01 17:42:26.742 +01:00 [INF] Staring Api
2021-11-01 17:42:30.125 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 17:42:30.743 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 17:42:30.743 +01:00 [INF] Hosting environment: Development
2021-11-01 17:42:30.743 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 17:42:30.857 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 17:42:30.972 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 17:42:30.972 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 107.3197ms
2021-11-01 17:42:31.161 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 189.4626ms
2021-11-01 17:42:31.232 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 17:42:31.281 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 17:42:31.324 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 17:42:31.327 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 17:42:31.344 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 111.1078ms
2021-11-01 17:42:31.374 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 92.6998ms
2021-11-01 17:42:31.396 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 17:42:31.403 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 17:42:31.414 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 17.9590ms
2021-11-01 17:42:32.872 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 17:42:33.271 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 398.1651ms
2021-11-01 17:43:02.784 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 17:43:02.952 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 17:43:03.006 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 17:43:04.292 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 17:43:04.837 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 17:43:05.119 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 17:43:05.157 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 17:43:05.165 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 17:43:05.425 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 17:43:05.451 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2431.5095ms
2021-11-01 17:43:05.453 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 17:43:05.469 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2685.0742ms
2021-11-01 17:43:07.985 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 17:43:08.079 +01:00 [INF] Successfully validated the token.
2021-11-01 17:43:08.094 +01:00 [INF] Authorization was successful.
2021-11-01 17:43:08.095 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 17:43:08.099 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 17:43:08.184 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 17:43:08.191 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 17:43:08.221 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:43:08.249 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:43:08.250 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:43:08.252 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:43:08.252 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:43:08.253 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:43:08.253 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:43:08.254 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:43:08.254 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:43:08.254 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:43:08.255 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 17:43:08.257 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 17:43:08.273 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 173.7984ms
2021-11-01 17:43:08.274 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 17:43:08.275 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 291.1650ms
2021-11-01 17:45:53.946 +01:00 [INF] Staring Api
2021-11-01 17:45:56.898 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 17:45:57.460 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 17:45:57.460 +01:00 [INF] Hosting environment: Development
2021-11-01 17:45:57.460 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 17:45:57.529 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 17:45:57.615 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 17:45:57.616 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 89.9311ms
2021-11-01 17:45:57.804 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 191.7093ms
2021-11-01 17:45:57.865 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 17:45:57.894 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 17:45:57.935 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 17:45:57.935 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 17:45:57.946 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 17:45:57.956 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 90.8325ms
2021-11-01 17:45:57.964 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 17:45:57.976 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 30.4851ms
2021-11-01 17:45:57.988 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 93.2234ms
2021-11-01 17:45:59.104 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 17:45:59.398 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 294.1636ms
2021-11-01 18:02:29.172 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 18:02:29.363 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 18:02:29.425 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 18:02:30.713 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:02:31.376 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 18:02:31.638 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 18:02:31.681 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 18:02:31.692 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 18:02:31.930 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 18:02:31.948 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2514.7613ms
2021-11-01 18:02:31.948 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 18:02:31.959 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2786.2060ms
2021-11-01 18:02:34.370 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 18:02:34.497 +01:00 [INF] Successfully validated the token.
2021-11-01 18:02:34.512 +01:00 [INF] Authorization was successful.
2021-11-01 18:02:34.513 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 18:02:34.518 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 18:02:34.596 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:02:34.604 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 18:02:34.637 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:02:34.670 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:02:34.671 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:02:34.673 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:02:34.673 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:02:34.673 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:02:34.674 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:02:34.674 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:02:34.674 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:02:34.675 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:02:34.675 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:02:34.679 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 18:02:34.701 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 182.8005ms
2021-11-01 18:02:34.702 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 18:02:34.704 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 334.1975ms
2021-11-01 18:03:33.019 +01:00 [INF] Staring Api
2021-11-01 18:03:36.110 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 18:03:36.806 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 18:03:36.807 +01:00 [INF] Hosting environment: Development
2021-11-01 18:03:36.807 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 18:03:36.913 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 18:03:37.069 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 162.5076ms
2021-11-01 18:03:37.070 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 18:03:37.275 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 200.4296ms
2021-11-01 18:03:37.336 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 18:03:37.430 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 18:03:37.435 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 98.8784ms
2021-11-01 18:03:37.477 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 18:03:37.486 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 18:03:37.527 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 50.4464ms
2021-11-01 18:03:37.542 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 18:03:37.548 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 18:03:37.560 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 18.5664ms
2021-11-01 18:03:39.179 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 18:03:39.533 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 353.8903ms
2021-11-01 18:03:52.988 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 18:03:53.203 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 18:03:53.265 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 18:03:54.510 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:03:55.106 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 18:03:55.353 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 18:03:55.388 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 18:03:55.395 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 18:03:55.604 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 18:03:55.631 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2357.8789ms
2021-11-01 18:03:55.632 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 18:03:55.641 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2652.9558ms
2021-11-01 18:03:58.276 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 18:03:58.377 +01:00 [INF] Successfully validated the token.
2021-11-01 18:03:58.391 +01:00 [INF] Authorization was successful.
2021-11-01 18:03:58.392 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 18:03:58.397 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 18:03:58.478 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:03:58.486 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 18:03:58.521 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:03:58.553 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:03:58.554 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:03:58.556 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:03:58.556 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:03:58.556 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:03:58.558 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:03:58.559 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:03:58.560 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:03:58.562 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:03:58.563 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:03:58.565 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 18:03:58.581 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 183.7096ms
2021-11-01 18:03:58.581 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 18:03:58.583 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 306.4561ms
2021-11-01 18:16:59.441 +01:00 [INF] Staring Api
2021-11-01 18:17:02.637 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 18:17:03.383 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 18:17:03.384 +01:00 [INF] Hosting environment: Development
2021-11-01 18:17:03.384 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 18:17:03.453 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 18:17:03.542 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 18:17:03.561 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 112.6895ms
2021-11-01 18:17:03.739 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 197.2986ms
2021-11-01 18:17:03.786 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 18:17:03.797 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 18:17:03.846 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 18:17:03.846 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 18:17:03.854 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 68.1740ms
2021-11-01 18:17:03.895 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 98.3860ms
2021-11-01 18:17:03.910 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 18:17:03.923 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 18:17:03.934 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 24.1178ms
2021-11-01 18:17:04.821 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 18:17:04.999 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 177.7978ms
2021-11-01 18:17:12.912 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 18:17:13.061 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 18:17:13.107 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 18:17:14.357 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:17:14.855 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 18:17:15.101 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 18:17:15.133 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 18:17:15.144 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 18:17:15.365 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 18:17:15.381 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2268.5211ms
2021-11-01 18:17:15.382 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 18:17:15.390 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2477.3620ms
2021-11-01 18:17:18.153 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 18:17:18.247 +01:00 [INF] Successfully validated the token.
2021-11-01 18:17:18.262 +01:00 [INF] Authorization was successful.
2021-11-01 18:17:18.263 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 18:17:18.267 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 18:17:18.342 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:17:18.349 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:17:18.377 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 18:17:18.384 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 116.3976ms
2021-11-01 18:17:18.384 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 18:17:18.385 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 231.4552ms
2021-11-01 18:17:19.857 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 18:17:19.861 +01:00 [INF] Successfully validated the token.
2021-11-01 18:17:19.862 +01:00 [INF] Authorization was successful.
2021-11-01 18:17:19.863 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 18:17:19.867 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 18:17:19.886 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:17:19.894 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 18:17:19.908 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:17:19.919 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:17:19.920 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:17:19.923 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:17:19.924 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:17:19.924 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:17:19.925 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:17:19.925 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:17:19.925 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:17:19.926 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:17:19.926 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:17:19.928 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 18:17:19.936 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 68.6232ms
2021-11-01 18:17:19.936 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 18:17:19.937 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 79.2004ms
2021-11-01 18:19:05.827 +01:00 [INF] Staring Api
2021-11-01 18:19:08.071 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 18:19:08.532 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 18:19:08.533 +01:00 [INF] Hosting environment: Development
2021-11-01 18:19:08.533 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 18:19:08.607 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 18:19:08.714 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 18:19:08.719 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 116.8304ms
2021-11-01 18:19:08.872 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 157.6986ms
2021-11-01 18:19:08.929 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 18:19:08.986 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 18:19:08.997 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 68.0181ms
2021-11-01 18:19:09.011 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 18:19:09.021 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 18:19:09.063 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 51.6846ms
2021-11-01 18:19:09.154 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 18:19:09.163 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 18:19:09.178 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 23.5244ms
2021-11-01 18:19:11.740 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 18:19:11.861 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 121.8936ms
2021-11-01 18:19:20.259 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 18:19:20.422 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 18:19:20.469 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 18:19:21.635 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:19:22.158 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 18:19:22.362 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 18:19:22.392 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 18:19:22.398 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 18:19:22.592 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 18:19:22.609 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2132.8499ms
2021-11-01 18:19:22.610 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 18:19:22.619 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2359.2945ms
2021-11-01 18:19:25.257 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 18:19:25.350 +01:00 [INF] Successfully validated the token.
2021-11-01 18:19:25.366 +01:00 [INF] Authorization was successful.
2021-11-01 18:19:25.367 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 18:19:25.371 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 18:19:25.448 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:19:25.457 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 18:19:25.490 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:19:25.520 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:19:25.521 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:19:25.522 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:19:25.522 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:19:25.523 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:19:25.523 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:19:25.523 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:19:25.524 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:19:25.524 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:19:25.524 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:19:25.526 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 18:19:25.539 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 167.2914ms
2021-11-01 18:19:25.539 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 18:19:25.540 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 282.9923ms
2021-11-01 18:20:15.486 +01:00 [INF] Staring Api
2021-11-01 18:20:19.608 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 18:20:20.246 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 18:20:20.247 +01:00 [INF] Hosting environment: Development
2021-11-01 18:20:20.247 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 18:20:20.340 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 18:20:20.444 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 18:20:20.452 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 117.7434ms
2021-11-01 18:20:20.642 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 198.4605ms
2021-11-01 18:20:20.693 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 18:20:20.739 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 18:20:20.770 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 18:20:20.770 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 18:20:20.775 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 18:20:20.783 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 88.3337ms
2021-11-01 18:20:20.793 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 18:20:20.806 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 31.2077ms
2021-11-01 18:20:20.828 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 94.5305ms
2021-11-01 18:20:21.878 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 18:20:22.065 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 187.5152ms
2021-11-01 18:20:34.713 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 18:20:34.875 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 18:20:34.940 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 18:20:36.181 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:20:36.693 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 18:20:36.921 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 18:20:36.951 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 18:20:36.957 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 18:20:37.171 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 18:20:37.196 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2246.1597ms
2021-11-01 18:20:37.200 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 18:20:37.211 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2497.0772ms
2021-11-01 18:20:40.659 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 18:20:40.757 +01:00 [INF] Successfully validated the token.
2021-11-01 18:20:40.773 +01:00 [INF] Authorization was successful.
2021-11-01 18:20:40.775 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 18:20:40.781 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 18:20:40.866 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:20:40.873 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 18:20:40.913 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:20:40.943 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:20:40.944 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:20:40.946 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:20:40.947 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:20:40.947 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:20:40.948 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:20:40.949 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:20:40.949 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:20:40.950 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:20:40.950 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:20:40.952 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 18:20:40.968 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 187.6108ms
2021-11-01 18:20:40.969 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 18:20:40.975 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 315.3857ms
2021-11-01 18:21:29.477 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 18:21:29.482 +01:00 [INF] Successfully validated the token.
2021-11-01 18:21:29.482 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-11-01 18:21:29.484 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-11-01 18:21:29.504 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 405 - - 26.7773ms
2021-11-01 18:32:12.377 +01:00 [INF] Staring Api
2021-11-01 18:32:15.723 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 18:32:16.402 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 18:32:16.402 +01:00 [INF] Hosting environment: Development
2021-11-01 18:32:16.402 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 18:32:16.518 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 18:32:16.606 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 18:32:16.616 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 104.3385ms
2021-11-01 18:32:16.803 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 197.0888ms
2021-11-01 18:32:16.860 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 18:32:16.862 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 18:32:16.862 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 18:32:16.956 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 18:32:16.956 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 18:32:16.956 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 18:32:16.974 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 112.3158ms
2021-11-01 18:32:16.975 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 114.9640ms
2021-11-01 18:32:17.055 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 193.4971ms
2021-11-01 18:32:17.987 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 18:32:18.252 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 265.2660ms
2021-11-01 18:32:29.060 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 18:32:29.206 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 18:32:29.264 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 18:32:30.400 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:32:30.882 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 18:32:31.110 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 18:32:31.139 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 18:32:31.146 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 18:32:31.352 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 18:32:31.369 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2097.6355ms
2021-11-01 18:32:31.370 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 18:32:31.382 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2322.0549ms
2021-11-01 18:32:33.363 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 18:32:33.465 +01:00 [INF] Successfully validated the token.
2021-11-01 18:32:33.482 +01:00 [INF] Authorization was successful.
2021-11-01 18:32:33.483 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 18:32:33.493 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 18:32:33.576 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:32:33.585 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 18:32:33.614 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:32:33.643 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:32:33.644 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:32:33.646 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:32:33.646 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:32:33.648 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:32:33.648 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:32:33.649 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:32:33.650 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:32:33.651 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:32:33.651 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:32:33.668 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 18:32:33.683 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 190.2349ms
2021-11-01 18:32:33.683 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 18:32:33.684 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 321.9566ms
2021-11-01 18:32:41.739 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 18:32:41.746 +01:00 [INF] Successfully validated the token.
2021-11-01 18:32:41.747 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-11-01 18:32:41.748 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-11-01 18:32:41.750 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 405 - - 10.4285ms
2021-11-01 18:33:14.493 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 18:33:14.494 +01:00 [INF] Successfully validated the token.
2021-11-01 18:33:14.498 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-11-01 18:33:14.498 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-11-01 18:33:14.499 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 405 - - 6.9783ms
2021-11-01 18:33:26.490 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 18:33:26.491 +01:00 [INF] Successfully validated the token.
2021-11-01 18:33:26.491 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-11-01 18:33:26.492 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-11-01 18:33:26.493 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 405 - - 2.9154ms
2021-11-01 18:37:59.982 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 18:37:59.987 +01:00 [INF] Successfully validated the token.
2021-11-01 18:37:59.988 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-11-01 18:37:59.988 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-11-01 18:37:59.989 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 405 - - 6.4142ms
2021-11-01 18:41:37.067 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/api/Books/Get - -
2021-11-01 18:41:37.073 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user)
2021-11-01 18:41:37.087 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-01 18:41:37.087 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/api/Books/Get - - - 401 - - 20.1480ms
2021-11-01 18:41:51.769 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json 133
2021-11-01 18:41:51.770 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-11-01 18:41:51.770 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-11-01 18:41:51.794 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json 133 - 405 - - 25.5301ms
2021-11-01 18:42:19.509 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Create application/json 133
2021-11-01 18:42:19.516 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-11-01 18:42:19.516 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-11-01 18:42:19.518 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Create application/json 133 - 405 - - 9.1101ms
2021-11-01 18:42:25.581 +01:00 [INF] Request starting HTTP/1.1 VIEW https://localhost:44336/api/Books/Create application/json 133
2021-11-01 18:42:25.597 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-11-01 18:42:25.598 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-11-01 18:42:25.599 +01:00 [INF] Request finished HTTP/1.1 VIEW https://localhost:44336/api/Books/Create application/json 133 - 405 - - 18.2622ms
2021-11-01 18:42:30.773 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json 133
2021-11-01 18:42:30.773 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-11-01 18:42:30.774 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-11-01 18:42:30.775 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json 133 - 405 - - 2.7945ms
2021-11-01 18:42:49.878 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Create application/json 133
2021-11-01 18:42:49.881 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Create application/json 133 - 404 - - 3.3752ms
2021-11-01 18:42:56.676 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books application/json 133
2021-11-01 18:42:56.678 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user)
2021-11-01 18:42:56.679 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-11-01 18:42:56.680 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books application/json 133 - 401 - - 3.4657ms
2021-11-01 18:43:56.336 +01:00 [INF] Staring Api
2021-11-01 18:43:59.684 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 18:44:00.415 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 18:44:00.416 +01:00 [INF] Hosting environment: Development
2021-11-01 18:44:00.416 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 18:44:00.582 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 18:44:00.693 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 18:44:00.708 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 129.6524ms
2021-11-01 18:44:00.907 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 213.8892ms
2021-11-01 18:44:00.985 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 18:44:00.988 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 18:44:00.989 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 18:44:01.081 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 18:44:01.081 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 18:44:01.081 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 18:44:01.090 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 101.2406ms
2021-11-01 18:44:01.100 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 114.4343ms
2021-11-01 18:44:01.142 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 153.1402ms
2021-11-01 18:44:02.010 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 18:44:02.272 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 261.5701ms
2021-11-01 18:44:12.229 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 18:44:12.406 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 18:44:12.455 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 18:44:13.968 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:44:14.576 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 18:44:14.870 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 18:44:14.903 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 18:44:14.914 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 18:44:15.187 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 18:44:15.205 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2742.1916ms
2021-11-01 18:44:15.205 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 18:44:15.213 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2984.1392ms
2021-11-01 18:44:19.195 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 18:44:19.304 +01:00 [INF] Successfully validated the token.
2021-11-01 18:44:19.323 +01:00 [INF] Authorization was successful.
2021-11-01 18:44:19.324 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 18:44:19.331 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 18:44:19.444 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:44:19.454 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 18:44:19.484 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:44:19.514 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:44:19.515 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:44:19.517 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:44:19.517 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:44:19.518 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:44:19.519 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:44:19.520 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:44:19.520 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:44:19.521 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:44:19.521 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:44:19.523 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 18:44:19.536 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 204.7772ms
2021-11-01 18:44:19.536 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 18:44:19.538 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 342.3025ms
2021-11-01 18:45:02.736 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 18:45:02.742 +01:00 [INF] Successfully validated the token.
2021-11-01 18:45:02.742 +01:00 [INF] Authorization was successful.
2021-11-01 18:45:02.743 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 18:45:02.751 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 18:45:03.790 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:45:03.800 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__title_0='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 18:45:03.952 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (Size = 13), @p2='?' (Size = 14), @p3='?', @p4='?' (Size = 12), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 18:45:15.410 +01:00 [INF] Executing JsonResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-01 18:45:15.435 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 12683.7214ms
2021-11-01 18:45:15.436 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 18:45:15.437 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 12701.4775ms
2021-11-01 18:45:44.283 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 18:45:44.284 +01:00 [INF] Successfully validated the token.
2021-11-01 18:45:44.285 +01:00 [INF] Authorization was successful.
2021-11-01 18:45:44.285 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 18:45:44.285 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 18:45:45.156 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:45:45.162 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__title_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 18:45:45.175 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?' (Size = 13), @p2='?' (Size = 14), @p3='?', @p4='?' (Size = 13), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 18:45:45.182 +01:00 [INF] Executing JsonResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-01 18:45:45.183 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 897.2355ms
2021-11-01 18:45:45.183 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 18:45:45.184 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 900.7957ms
2021-11-01 18:50:40.183 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 18:50:40.190 +01:00 [INF] Successfully validated the token.
2021-11-01 18:50:40.191 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 18:50:40.191 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 18:50:40.197 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:50:40.199 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 18:50:40.206 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 18:50:40.223 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 18:50:40.227 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 18:50:40.229 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 18:50:40.229 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 38.2186ms
2021-11-01 18:50:40.229 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 18:50:40.230 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 46.9800ms
2021-11-01 18:50:40.258 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 18:50:40.258 +01:00 [INF] Successfully validated the token.
2021-11-01 18:50:40.258 +01:00 [INF] Authorization was successful.
2021-11-01 18:50:40.259 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 18:50:40.259 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 18:50:40.260 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:50:40.262 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 18:50:40.263 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:50:40.264 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:50:40.265 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:50:40.265 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:50:40.266 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:50:40.266 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:50:40.266 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:50:40.266 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:50:40.267 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:50:40.267 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:50:40.267 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:50:40.268 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:50:40.268 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 18:50:40.270 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 18:50:40.272 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 12.9918ms
2021-11-01 18:50:40.272 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 18:50:40.277 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 19.7760ms
2021-11-01 18:50:51.675 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 18:50:51.675 +01:00 [INF] Successfully validated the token.
2021-11-01 18:50:51.676 +01:00 [INF] Authorization was successful.
2021-11-01 18:50:51.676 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 18:50:51.677 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 18:50:52.502 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:50:52.506 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__title_0='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 18:50:53.681 +01:00 [INF] Executing JsonResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-01 18:50:53.692 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 2015.2358ms
2021-11-01 18:50:53.699 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 18:50:53.718 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Książka z id '68c8cf7a-44db-4f4b-9606-4cbe3d278816' nie może mieć przyszłej daty)
 ---> System.Exception: Książka z id '68c8cf7a-44db-4f4b-9606-4cbe3d278816' nie może mieć przyszłej daty
   at ProgLibrary.Core.Domain.Book.SetReleasedDate(DateTime releasedDate) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Core\Domain\Book.cs:line 52
   at ProgLibrary.Core.Domain.Book..ctor(Guid id, String title, String author, DateTime releaseDate, String description) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Core\Domain\Book.cs:line 78
   at ProgLibrary.Infrastructure.Services.BookService.CreateAsync(Guid id, String title, String author, DateTime releasedDate, String description) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\BookService.cs:line 51
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 18:50:53.827 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 500 - text/plain 2151.9323ms
2021-11-01 18:51:34.812 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 18:51:34.812 +01:00 [INF] Successfully validated the token.
2021-11-01 18:51:34.813 +01:00 [INF] Authorization was successful.
2021-11-01 18:51:34.813 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 18:51:34.813 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 18:51:45.891 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:51:45.895 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__title_0='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 18:54:42.655 +01:00 [INF] Executing JsonResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-01 18:54:42.668 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 187852.595ms
2021-11-01 18:54:42.674 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 18:54:42.741 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 18:54:42.796 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 500 - text/plain 187982.6300ms
2021-11-01 18:57:53.735 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 18:57:53.736 +01:00 [INF] Successfully validated the token.
2021-11-01 18:57:53.737 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 18:57:53.737 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 18:57:53.759 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:57:53.763 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 18:57:53.768 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 18:57:53.784 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 18:57:53.790 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 18:57:53.792 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 18:57:53.793 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 55.0062ms
2021-11-01 18:57:53.793 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 18:57:53.794 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 59.0968ms
2021-11-01 18:58:10.532 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 18:58:10.533 +01:00 [INF] Successfully validated the token.
2021-11-01 18:58:10.533 +01:00 [INF] Authorization was successful.
2021-11-01 18:58:10.534 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 18:58:10.534 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 18:58:20.412 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 18:58:20.417 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__title_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 18:58:26.179 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (Size = 11), @p2='?' (Size = 2), @p3='?', @p4='?' (Size = 5), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 18:58:26.990 +01:00 [INF] Executing JsonResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-01 18:58:26.994 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 16460.135ms
2021-11-01 18:58:26.995 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 18:58:26.997 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 18:58:27.042 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 500 - text/plain 16509.1489ms
2021-11-01 19:00:23.281 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 19:00:23.282 +01:00 [INF] Successfully validated the token.
2021-11-01 19:00:23.282 +01:00 [INF] Authorization was successful.
2021-11-01 19:00:23.282 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 19:00:23.282 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 19:00:32.487 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 19:00:32.494 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__title_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 19:01:06.100 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (Size = 11), @p2='?' (Size = 14), @p3='?', @p4='?' (Size = 10), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 19:01:15.397 +01:00 [INF] Executing JsonResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-11-01 19:01:15.401 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 52117.6213ms
2021-11-01 19:01:15.401 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 19:01:15.408 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 19:01:15.457 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 500 - text/plain 52175.7891ms
2021-11-01 19:45:37.145 +01:00 [INF] Staring Api
2021-11-01 19:45:40.193 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 19:45:40.636 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 19:45:40.637 +01:00 [INF] Hosting environment: Development
2021-11-01 19:45:40.637 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 19:45:40.711 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 19:45:40.836 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 128.8210ms
2021-11-01 19:45:40.837 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 19:45:41.124 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 286.8531ms
2021-11-01 19:45:41.233 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 19:45:41.332 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 19:45:41.340 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 107.4281ms
2021-11-01 19:45:41.341 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 19:45:41.356 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 19:45:41.393 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 52.3551ms
2021-11-01 19:45:41.409 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 19:45:41.418 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 19:45:41.429 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 19.3696ms
2021-11-01 19:45:43.662 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 19:45:43.865 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 202.3889ms
2021-11-01 19:45:51.516 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 19:45:51.683 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 19:45:51.739 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 19:45:53.007 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 19:45:53.586 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 19:45:53.853 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 19:45:53.883 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 19:45:53.888 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 19:45:54.099 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 19:45:54.121 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2375.2612ms
2021-11-01 19:45:54.122 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 19:45:54.139 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2622.8933ms
2021-11-01 19:45:56.888 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 19:45:57.006 +01:00 [INF] Successfully validated the token.
2021-11-01 19:45:57.029 +01:00 [INF] Authorization was successful.
2021-11-01 19:45:57.031 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 19:45:57.039 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 19:45:57.132 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 19:45:57.139 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 19:45:57.174 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:45:57.202 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:45:57.203 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:45:57.205 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:45:57.205 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:45:57.206 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:45:57.206 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:45:57.207 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:45:57.207 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:45:57.207 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:45:57.208 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:45:57.208 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:45:57.209 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:45:57.209 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:45:57.209 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:45:57.213 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 19:45:57.231 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 192.3726ms
2021-11-01 19:45:57.232 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 19:45:57.233 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 345.6022ms
2021-11-01 19:46:14.166 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 19:46:14.170 +01:00 [INF] Successfully validated the token.
2021-11-01 19:46:14.172 +01:00 [INF] Authorization was successful.
2021-11-01 19:46:14.173 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 19:46:14.180 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 19:46:15.346 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 19:46:15.358 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__title_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 19:46:15.509 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (Size = 7), @p2='?' (Size = 10), @p3='?', @p4='?' (Size = 7), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 19:49:19.080 +01:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-11-01 19:49:19.081 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 184882.2819ms
2021-11-01 19:49:19.082 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 19:49:19.082 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 184897.7291ms
2021-11-01 19:49:37.709 +01:00 [INF] Staring Api
2021-11-01 19:49:40.656 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 19:49:41.104 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 19:49:41.104 +01:00 [INF] Hosting environment: Development
2021-11-01 19:49:41.104 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 19:49:41.175 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 19:49:41.282 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 19:49:41.283 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 111.7412ms
2021-11-01 19:49:41.515 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 226.8800ms
2021-11-01 19:49:41.568 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 19:49:41.634 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 19:49:41.645 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 19:49:41.654 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 85.5953ms
2021-11-01 19:49:41.666 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 19:49:41.715 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 81.0111ms
2021-11-01 19:49:41.741 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 19:49:41.747 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 19:49:41.757 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 15.3070ms
2021-11-01 19:49:43.897 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 19:49:44.087 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 190.2678ms
2021-11-01 19:50:11.908 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 19:50:12.087 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 19:50:12.140 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 19:50:13.304 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 19:50:13.803 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 19:50:14.021 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 19:50:14.051 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 19:50:14.057 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 19:50:14.251 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 19:50:14.267 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2121.6862ms
2021-11-01 19:50:14.267 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 19:50:14.275 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2366.2502ms
2021-11-01 19:50:18.284 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 19:50:18.427 +01:00 [INF] Successfully validated the token.
2021-11-01 19:50:18.453 +01:00 [INF] Authorization was successful.
2021-11-01 19:50:18.455 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 19:50:18.469 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 19:50:18.566 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 19:50:18.578 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 19:50:18.611 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:50:18.645 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:50:18.646 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:50:18.649 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:50:18.649 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:50:18.649 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:50:18.650 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:50:18.650 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:50:18.651 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:50:18.651 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:50:18.651 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:50:18.652 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:50:18.652 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:50:18.653 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:50:18.653 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:50:18.654 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 19:50:18.655 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 19:50:18.672 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 202.9975ms
2021-11-01 19:50:18.672 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 19:50:18.675 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 391.4158ms
2021-11-01 19:50:42.380 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 19:50:42.387 +01:00 [INF] Successfully validated the token.
2021-11-01 19:50:42.388 +01:00 [INF] Authorization was successful.
2021-11-01 19:50:42.389 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 19:50:42.397 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 19:50:46.683 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 19:50:46.694 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__title_0='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 19:50:47.989 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (Size = 6), @p2='?' (Size = 6), @p3='?', @p4='?' (Size = 12), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 19:50:54.848 +01:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-11-01 19:50:54.849 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 12450.1107ms
2021-11-01 19:50:54.849 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 19:50:54.851 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 12469.9956ms
2021-11-01 20:09:45.548 +01:00 [INF] Staring Api
2021-11-01 20:09:48.417 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 20:09:48.863 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 20:09:48.863 +01:00 [INF] Hosting environment: Development
2021-11-01 20:09:48.864 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 20:09:48.971 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 20:09:49.084 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 20:09:49.140 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 171.9553ms
2021-11-01 20:09:49.409 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 324.4407ms
2021-11-01 20:09:49.522 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 20:09:49.604 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 20:09:49.632 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 109.8666ms
2021-11-01 20:09:49.685 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 20:09:49.699 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 20:09:49.732 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 46.0877ms
2021-11-01 20:09:49.768 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 20:09:49.773 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 20:09:49.784 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 15.5468ms
2021-11-01 20:09:51.632 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 20:09:51.842 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 210.3347ms
2021-11-01 20:10:03.291 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 20:10:03.528 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 20:10:03.584 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 20:10:04.786 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:10:05.354 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 20:10:05.631 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 20:10:05.663 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 20:10:05.669 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 20:10:05.889 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 20:10:05.910 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2316.954ms
2021-11-01 20:10:05.911 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 20:10:05.920 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2629.1085ms
2021-11-01 20:10:11.280 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 20:10:11.370 +01:00 [INF] Successfully validated the token.
2021-11-01 20:10:11.383 +01:00 [INF] Authorization was successful.
2021-11-01 20:10:11.384 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 20:10:11.389 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 20:10:11.467 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:10:11.480 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:10:11.515 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 20:10:11.523 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 133.6403ms
2021-11-01 20:10:11.523 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 20:10:11.524 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 243.9986ms
2021-11-01 20:10:13.557 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 20:10:13.564 +01:00 [INF] Successfully validated the token.
2021-11-01 20:10:13.565 +01:00 [INF] Authorization was successful.
2021-11-01 20:10:13.566 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 20:10:13.572 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:10:13.596 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:10:13.606 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 20:10:13.625 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:10:13.638 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:10:13.639 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:10:13.641 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:10:13.641 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:10:13.642 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:10:13.642 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:10:13.642 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:10:13.643 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:10:13.643 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:10:13.644 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:10:13.644 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:10:13.644 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:10:13.645 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:10:13.645 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:10:13.646 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:10:13.646 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:10:13.648 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 20:10:13.660 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 88.1729ms
2021-11-01 20:10:13.660 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 20:10:13.663 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 105.1024ms
2021-11-01 20:10:28.662 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 20:10:28.665 +01:00 [INF] Successfully validated the token.
2021-11-01 20:10:28.666 +01:00 [INF] Authorization was successful.
2021-11-01 20:10:28.667 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:10:28.671 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:10:28.682 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:10:28.689 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__title_0='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 20:10:28.824 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?' (Size = 11), @p2='?' (Size = 8), @p3='?', @p4='?' (Size = 12), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 20:10:28.853 +01:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-11-01 20:10:28.853 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 181.9836ms
2021-11-01 20:10:28.853 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:10:28.854 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 192.4287ms
2021-11-01 20:10:42.485 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 20:10:42.486 +01:00 [INF] Successfully validated the token.
2021-11-01 20:10:42.487 +01:00 [INF] Authorization was successful.
2021-11-01 20:10:42.487 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:10:42.487 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:10:42.494 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:10:42.498 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__title_0='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 20:10:42.723 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 235.079ms
2021-11-01 20:10:42.724 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:10:42.726 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Książka o tytule: 'xDeeeewerwer' już istnieje)
 ---> System.Exception: Książka o tytule: 'xDeeeewerwer' już istnieje
   at ProgLibrary.Infrastructure.Extensions.RepositoryExtensions.GetOrFailAsync(IBookRepository bookRepository, String title) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Extensions\RepositoryExtensions.cs:line 31
   at ProgLibrary.Infrastructure.Services.BookService.CreateAsync(Guid id, String title, String author, DateTime releasedDate, String description) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\BookService.cs:line 47
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ProgLibrary.API.Controllers.BooksController.Create(CreateBook command) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\BooksController.cs:line 47
   at lambda_method229(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 20:10:42.818 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 500 - text/plain 332.5132ms
2021-11-01 20:13:33.329 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 20:13:33.365 +01:00 [INF] Successfully validated the token.
2021-11-01 20:13:33.365 +01:00 [INF] Authorization was successful.
2021-11-01 20:13:33.366 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:13:33.366 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:13:33.367 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:13:33.375 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__title_0='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 20:13:33.530 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 163.8089ms
2021-11-01 20:13:33.531 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:13:33.533 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Książka o tytule: 'xDeeeewerwer' już istnieje)
 ---> System.Exception: Książka o tytule: 'xDeeeewerwer' już istnieje
   at ProgLibrary.Infrastructure.Extensions.RepositoryExtensions.GetOrFailAsync(IBookRepository bookRepository, String title) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Extensions\RepositoryExtensions.cs:line 31
   at ProgLibrary.Infrastructure.Services.BookService.CreateAsync(Guid id, String title, String author, DateTime releasedDate, String description) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\BookService.cs:line 47
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ProgLibrary.API.Controllers.BooksController.Create(CreateBook command) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\BooksController.cs:line 47
   at lambda_method229(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 20:13:33.541 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 500 - text/plain 211.6126ms
2021-11-01 20:15:05.328 +01:00 [INF] Staring Api
2021-11-01 20:15:07.590 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 20:15:08.205 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 20:15:08.205 +01:00 [INF] Hosting environment: Development
2021-11-01 20:15:08.206 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 20:15:08.307 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 20:15:08.441 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 139.4795ms
2021-11-01 20:15:08.457 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 20:15:08.735 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 277.9937ms
2021-11-01 20:15:08.826 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 20:15:08.838 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 20:15:08.894 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 20:15:08.898 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 20:15:08.900 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 20:15:08.912 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 85.8578ms
2021-11-01 20:15:08.932 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 20:15:08.945 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 50.8085ms
2021-11-01 20:15:08.957 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 119.5998ms
2021-11-01 20:15:10.330 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 20:15:10.469 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 138.4334ms
2021-11-01 20:15:20.262 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 20:15:20.422 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 20:15:20.478 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 20:15:21.597 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:15:22.116 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 20:15:22.324 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 20:15:22.353 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 20:15:22.360 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 20:15:22.544 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 20:15:22.562 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2075.9607ms
2021-11-01 20:15:22.562 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 20:15:22.570 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2307.7037ms
2021-11-01 20:15:25.447 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 20:15:25.535 +01:00 [INF] Successfully validated the token.
2021-11-01 20:15:25.551 +01:00 [INF] Authorization was successful.
2021-11-01 20:15:25.553 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 20:15:25.557 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:15:25.642 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:15:25.650 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 20:15:25.688 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:15:25.721 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:15:25.722 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:15:25.724 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:15:25.725 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:15:25.725 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:15:25.726 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:15:25.726 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:15:25.727 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:15:25.730 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:15:25.731 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:15:25.731 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:15:25.732 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:15:25.733 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:15:25.733 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:15:25.733 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:15:25.734 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:15:25.734 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:15:25.737 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 20:15:25.752 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 195.2368ms
2021-11-01 20:15:25.752 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 20:15:25.755 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 308.3234ms
2021-11-01 20:15:39.347 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 20:15:39.352 +01:00 [INF] Successfully validated the token.
2021-11-01 20:15:39.353 +01:00 [INF] Authorization was successful.
2021-11-01 20:15:39.354 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:15:39.359 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:15:39.386 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:15:39.400 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__title_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 20:15:39.585 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (Size = 9), @p2='?' (Size = 8), @p3='?', @p4='?' (Size = 8), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 20:15:39.616 +01:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-11-01 20:15:39.616 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 257.0844ms
2021-11-01 20:15:39.616 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:15:39.617 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 270.8331ms
2021-11-01 20:16:16.167 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 20:16:16.168 +01:00 [INF] Successfully validated the token.
2021-11-01 20:16:16.169 +01:00 [INF] Authorization was successful.
2021-11-01 20:16:16.169 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:16:16.170 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:16:16.180 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:16:16.183 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__title_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 20:16:16.429 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 259.4477ms
2021-11-01 20:16:16.430 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:16:16.433 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Książka o tytule: 'XDASDASD' już istnieje)
 ---> System.Exception: Książka o tytule: 'XDASDASD' już istnieje
   at ProgLibrary.Infrastructure.Extensions.RepositoryExtensions.GetOrFailAsync(IBookRepository bookRepository, String title) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Extensions\RepositoryExtensions.cs:line 31
   at ProgLibrary.Infrastructure.Services.BookService.CreateAsync(Guid id, String title, String author, DateTime releasedDate, String description) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\BookService.cs:line 47
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ProgLibrary.API.Controllers.BooksController.Create(CreateBook command) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\BooksController.cs:line 47
   at lambda_method220(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 20:16:16.509 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 500 - text/plain 341.4025ms
2021-11-01 20:19:51.373 +01:00 [INF] Staring Api
2021-11-01 20:19:53.674 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 20:19:54.177 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 20:19:54.178 +01:00 [INF] Hosting environment: Development
2021-11-01 20:19:54.178 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 20:19:54.274 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 20:19:54.400 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 20:19:54.400 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 130.6196ms
2021-11-01 20:19:54.679 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 278.9389ms
2021-11-01 20:19:54.772 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 20:19:54.872 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 20:19:54.883 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 110.7207ms
2021-11-01 20:19:54.954 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 20:19:54.965 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 20:19:55.003 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 48.5251ms
2021-11-01 20:19:55.034 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 20:19:55.046 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 20:19:55.057 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 23.2822ms
2021-11-01 20:19:57.196 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 20:19:57.374 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 178.4972ms
2021-11-01 20:20:18.304 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 20:20:18.463 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 20:20:18.509 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 20:20:19.671 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:20:20.175 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 20:20:20.400 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 20:20:20.430 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 20:20:20.436 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 20:20:20.634 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 20:20:20.651 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2133.8802ms
2021-11-01 20:20:20.652 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 20:20:20.660 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2356.0009ms
2021-11-01 20:20:33.736 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 20:20:33.830 +01:00 [INF] Successfully validated the token.
2021-11-01 20:20:33.845 +01:00 [INF] Authorization was successful.
2021-11-01 20:20:33.846 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 20:20:33.851 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:20:33.938 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:20:33.947 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 20:20:33.979 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.009 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.010 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.012 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.012 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.012 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.013 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.014 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.014 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.015 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.015 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.015 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.015 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.016 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.016 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.016 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.017 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.017 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.018 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:20:34.019 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 20:20:34.037 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 186.5615ms
2021-11-01 20:20:34.038 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 20:20:34.039 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 302.6621ms
2021-11-01 20:20:45.560 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 20:20:45.564 +01:00 [INF] Successfully validated the token.
2021-11-01 20:20:45.565 +01:00 [INF] Authorization was successful.
2021-11-01 20:20:45.566 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:20:45.573 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:20:45.593 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:20:45.604 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__title_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 20:20:45.766 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?' (Size = 15), @p2='?' (Size = 11), @p3='?', @p4='?' (Size = 18), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 20:20:45.795 +01:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-11-01 20:20:45.796 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 223.2795ms
2021-11-01 20:20:45.796 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:20:45.797 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 236.9030ms
2021-11-01 20:22:53.313 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 20:22:53.314 +01:00 [INF] Successfully validated the token.
2021-11-01 20:22:53.316 +01:00 [INF] Authorization was successful.
2021-11-01 20:22:53.317 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:22:53.318 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:22:53.335 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:22:53.339 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__title_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 20:22:53.577 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 258.8112ms
2021-11-01 20:22:53.578 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:22:53.580 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Książka o tytule: 'XDEDEDEDE@12123123' już istnieje)
 ---> System.Exception: Książka o tytule: 'XDEDEDEDE@12123123' już istnieje
   at ProgLibrary.Infrastructure.Extensions.RepositoryExtensions.GetOrFailAsync(IBookRepository bookRepository, String title) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Extensions\RepositoryExtensions.cs:line 31
   at ProgLibrary.Infrastructure.Services.BookService.CreateAsync(Guid id, String title, String author, DateTime releasedDate, String description) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\BookService.cs:line 47
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ProgLibrary.API.Controllers.BooksController.Create(CreateBook command) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\BooksController.cs:line 47
   at lambda_method220(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 20:22:53.655 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 500 - text/plain 342.0792ms
2021-11-01 20:23:24.375 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 20:23:24.376 +01:00 [INF] Successfully validated the token.
2021-11-01 20:23:24.377 +01:00 [INF] Authorization was successful.
2021-11-01 20:23:24.377 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:23:24.377 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:23:24.378 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:23:24.384 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__title_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 20:23:24.562 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 184.5445ms
2021-11-01 20:23:24.564 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:23:24.569 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Książka o tytule: 'XDEDEDEDE@12123123' już istnieje)
 ---> System.Exception: Książka o tytule: 'XDEDEDEDE@12123123' już istnieje
   at ProgLibrary.Infrastructure.Extensions.RepositoryExtensions.GetOrFailAsync(IBookRepository bookRepository, String title) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Extensions\RepositoryExtensions.cs:line 31
   at ProgLibrary.Infrastructure.Services.BookService.CreateAsync(Guid id, String title, String author, DateTime releasedDate, String description) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\BookService.cs:line 47
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ProgLibrary.API.Controllers.BooksController.Create(CreateBook command) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\BooksController.cs:line 47
   at lambda_method220(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 20:23:24.580 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 500 - text/plain 204.7943ms
2021-11-01 20:24:21.704 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 20:24:21.706 +01:00 [INF] Successfully validated the token.
2021-11-01 20:24:21.707 +01:00 [INF] Authorization was successful.
2021-11-01 20:24:21.707 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:24:21.707 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:24:21.711 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:24:21.714 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__title_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 20:24:21.913 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 205.7728ms
2021-11-01 20:24:21.914 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:24:21.916 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Książka o tytule: 'XDEDEDEDE@12123123' już istnieje)
 ---> System.Exception: Książka o tytule: 'XDEDEDEDE@12123123' już istnieje
   at ProgLibrary.Infrastructure.Extensions.RepositoryExtensions.GetOrFailAsync(IBookRepository bookRepository, String title) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Extensions\RepositoryExtensions.cs:line 31
   at ProgLibrary.Infrastructure.Services.BookService.CreateAsync(Guid id, String title, String author, DateTime releasedDate, String description) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\BookService.cs:line 47
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ProgLibrary.API.Controllers.BooksController.Create(CreateBook command) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\BooksController.cs:line 47
   at lambda_method220(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 20:24:21.927 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 500 - text/plain 222.5698ms
2021-11-01 20:28:14.325 +01:00 [INF] Staring Api
2021-11-01 20:28:17.058 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 20:28:17.497 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 20:28:17.498 +01:00 [INF] Hosting environment: Development
2021-11-01 20:28:17.498 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 20:28:17.597 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 20:28:17.716 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 20:28:17.728 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 137.0856ms
2021-11-01 20:28:17.985 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 272.1238ms
2021-11-01 20:28:18.071 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 20:28:18.114 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 20:28:18.148 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 20:28:18.148 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 20:28:18.159 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 87.3100ms
2021-11-01 20:28:18.204 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 90.1314ms
2021-11-01 20:28:18.220 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 20:28:18.225 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 20:28:18.237 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 16.8308ms
2021-11-01 20:28:19.895 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 20:28:20.234 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 338.5621ms
2021-11-01 20:28:42.064 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 20:28:42.257 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 20:28:42.325 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 20:28:43.740 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:28:44.363 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 20:28:44.583 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 20:28:44.612 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 20:28:44.620 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 20:28:44.835 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 20:28:44.858 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2525.3098ms
2021-11-01 20:28:44.859 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 20:28:44.870 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2805.9682ms
2021-11-01 20:28:48.709 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 20:28:48.806 +01:00 [INF] Successfully validated the token.
2021-11-01 20:28:48.822 +01:00 [INF] Authorization was successful.
2021-11-01 20:28:48.824 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 20:28:48.829 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:28:48.920 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:28:48.927 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 20:28:48.958 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.986 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.987 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.988 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.989 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.989 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.990 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.992 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.993 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.993 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.994 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.994 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.995 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.995 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.996 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.997 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.997 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.998 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.998 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:48.999 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:28:49.000 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 20:28:49.015 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 185.1615ms
2021-11-01 20:28:49.015 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 20:28:49.017 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 307.9330ms
2021-11-01 20:29:09.488 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 20:29:09.493 +01:00 [INF] Successfully validated the token.
2021-11-01 20:29:09.493 +01:00 [INF] Authorization was successful.
2021-11-01 20:29:09.494 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:29:09.498 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:29:09.519 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:29:09.528 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__title_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 20:29:09.676 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?' (Size = 11), @p2='?' (Size = 8), @p3='?', @p4='?' (Size = 13), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 20:29:09.705 +01:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-11-01 20:29:09.706 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 207.697ms
2021-11-01 20:29:09.706 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:29:09.707 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 218.6462ms
2021-11-01 20:30:42.236 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 20:30:42.237 +01:00 [INF] Successfully validated the token.
2021-11-01 20:30:42.238 +01:00 [INF] Authorization was successful.
2021-11-01 20:30:42.238 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:30:42.238 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:30:42.247 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:30:42.250 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__title_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 20:30:42.506 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 266.903ms
2021-11-01 20:30:42.507 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:30:42.518 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Książka o tytule: 'XDE1231231223' już istnieje)
 ---> System.Exception: Książka o tytule: 'XDE1231231223' już istnieje
   at ProgLibrary.Infrastructure.Extensions.RepositoryExtensions.GetOrFailAsync(IBookRepository bookRepository, String title) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Extensions\RepositoryExtensions.cs:line 31
   at ProgLibrary.Infrastructure.Services.BookService.CreateAsync(Guid id, String title, String author, DateTime releasedDate, String description) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\BookService.cs:line 47
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ProgLibrary.API.Controllers.BooksController.Create(CreateBook command) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\BooksController.cs:line 47
   at lambda_method220(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 20:30:42.592 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 500 - text/plain 355.4013ms
2021-11-01 20:39:27.238 +01:00 [INF] Staring Api
2021-11-01 20:39:29.744 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 20:39:30.218 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 20:39:30.218 +01:00 [INF] Hosting environment: Development
2021-11-01 20:39:30.218 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 20:39:30.361 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 20:39:30.527 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 170.7156ms
2021-11-01 20:39:30.551 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 20:39:30.795 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 244.2561ms
2021-11-01 20:39:30.868 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 20:39:30.899 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 20:39:30.924 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 20:39:30.924 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 20:39:30.937 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 68.9770ms
2021-11-01 20:39:30.960 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 60.1315ms
2021-11-01 20:39:30.973 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 20:39:30.981 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 20:39:30.991 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 17.4460ms
2021-11-01 20:39:32.422 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 20:39:32.727 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 304.8185ms
2021-11-01 20:40:22.832 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 20:40:22.992 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 20:40:23.036 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 20:40:24.193 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:40:24.670 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 20:40:24.904 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 20:40:24.933 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 20:40:24.939 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 20:40:25.128 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 20:40:25.144 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2100.7539ms
2021-11-01 20:40:25.145 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 20:40:25.152 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2319.7983ms
2021-11-01 20:40:33.783 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 20:40:33.881 +01:00 [INF] Successfully validated the token.
2021-11-01 20:40:33.895 +01:00 [INF] Authorization was successful.
2021-11-01 20:40:33.897 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 20:40:33.901 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 20:40:33.977 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:40:33.984 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:34.012 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 20:40:34.022 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 121.2999ms
2021-11-01 20:40:34.022 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 20:40:34.026 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 242.7668ms
2021-11-01 20:40:35.217 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 20:40:35.225 +01:00 [INF] Successfully validated the token.
2021-11-01 20:40:35.226 +01:00 [INF] Authorization was successful.
2021-11-01 20:40:35.227 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 20:40:35.230 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:40:35.258 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:40:35.270 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 20:40:35.292 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.308 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.309 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.313 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.313 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.314 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.314 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.315 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.315 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.316 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.318 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.319 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.319 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.319 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.320 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.320 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.320 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.321 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.321 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.321 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.322 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:40:35.323 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 20:40:35.335 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 104.9334ms
2021-11-01 20:40:35.336 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 20:40:35.338 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 120.3377ms
2021-11-01 20:40:52.765 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 20:40:52.767 +01:00 [INF] Successfully validated the token.
2021-11-01 20:40:52.768 +01:00 [INF] Authorization was successful.
2021-11-01 20:40:52.768 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:40:52.774 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:40:52.786 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:40:52.795 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__title_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 20:40:52.984 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (Size = 3), @p2='?' (Size = 10), @p3='?', @p4='?' (Size = 9), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 20:40:53.014 +01:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-11-01 20:40:53.014 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 240.3857ms
2021-11-01 20:40:53.014 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:40:53.015 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 250.2565ms
2021-11-01 20:41:34.790 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 20:41:34.791 +01:00 [INF] Successfully validated the token.
2021-11-01 20:41:34.791 +01:00 [INF] Authorization was successful.
2021-11-01 20:41:34.791 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:41:34.792 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:41:34.803 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:41:34.807 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__title_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 20:41:35.037 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 244.4787ms
2021-11-01 20:41:35.038 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:41:35.041 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Książka o tytule: 'xDe123123' już istnieje)
 ---> System.Exception: Książka o tytule: 'xDe123123' już istnieje
   at ProgLibrary.Infrastructure.Extensions.RepositoryExtensions.GetOrFailAsync(IBookRepository bookRepository, String title) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Extensions\RepositoryExtensions.cs:line 31
   at ProgLibrary.Infrastructure.Services.BookService.CreateAsync(Guid id, String title, String author, DateTime releasedDate, String description) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\BookService.cs:line 47
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ProgLibrary.API.Controllers.BooksController.Create(CreateBook command) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.API\Controllers\BooksController.cs:line 47
   at lambda_method229(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-01 20:41:35.125 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 500 - text/plain 335.1274ms
2021-11-01 20:51:02.955 +01:00 [INF] Staring Api
2021-11-01 20:51:06.604 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 20:51:07.200 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 20:51:07.201 +01:00 [INF] Hosting environment: Development
2021-11-01 20:51:07.201 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 20:51:07.320 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 20:51:07.403 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 20:51:07.413 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 98.8468ms
2021-11-01 20:51:07.638 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 234.5773ms
2021-11-01 20:51:07.729 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 20:51:07.732 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 20:51:07.810 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 20:51:07.810 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 20:51:07.820 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 91.6377ms
2021-11-01 20:51:07.865 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 132.1966ms
2021-11-01 20:51:07.925 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 20:51:07.932 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 20:51:07.944 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 18.6143ms
2021-11-01 20:51:09.848 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 20:51:10.001 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 152.4794ms
2021-11-01 20:51:21.540 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 20:51:21.696 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 20:51:21.760 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 20:51:22.980 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:51:23.496 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 20:51:23.729 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 20:51:23.761 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 20:51:23.768 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 20:51:23.988 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 20:51:24.045 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2267.0848ms
2021-11-01 20:51:24.046 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 20:51:24.089 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2541.9322ms
2021-11-01 20:51:26.939 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - -
2021-11-01 20:51:27.042 +01:00 [INF] Successfully validated the token.
2021-11-01 20:51:27.062 +01:00 [INF] Authorization was successful.
2021-11-01 20:51:27.063 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 20:51:27.067 +01:00 [INF] Route matched with {action = "GetReservations", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] GetReservations() on controller ProgLibrary.API.Controllers.ReservationsController (ProgLibrary.API).
2021-11-01 20:51:27.141 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:51:27.148 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:27.176 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.ReservationDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 20:51:27.185 +01:00 [INF] Executed action ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API) in 117.4592ms
2021-11-01 20:51:27.185 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.ReservationsController.GetReservations (ProgLibrary.API)'
2021-11-01 20:51:27.186 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Reservations/GetReservations - - - 200 - application/json;+charset=utf-8 246.2459ms
2021-11-01 20:51:28.699 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 20:51:28.705 +01:00 [INF] Successfully validated the token.
2021-11-01 20:51:28.706 +01:00 [INF] Authorization was successful.
2021-11-01 20:51:28.707 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 20:51:28.712 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:51:28.733 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:51:28.741 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 20:51:28.757 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.769 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.770 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.772 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.772 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.773 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.773 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.774 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.774 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.775 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.775 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.775 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.776 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.776 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.777 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.777 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.777 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.778 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.778 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.779 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.779 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.779 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:51:28.782 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 20:51:28.793 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 80.345ms
2021-11-01 20:51:28.793 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 20:51:28.795 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 95.5592ms
2021-11-01 20:51:59.514 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 20:51:59.516 +01:00 [INF] Successfully validated the token.
2021-11-01 20:51:59.518 +01:00 [INF] Authorization was successful.
2021-11-01 20:51:59.519 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:51:59.523 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:51:59.544 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:51:59.554 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__title_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 20:51:59.715 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?' (Size = 8), @p2='?' (Size = 8), @p3='?', @p4='?' (Size = 7), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 20:51:59.757 +01:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-11-01 20:51:59.758 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 234.5896ms
2021-11-01 20:51:59.758 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:51:59.759 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 244.0787ms
2021-11-01 20:55:47.103 +01:00 [INF] Staring Api
2021-11-01 20:55:49.989 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 20:55:50.564 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 20:55:50.564 +01:00 [INF] Hosting environment: Development
2021-11-01 20:55:50.564 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 20:55:50.671 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 20:55:50.800 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 20:55:50.803 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 139.5618ms
2021-11-01 20:55:51.038 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 238.3103ms
2021-11-01 20:55:51.162 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 20:55:51.208 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 20:55:51.226 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 20:55:51.226 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 20:55:51.235 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 68.5543ms
2021-11-01 20:55:51.269 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 60.1916ms
2021-11-01 20:55:51.310 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 20:55:51.325 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 20:55:51.339 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 28.9493ms
2021-11-01 20:55:52.955 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 20:55:53.284 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 328.9264ms
2021-11-01 20:56:30.829 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 20:56:30.989 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 20:56:31.065 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 20:56:32.210 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:56:32.727 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 20:56:32.934 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 20:56:32.962 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 20:56:32.969 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 20:56:33.161 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 20:56:33.178 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2105.0116ms
2021-11-01 20:56:33.180 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 20:56:33.186 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2357.4993ms
2021-11-01 20:59:01.512 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 20:59:01.623 +01:00 [INF] Successfully validated the token.
2021-11-01 20:59:01.641 +01:00 [INF] Authorization was successful.
2021-11-01 20:59:01.643 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 20:59:01.649 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:59:01.734 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:59:01.743 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 20:59:01.772 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.799 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.800 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.801 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.802 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.802 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.804 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.805 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.805 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.806 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.806 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.807 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.807 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.808 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.808 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.809 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.809 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.810 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.810 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.810 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.811 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.811 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.812 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 20:59:01.814 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 20:59:01.832 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 182.6105ms
2021-11-01 20:59:01.832 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 20:59:01.837 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 325.2418ms
2021-11-01 20:59:12.725 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 20:59:12.734 +01:00 [INF] Successfully validated the token.
2021-11-01 20:59:12.734 +01:00 [INF] Authorization was successful.
2021-11-01 20:59:12.735 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:59:12.741 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 20:59:12.765 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 20:59:12.780 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__title_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 20:59:12.918 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?' (Size = 7), @p2='?' (Size = 10), @p3='?', @p4='?' (Size = 3), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 20:59:12.953 +01:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-11-01 20:59:12.953 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 212.1094ms
2021-11-01 20:59:12.954 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 20:59:12.954 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 229.2342ms
2021-11-01 21:03:09.739 +01:00 [INF] Staring Api
2021-11-01 21:03:12.730 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 21:03:13.371 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 21:03:13.372 +01:00 [INF] Hosting environment: Development
2021-11-01 21:03:13.372 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 21:03:13.474 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 21:03:13.581 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 21:03:13.605 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 135.2369ms
2021-11-01 21:03:13.780 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 199.5381ms
2021-11-01 21:03:13.834 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 21:03:13.874 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 21:03:13.897 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 21:03:13.897 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 21:03:13.904 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 69.6114ms
2021-11-01 21:03:13.937 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 63.3560ms
2021-11-01 21:03:13.968 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 21:03:14.007 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 21:03:14.019 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 51.7824ms
2021-11-01 21:03:15.701 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 21:03:15.835 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 133.3757ms
2021-11-01 21:03:28.599 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 21:03:28.760 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 21:03:28.824 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 21:03:29.962 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 21:03:30.503 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 21:03:30.734 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 21:03:30.764 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 21:03:30.770 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 21:03:30.961 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 21:03:30.975 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2145.2894ms
2021-11-01 21:03:30.976 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 21:03:30.983 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2383.1621ms
2021-11-01 21:03:32.718 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 21:03:32.820 +01:00 [INF] Successfully validated the token.
2021-11-01 21:03:32.834 +01:00 [INF] Authorization was successful.
2021-11-01 21:03:32.836 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 21:03:32.840 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 21:03:32.913 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 21:03:32.919 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 21:03:32.965 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.006 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.007 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.009 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.010 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.010 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.011 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.011 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.012 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.012 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.013 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.014 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.014 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.014 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.015 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.015 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.016 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.016 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.016 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.017 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.017 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.017 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.017 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.018 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:03:33.026 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 21:03:33.052 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 211.979ms
2021-11-01 21:03:33.052 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 21:03:33.054 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 336.6121ms
2021-11-01 21:03:44.912 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 21:03:44.919 +01:00 [INF] Successfully validated the token.
2021-11-01 21:03:44.921 +01:00 [INF] Authorization was successful.
2021-11-01 21:03:44.922 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 21:03:44.927 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 21:03:44.948 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 21:03:44.959 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__title_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 21:03:45.110 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?' (Size = 15), @p2='?' (Size = 8), @p3='?', @p4='?' (Size = 11), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 21:03:45.148 +01:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-11-01 21:03:45.148 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 221.2144ms
2021-11-01 21:03:45.148 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 21:03:45.149 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 236.9869ms
2021-11-01 21:12:40.665 +01:00 [INF] Staring Api
2021-11-01 21:12:43.398 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 21:12:43.995 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 21:12:43.996 +01:00 [INF] Hosting environment: Development
2021-11-01 21:12:43.996 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 21:12:44.109 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 21:12:44.244 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 21:12:44.270 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 168.6240ms
2021-11-01 21:12:44.474 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 230.2452ms
2021-11-01 21:12:44.519 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 21:12:44.575 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 21:12:44.581 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 21:12:44.630 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 21:12:44.630 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 21:12:44.630 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 21:12:44.640 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 120.3227ms
2021-11-01 21:12:44.654 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 72.5438ms
2021-11-01 21:12:44.679 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 134.0569ms
2021-11-01 21:12:46.181 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 21:12:46.431 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 250.7278ms
2021-11-01 21:12:55.211 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 21:12:55.420 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 21:12:55.477 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 21:12:56.940 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 21:12:57.592 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 21:12:57.814 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 21:12:57.843 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 21:12:57.849 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 21:12:58.056 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 21:12:58.078 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2592.1055ms
2021-11-01 21:12:58.079 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 21:12:58.087 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2875.5407ms
2021-11-01 21:13:01.977 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-11-01 21:13:02.069 +01:00 [INF] Successfully validated the token.
2021-11-01 21:13:02.083 +01:00 [INF] Authorization was successful.
2021-11-01 21:13:02.084 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 21:13:02.089 +01:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 21:13:02.161 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 21:13:02.170 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-11-01 21:13:02.217 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.261 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.262 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.265 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.266 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.267 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.267 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.268 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.268 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.269 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.269 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.270 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.270 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.271 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.272 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.272 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.273 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.273 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.273 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.274 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.274 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.275 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.276 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.277 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.277 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-11-01 21:13:02.280 +01:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-11-01 21:13:02.301 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 211.5964ms
2021-11-01 21:13:02.301 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-11-01 21:13:02.303 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 326.6374ms
2021-11-01 21:13:11.396 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 -
2021-11-01 21:13:11.401 +01:00 [INF] Successfully validated the token.
2021-11-01 21:13:11.402 +01:00 [INF] Authorization was successful.
2021-11-01 21:13:11.403 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 21:13:11.406 +01:00 [INF] Route matched with {action = "Create", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Create(ProgLibrary.Infrastructure.Commands.Books.CreateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-11-01 21:13:11.426 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 21:13:11.436 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__title_0='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-11-01 21:13:11.576 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (Size = 9), @p2='?' (Size = 8), @p3='?', @p4='?' (Size = 9), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Author", "Description", "ReleaseDate", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2021-11-01 21:13:11.609 +01:00 [INF] Executing JsonResult, writing value of type 'System.String'.
2021-11-01 21:13:11.609 +01:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API) in 202.7631ms
2021-11-01 21:13:11.609 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Create (ProgLibrary.API)'
2021-11-01 21:13:11.612 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Create application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 216.2650ms
2021-11-01 21:19:49.789 +01:00 [INF] Staring Api
2021-11-01 21:19:53.269 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 21:19:54.209 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 21:19:54.209 +01:00 [INF] Hosting environment: Development
2021-11-01 21:19:54.210 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 21:19:54.373 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 21:19:54.470 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 21:19:54.484 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 115.0958ms
2021-11-01 21:19:54.664 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 194.5445ms
2021-11-01 21:19:54.711 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 21:19:54.745 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 21:19:54.780 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 21:19:54.811 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 21:19:54.811 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 21:19:54.815 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 21:19:54.834 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 122.7572ms
2021-11-01 21:19:54.844 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 64.2426ms
2021-11-01 21:19:54.873 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 127.5379ms
2021-11-01 21:19:56.327 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 21:19:56.544 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 216.3133ms
2021-11-01 21:58:34.182 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 21:58:34.361 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 21:58:34.413 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 21:58:35.588 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 21:58:36.117 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 21:58:36.334 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 21:58:36.366 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 21:58:36.372 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 21:58:36.572 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 21:58:36.589 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2169.5137ms
2021-11-01 21:58:36.590 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 21:58:36.597 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2415.2635ms
2021-11-01 22:06:21.893 +01:00 [INF] Staring Api
2021-11-01 22:06:26.274 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 22:06:26.845 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 22:06:26.846 +01:00 [INF] Hosting environment: Development
2021-11-01 22:06:26.846 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 22:06:26.948 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 22:06:27.072 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 133.3751ms
2021-11-01 22:06:27.100 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 22:06:27.279 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 178.9710ms
2021-11-01 22:06:27.339 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 22:06:27.351 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 22:06:27.411 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 22:06:27.411 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 22:06:27.420 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 81.1513ms
2021-11-01 22:06:27.422 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 22:06:27.429 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 22:06:27.450 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 28.4608ms
2021-11-01 22:06:27.454 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 102.3212ms
2021-11-01 22:06:29.066 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 22:06:29.388 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 321.4760ms
2021-11-01 22:06:37.387 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 22:06:37.552 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 22:06:37.602 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 22:06:38.862 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 22:06:39.416 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 22:06:39.686 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 22:06:39.721 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 22:06:39.727 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 22:06:39.910 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 22:06:39.930 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2320.3935ms
2021-11-01 22:06:39.930 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 22:06:39.943 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2555.2546ms
2021-11-01 22:23:02.561 +01:00 [INF] Staring Api
2021-11-01 22:23:05.238 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 22:23:05.776 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 22:23:05.776 +01:00 [INF] Hosting environment: Development
2021-11-01 22:23:05.776 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 22:23:05.875 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 22:23:06.010 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 22:23:06.029 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 160.6301ms
2021-11-01 22:23:06.277 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 266.9420ms
2021-11-01 22:23:06.392 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 22:23:06.450 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 22:23:06.453 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 22:23:06.459 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 66.4055ms
2021-11-01 22:23:06.464 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 22:23:06.501 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 48.0335ms
2021-11-01 22:23:06.894 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 22:23:06.900 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 22:23:06.914 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 20.3684ms
2021-11-01 22:23:09.303 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 22:23:09.442 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 148.1397ms
2021-11-01 22:23:15.838 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-11-01 22:23:16.039 +01:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 22:23:16.087 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-11-01 22:23:17.347 +01:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-11-01 22:23:17.872 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-11-01 22:23:18.120 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 22:23:18.150 +01:00 [INF] Dane Logowania Poprawne
2021-11-01 22:23:18.156 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-11-01 22:23:18.351 +01:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-11-01 22:23:18.373 +01:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2275.7012ms
2021-11-01 22:23:18.374 +01:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-11-01 22:23:18.384 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2546.1910ms
2021-11-01 22:32:32.578 +01:00 [INF] Staring Api
2021-11-01 22:32:35.129 +01:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-01 22:32:35.796 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-01 22:32:35.797 +01:00 [INF] Hosting environment: Development
2021-11-01 22:32:35.797 +01:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-11-01 22:32:35.927 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-11-01 22:32:36.027 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-11-01 22:32:36.036 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 114.6773ms
2021-11-01 22:32:36.192 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 165.2131ms
2021-11-01 22:32:36.255 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-11-01 22:32:36.277 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-11-01 22:32:36.306 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-11-01 22:32:36.339 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-11-01 22:32:36.339 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-11-01 22:32:36.339 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-11-01 22:32:36.364 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 108.7067ms
2021-11-01 22:32:36.364 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 58.3065ms
2021-11-01 22:32:36.387 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 122.5366ms
2021-11-01 22:32:37.329 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-11-01 22:32:37.511 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 181.6214ms
