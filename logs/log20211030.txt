2021-10-30 08:21:23.705 +02:00 [INF] Staring Api
2021-10-30 08:21:26.964 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 08:21:27.706 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 08:21:27.706 +02:00 [INF] Hosting environment: Development
2021-10-30 08:21:27.707 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 08:21:27.801 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 08:21:27.953 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 08:21:27.979 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 168.8095ms
2021-10-30 08:21:28.206 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 252.8174ms
2021-10-30 08:21:28.372 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 08:21:28.403 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 08:21:28.459 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 08:21:28.459 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 08:21:28.465 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 93.2562ms
2021-10-30 08:21:28.515 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 111.6229ms
2021-10-30 08:21:28.660 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 08:21:28.733 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 08:21:28.747 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 87.0545ms
2021-10-30 08:21:31.952 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 08:21:32.168 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 216.5812ms
2021-10-30 08:22:31.674 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 08:22:31.839 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 08:22:31.891 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 08:22:33.105 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 08:22:33.624 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 08:22:33.905 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 08:22:33.947 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 08:22:33.954 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 08:22:34.153 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 08:22:34.172 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2274.4653ms
2021-10-30 08:22:34.173 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 08:22:34.186 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2512.0779ms
2021-10-30 08:23:06.530 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 08:23:06.646 +02:00 [INF] Successfully validated the token.
2021-10-30 08:23:06.659 +02:00 [INF] Authorization was successful.
2021-10-30 08:23:06.661 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 08:23:06.666 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 08:23:06.674 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2021-10-30 08:23:06.685 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 18.4631ms
2021-10-30 08:23:06.685 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 08:23:06.686 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 400 - application/problem+json;+charset=utf-8 156.1629ms
2021-10-30 08:23:46.249 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/Books/Get - -
2021-10-30 08:23:46.254 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-10-30 08:23:46.299 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-10-30 08:23:46.304 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/Books/Get - - - 404 - - 54.6946ms
2021-10-30 08:23:55.360 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/Books/Get - -
2021-10-30 08:23:55.364 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/Books/Get - - - 404 - - 4.3651ms
2021-10-30 08:24:11.402 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/Books/Get/title - -
2021-10-30 08:24:11.404 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/Books/Get/title - - - 404 - - 2.0294ms
2021-10-30 08:24:15.988 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/Books/Get/title= - -
2021-10-30 08:24:15.990 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/Books/Get/title= - - - 404 - - 1.4783ms
2021-10-30 08:24:38.286 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/title= - -
2021-10-30 08:24:38.288 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/title= - - - 404 - - 2.1339ms
2021-10-30 08:24:42.875 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 08:24:42.896 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user)
2021-10-30 08:24:42.909 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-10-30 08:24:42.911 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 401 - - 36.4046ms
2021-10-30 08:24:54.852 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/login application/json 73
2021-10-30 08:24:54.856 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 08:24:54.857 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 08:24:54.929 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 08:24:54.934 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 08:24:54.940 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 08:24:54.956 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 08:24:54.963 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 08:24:54.966 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 08:24:54.966 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 109.3366ms
2021-10-30 08:24:54.966 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 08:24:54.968 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/login application/json 73 - 200 - application/json;+charset=utf-8 115.3513ms
2021-10-30 08:25:23.842 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 08:25:23.842 +02:00 [INF] Successfully validated the token.
2021-10-30 08:25:23.844 +02:00 [INF] Authorization was successful.
2021-10-30 08:25:23.844 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 08:25:23.845 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 08:25:23.850 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2021-10-30 08:25:23.850 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 5.4057ms
2021-10-30 08:25:23.851 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 08:25:23.852 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 400 - application/problem+json;+charset=utf-8 9.5653ms
2021-10-30 08:25:41.729 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/ - -
2021-10-30 08:25:41.734 +02:00 [INF] Successfully validated the token.
2021-10-30 08:25:41.734 +02:00 [INF] Authorization was successful.
2021-10-30 08:25:41.735 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 08:25:41.740 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 08:25:52.850 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 08:25:52.860 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 08:25:52.902 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:25:52.903 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:25:52.904 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:25:52.906 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:25:52.906 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:25:52.907 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:25:52.908 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:25:52.908 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:25:52.909 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:25:52.909 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:25:52.911 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 08:25:52.929 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 11188.2451ms
2021-10-30 08:25:52.929 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 08:25:52.937 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/ - - - 200 - application/json;+charset=utf-8 11205.3119ms
2021-10-30 08:26:52.333 +02:00 [INF] Staring Api
2021-10-30 08:26:55.176 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 08:26:55.701 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 08:26:55.701 +02:00 [INF] Hosting environment: Development
2021-10-30 08:26:55.702 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 08:26:55.795 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 08:26:55.896 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 08:26:55.907 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 118.1739ms
2021-10-30 08:26:56.077 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 180.7863ms
2021-10-30 08:26:56.154 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 08:26:56.157 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 08:26:56.158 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 08:26:56.244 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 08:26:56.244 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 08:26:56.263 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 106.0479ms
2021-10-30 08:26:56.274 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 08:26:56.281 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 123.3013ms
2021-10-30 08:26:56.335 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 180.7107ms
2021-10-30 08:26:57.466 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 08:26:57.807 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 341.3819ms
2021-10-30 08:27:37.353 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 08:27:37.522 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 08:27:37.562 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 08:27:38.673 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 08:27:39.190 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 08:27:39.407 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 08:27:39.439 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 08:27:39.445 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 08:27:39.635 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 08:27:39.651 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2082.663ms
2021-10-30 08:27:39.652 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 08:27:39.658 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2305.4308ms
2021-10-30 08:27:46.894 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 08:27:47.013 +02:00 [INF] Successfully validated the token.
2021-10-30 08:27:47.028 +02:00 [INF] Authorization was successful.
2021-10-30 08:27:47.029 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 08:27:47.067 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 08:27:49.224 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 08:27:49.236 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 08:27:49.275 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:27:49.275 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:27:49.276 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:27:49.279 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:27:49.279 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:27:49.280 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:27:49.280 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:27:49.281 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:27:49.281 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:27:49.282 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:27:50.897 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 08:27:50.915 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 3847.3103ms
2021-10-30 08:27:50.915 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 08:27:50.916 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 4022.2907ms
2021-10-30 08:30:12.976 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 08:30:12.983 +02:00 [INF] Successfully validated the token.
2021-10-30 08:30:12.990 +02:00 [INF] Authorization was successful.
2021-10-30 08:30:12.994 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 08:30:12.994 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 08:30:30.169 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 08:30:30.173 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 08:30:36.065 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:30:36.066 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:30:36.066 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:30:36.067 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:30:36.067 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:30:36.068 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:30:36.068 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:30:36.069 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:30:36.069 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:30:36.070 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:30:42.279 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 08:30:42.327 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 29332.0419ms
2021-10-30 08:30:42.327 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 08:30:42.344 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 29357.0877ms
2021-10-30 08:42:03.086 +02:00 [INF] Staring Api
2021-10-30 08:42:05.976 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 08:42:06.708 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 08:42:06.709 +02:00 [INF] Hosting environment: Development
2021-10-30 08:42:06.709 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 08:42:06.854 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 08:42:07.044 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 196.1662ms
2021-10-30 08:42:07.106 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 08:42:07.338 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 232.2993ms
2021-10-30 08:42:07.418 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 08:42:07.569 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 08:42:07.575 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 156.4532ms
2021-10-30 08:42:07.598 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 08:42:07.629 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 08:42:07.676 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 78.1082ms
2021-10-30 08:42:07.731 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 08:42:07.753 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 08:42:07.792 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 60.3973ms
2021-10-30 08:42:10.223 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 08:42:10.439 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 216.2663ms
2021-10-30 08:42:23.417 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 08:42:23.625 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 08:42:23.695 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 08:42:25.093 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 08:42:25.677 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 08:42:25.912 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 08:42:25.948 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 08:42:25.955 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 08:42:26.162 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 08:42:26.180 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2478.2385ms
2021-10-30 08:42:26.180 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 08:42:26.188 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2771.4136ms
2021-10-30 08:42:31.749 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 08:43:03.744 +02:00 [INF] Successfully validated the token.
2021-10-30 08:43:03.767 +02:00 [INF] Authorization was successful.
2021-10-30 08:43:03.769 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 08:43:03.776 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 08:43:10.498 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 08:43:10.508 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 08:43:10.573 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:43:10.574 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:43:10.575 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:43:10.577 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:43:10.578 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:43:10.578 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:43:10.579 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:43:10.579 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:43:10.581 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:43:10.582 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:43:12.004 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 08:43:14.068 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 10291.6688ms
2021-10-30 08:43:14.069 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 08:43:14.070 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 42321.0910ms
2021-10-30 08:44:31.670 +02:00 [INF] Staring Api
2021-10-30 08:44:34.178 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 08:44:34.758 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 08:44:34.778 +02:00 [INF] Hosting environment: Development
2021-10-30 08:44:34.778 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 08:44:34.874 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 08:44:35.025 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 08:44:35.030 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 164.7795ms
2021-10-30 08:44:35.237 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 212.1101ms
2021-10-30 08:44:35.435 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 08:44:35.540 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 08:44:35.548 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 112.3680ms
2021-10-30 08:44:35.561 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 08:44:35.577 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 08:44:35.612 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 50.8143ms
2021-10-30 08:44:35.625 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 08:44:35.638 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 08:44:35.660 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 35.5258ms
2021-10-30 08:44:37.480 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 08:44:37.656 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 175.9777ms
2021-10-30 08:44:53.365 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 08:44:53.546 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 08:44:53.602 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 08:44:54.932 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 08:44:55.486 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 08:44:55.747 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 08:44:55.785 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 08:44:55.791 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 08:44:56.031 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 08:44:56.051 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2442.546ms
2021-10-30 08:44:56.052 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 08:44:56.060 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2695.0855ms
2021-10-30 08:45:00.845 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 08:45:00.988 +02:00 [INF] Successfully validated the token.
2021-10-30 08:45:01.007 +02:00 [INF] Authorization was successful.
2021-10-30 08:45:01.010 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 08:45:01.017 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 08:45:02.334 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 08:45:02.347 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 08:45:02.394 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:45:02.395 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:45:02.396 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:45:02.399 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:45:02.399 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:45:02.400 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:45:02.400 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:45:02.401 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:45:02.401 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:45:02.402 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 08:45:03.478 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 08:45:05.403 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 4385.7869ms
2021-10-30 08:45:05.403 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 08:45:05.404 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 4558.5418ms
2021-10-30 09:06:56.533 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 09:06:56.566 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user)
2021-10-30 09:06:56.575 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-10-30 09:06:56.578 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 401 - - 43.9963ms
2021-10-30 09:10:27.005 +02:00 [INF] Staring Api
2021-10-30 09:10:29.663 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 09:10:30.201 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 09:10:30.201 +02:00 [INF] Hosting environment: Development
2021-10-30 09:10:30.201 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 09:10:30.317 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 09:10:30.428 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 09:10:30.431 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 120.6491ms
2021-10-30 09:10:30.733 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 304.5565ms
2021-10-30 09:10:30.831 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 09:10:30.872 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 09:10:30.900 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 09:10:30.900 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 09:10:30.912 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 80.3393ms
2021-10-30 09:10:30.941 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 69.5669ms
2021-10-30 09:10:30.978 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 09:10:30.983 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 09:10:30.994 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 15.5377ms
2021-10-30 09:10:32.899 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 09:10:33.058 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 158.2342ms
2021-10-30 09:13:07.597 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 09:13:07.773 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 09:13:07.833 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 09:13:08.945 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 09:13:09.463 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 09:13:09.686 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 09:13:09.716 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 09:13:09.723 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 09:13:09.917 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 09:13:09.932 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2092.3525ms
2021-10-30 09:13:09.933 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 09:13:09.940 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2342.7272ms
2021-10-30 09:13:29.505 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 09:13:29.594 +02:00 [INF] Successfully validated the token.
2021-10-30 09:13:29.609 +02:00 [INF] Authorization was successful.
2021-10-30 09:13:29.611 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 09:13:29.615 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 09:13:35.542 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 09:13:35.551 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 09:13:35.579 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:13:35.580 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:13:35.581 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:13:35.583 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:13:35.584 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:13:35.585 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:13:35.586 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:13:35.587 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:13:35.587 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:13:35.588 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:13:35.589 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 09:13:35.603 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 5987.258ms
2021-10-30 09:13:35.603 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 09:13:35.604 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 6099.2229ms
2021-10-30 09:13:50.648 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 09:13:50.651 +02:00 [INF] Successfully validated the token.
2021-10-30 09:13:50.653 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 404 - - 5.0481ms
2021-10-30 09:55:23.953 +02:00 [INF] Staring Api
2021-10-30 09:55:27.384 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 09:55:27.940 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 09:55:27.941 +02:00 [INF] Hosting environment: Development
2021-10-30 09:55:27.941 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 09:55:28.023 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 09:55:28.134 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 09:55:28.153 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 134.8858ms
2021-10-30 09:55:28.327 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 192.9590ms
2021-10-30 09:55:28.391 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 09:55:28.391 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 09:55:28.392 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 09:55:28.522 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 09:55:28.528 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 09:55:28.530 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 09:55:28.537 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 145.0716ms
2021-10-30 09:55:28.547 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 154.2840ms
2021-10-30 09:55:28.591 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 199.6347ms
2021-10-30 09:55:29.415 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 09:55:29.682 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 266.9426ms
2021-10-30 09:57:13.880 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 09:57:14.046 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 09:57:14.090 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 09:57:15.186 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 09:57:15.657 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 09:57:15.864 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 09:57:15.892 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 09:57:15.903 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 09:57:16.100 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 09:57:16.120 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2021.1824ms
2021-10-30 09:57:16.121 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 09:57:16.129 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2249.0259ms
2021-10-30 09:57:36.763 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 09:57:36.852 +02:00 [INF] Successfully validated the token.
2021-10-30 09:57:36.866 +02:00 [INF] Authorization was successful.
2021-10-30 09:57:36.868 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 09:57:36.874 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 09:57:36.943 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 09:57:36.950 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 09:57:36.981 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:57:36.981 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:57:36.982 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:57:36.984 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:57:36.984 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:57:36.984 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:57:36.985 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:57:36.985 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:57:36.986 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:57:36.986 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:57:36.988 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 09:57:37.001 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 127.212ms
2021-10-30 09:57:37.001 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 09:57:37.003 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 239.8569ms
2021-10-30 09:59:17.993 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 09:59:18.000 +02:00 [INF] Successfully validated the token.
2021-10-30 09:59:18.002 +02:00 [INF] Authorization was successful.
2021-10-30 09:59:18.007 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 09:59:18.013 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 09:59:24.485 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 09:59:24.495 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 09:59:25.955 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:59:25.959 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 09:59:29.465 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 09:59:32.318 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 14305.1154ms
2021-10-30 09:59:32.319 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 09:59:32.327 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 14331.7817ms
2021-10-30 10:00:59.296 +02:00 [INF] Staring Api
2021-10-30 10:01:02.111 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 10:01:02.581 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 10:01:02.581 +02:00 [INF] Hosting environment: Development
2021-10-30 10:01:02.581 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 10:01:02.701 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 10:01:02.832 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 10:01:02.836 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 139.1659ms
2021-10-30 10:01:03.105 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 272.8083ms
2021-10-30 10:01:03.180 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 10:01:03.224 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 10:01:03.266 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 10:01:03.266 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 10:01:03.273 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 92.4423ms
2021-10-30 10:01:03.321 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 96.8215ms
2021-10-30 10:01:03.345 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 10:01:03.350 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 10:01:03.360 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 15.0373ms
2021-10-30 10:01:04.923 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 10:01:05.077 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 154.1558ms
2021-10-30 10:01:21.487 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 10:01:21.642 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 10:01:21.686 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 10:01:22.792 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:01:23.282 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 10:01:23.508 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 10:01:23.541 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 10:01:23.549 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 10:01:23.738 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 10:01:23.756 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2062.3326ms
2021-10-30 10:01:23.757 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 10:01:23.769 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2281.3254ms
2021-10-30 10:01:30.298 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 10:01:30.392 +02:00 [INF] Successfully validated the token.
2021-10-30 10:01:30.407 +02:00 [INF] Authorization was successful.
2021-10-30 10:01:30.408 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:01:30.413 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:01:30.489 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:01:30.500 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 10:01:30.541 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:01:30.542 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:01:30.542 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:01:30.545 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:01:30.546 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:01:30.546 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:01:30.547 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:01:30.547 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:01:30.548 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:01:30.548 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:01:30.551 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 10:01:30.581 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 167.6562ms
2021-10-30 10:01:30.581 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:01:30.588 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 290.4547ms
2021-10-30 10:01:35.293 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 10:01:35.296 +02:00 [INF] Successfully validated the token.
2021-10-30 10:01:35.297 +02:00 [INF] Authorization was successful.
2021-10-30 10:01:35.298 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:01:35.303 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:01:35.802 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:01:35.812 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 10:01:35.827 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:01:35.830 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:01:36.549 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 10:01:38.676 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 3373.0043ms
2021-10-30 10:01:38.676 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:01:38.677 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 3384.1313ms
2021-10-30 10:02:00.637 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 10:02:00.637 +02:00 [INF] Successfully validated the token.
2021-10-30 10:02:00.638 +02:00 [INF] Authorization was successful.
2021-10-30 10:02:00.639 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:02:00.639 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:02:00.649 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:02:00.652 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 10:02:00.652 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:02:00.653 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:02:00.653 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:02:00.654 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:02:00.654 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:02:00.654 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:02:00.655 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:02:00.655 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:02:00.656 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:02:00.656 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:02:00.657 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 10:02:00.658 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 18.8983ms
2021-10-30 10:02:00.659 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:02:00.661 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 23.8281ms
2021-10-30 10:06:13.398 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/15a7cc89-c4f7-427a-9d25-ce895c924bf8 - -
2021-10-30 10:06:13.398 +02:00 [INF] Successfully validated the token.
2021-10-30 10:06:13.399 +02:00 [INF] Authorization was successful.
2021-10-30 10:06:13.399 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:06:13.399 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:06:22.333 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:06:22.340 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 10:06:41.605 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:06:42.896 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:06:47.325 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:06:47.330 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:06:47.331 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 10:06:47.332 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 33932.71ms
2021-10-30 10:06:47.332 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:06:47.339 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/15a7cc89-c4f7-427a-9d25-ce895c924bf8 - - - 200 - application/json;+charset=utf-8 33941.5955ms
2021-10-30 10:06:52.290 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 10:06:52.291 +02:00 [INF] Successfully validated the token.
2021-10-30 10:06:52.291 +02:00 [INF] Authorization was successful.
2021-10-30 10:06:52.291 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:06:52.291 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:06:52.292 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:06:52.295 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 10:06:52.296 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:06:52.296 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:06:52.297 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:06:52.297 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:06:52.298 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:06:52.298 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:06:52.299 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:06:52.299 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:06:52.300 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:06:52.300 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:06:52.302 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 10:06:52.302 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 10.6009ms
2021-10-30 10:06:52.302 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:06:52.311 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 21.2414ms
2021-10-30 10:06:56.578 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 10:06:56.579 +02:00 [INF] Successfully validated the token.
2021-10-30 10:06:56.579 +02:00 [INF] Authorization was successful.
2021-10-30 10:06:56.579 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:06:56.580 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:06:57.402 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:06:57.406 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 10:06:57.412 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:06:57.416 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:07:17.138 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 10:07:20.275 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 23694.9991ms
2021-10-30 10:07:20.275 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:07:20.276 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 23698.1041ms
2021-10-30 10:08:06.802 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 10:08:06.803 +02:00 [INF] Successfully validated the token.
2021-10-30 10:08:06.803 +02:00 [INF] Authorization was successful.
2021-10-30 10:08:06.803 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:08:06.804 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:08:06.805 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:08:06.808 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 10:08:06.809 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:08:06.810 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:08:06.810 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:08:06.811 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:08:06.811 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:08:06.811 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:08:06.811 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:08:06.812 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:08:06.812 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:08:06.812 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:08:06.814 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 10:08:06.818 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 13.9881ms
2021-10-30 10:08:06.818 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:08:06.824 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 22.5664ms
2021-10-30 10:24:45.832 +02:00 [INF] Staring Api
2021-10-30 10:24:48.245 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 10:24:48.835 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 10:24:48.835 +02:00 [INF] Hosting environment: Development
2021-10-30 10:24:48.835 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 10:24:48.922 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 10:24:49.002 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 10:24:49.010 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 94.0105ms
2021-10-30 10:24:49.157 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 155.2484ms
2021-10-30 10:24:49.204 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 10:24:49.222 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 10:24:49.280 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 10:24:49.281 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 10:24:49.281 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 10:24:49.290 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 85.4179ms
2021-10-30 10:24:49.292 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 10:24:49.305 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 25.1749ms
2021-10-30 10:24:49.337 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 114.4002ms
2021-10-30 10:24:50.594 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 10:24:50.707 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 112.7672ms
2021-10-30 10:27:47.829 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 10:27:48.018 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 10:27:48.075 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 10:27:49.403 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:27:49.953 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 10:27:50.206 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 10:27:50.235 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 10:27:50.244 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 10:27:50.446 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 10:27:50.464 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2379.5845ms
2021-10-30 10:27:50.465 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 10:27:50.475 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2646.1073ms
2021-10-30 10:27:52.694 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 10:27:52.810 +02:00 [INF] Successfully validated the token.
2021-10-30 10:27:52.824 +02:00 [INF] Authorization was successful.
2021-10-30 10:27:52.825 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:27:52.830 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:27:52.905 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:27:52.918 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 10:27:52.950 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:27:52.950 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:27:52.951 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:27:52.953 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:27:52.953 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:27:52.954 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:27:52.954 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:27:52.955 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:27:52.955 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:27:52.956 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:27:52.957 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 10:27:52.972 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 141.8035ms
2021-10-30 10:27:52.972 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:27:52.973 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 278.6955ms
2021-10-30 10:28:23.362 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 10:28:23.367 +02:00 [INF] Successfully validated the token.
2021-10-30 10:28:23.392 +02:00 [INF] Authorization was successful.
2021-10-30 10:28:23.393 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:28:23.394 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:28:23.407 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:28:23.415 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 10:28:23.415 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:28:23.416 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:28:23.416 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:28:23.417 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:28:23.417 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:28:23.417 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:28:23.418 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:28:23.418 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:28:23.418 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:28:23.419 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:28:23.419 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 10:28:23.420 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 25.5656ms
2021-10-30 10:28:23.420 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:28:23.420 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 58.1954ms
2021-10-30 10:29:11.594 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 10:29:11.596 +02:00 [INF] Successfully validated the token.
2021-10-30 10:29:11.600 +02:00 [INF] Authorization was successful.
2021-10-30 10:29:11.601 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:29:11.604 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:29:14.893 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:29:14.903 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 10:29:14.916 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:29:14.921 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:29:14.922 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 10:29:14.925 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 3320.2501ms
2021-10-30 10:29:14.925 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:29:14.926 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 3331.3005ms
2021-10-30 10:29:18.958 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 10:29:18.959 +02:00 [INF] Successfully validated the token.
2021-10-30 10:29:18.959 +02:00 [INF] Authorization was successful.
2021-10-30 10:29:18.959 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:29:18.959 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:29:18.960 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:29:18.965 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 10:29:18.966 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:29:18.967 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:29:18.967 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:29:18.968 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:29:18.969 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:29:18.969 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:29:18.969 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:29:18.970 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:29:18.970 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:29:18.971 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:29:18.972 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 10:29:18.973 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 13.0689ms
2021-10-30 10:29:18.973 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:29:18.974 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 15.8743ms
2021-10-30 10:31:46.755 +02:00 [INF] Staring Api
2021-10-30 10:31:49.483 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 10:31:50.038 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 10:31:50.039 +02:00 [INF] Hosting environment: Development
2021-10-30 10:31:50.039 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 10:31:50.133 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 10:31:50.259 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 10:31:50.265 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 135.5846ms
2021-10-30 10:31:50.488 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 229.4282ms
2021-10-30 10:31:50.572 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 10:31:50.603 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 10:31:50.638 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 10:31:50.687 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 10:31:50.695 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 10:31:50.701 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 128.9433ms
2021-10-30 10:31:50.702 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 10:31:50.715 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 118.3326ms
2021-10-30 10:31:50.754 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 157.4942ms
2021-10-30 10:31:52.099 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 10:31:52.346 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 246.3045ms
2021-10-30 10:32:02.060 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 10:32:02.219 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 10:32:02.262 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 10:32:03.344 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:32:03.824 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 10:32:04.036 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 10:32:04.067 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 10:32:04.075 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 10:32:04.284 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 10:32:04.301 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2030.6616ms
2021-10-30 10:32:04.302 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 10:32:04.308 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2248.2366ms
2021-10-30 10:32:09.944 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 10:32:10.048 +02:00 [INF] Successfully validated the token.
2021-10-30 10:32:10.065 +02:00 [INF] Authorization was successful.
2021-10-30 10:32:10.066 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:32:10.071 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:32:10.142 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:32:10.150 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 10:32:10.183 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:32:10.184 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:32:10.184 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:32:10.186 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:32:10.187 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:32:10.187 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:32:10.187 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:32:10.188 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:32:10.188 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:32:10.189 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:32:10.190 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 10:32:10.209 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 137.7751ms
2021-10-30 10:32:10.209 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:32:10.211 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 267.8008ms
2021-10-30 10:32:42.379 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 10:32:42.389 +02:00 [INF] Successfully validated the token.
2021-10-30 10:32:42.390 +02:00 [INF] Authorization was successful.
2021-10-30 10:32:42.391 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:32:42.395 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:33:30.090 +02:00 [INF] Staring Api
2021-10-30 10:33:32.274 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 10:33:32.977 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 10:33:32.978 +02:00 [INF] Hosting environment: Development
2021-10-30 10:33:32.978 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 10:33:33.116 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 10:33:33.230 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 10:33:33.255 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 136.4285ms
2021-10-30 10:33:33.450 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 220.0309ms
2021-10-30 10:33:33.516 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 10:33:33.522 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 10:33:33.531 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 10:33:33.613 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 10:33:33.613 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 10:33:33.633 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 111.0138ms
2021-10-30 10:33:33.648 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 10:33:33.683 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 151.8425ms
2021-10-30 10:33:33.733 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 216.9692ms
2021-10-30 10:33:35.357 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 10:33:35.736 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 378.7882ms
2021-10-30 10:33:50.463 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 10:33:50.655 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 10:33:50.710 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 10:33:51.802 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:33:52.447 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 10:33:52.678 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 10:33:52.709 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 10:33:52.718 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 10:33:52.911 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 10:33:52.928 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2210.6338ms
2021-10-30 10:33:52.928 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 10:33:52.937 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2473.7380ms
2021-10-30 10:33:54.893 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 10:33:54.990 +02:00 [INF] Successfully validated the token.
2021-10-30 10:33:55.004 +02:00 [INF] Authorization was successful.
2021-10-30 10:33:55.005 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:33:55.010 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:33:55.086 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:33:55.094 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 10:33:55.124 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:33:55.124 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:33:55.124 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:33:55.125 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:33:55.126 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:33:55.126 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:33:55.126 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:33:55.127 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:33:55.127 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:33:55.127 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:33:55.128 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 10:33:55.142 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 132.2568ms
2021-10-30 10:33:55.143 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:33:55.143 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 250.5381ms
2021-10-30 10:33:56.998 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 10:33:57.001 +02:00 [INF] Successfully validated the token.
2021-10-30 10:33:57.003 +02:00 [INF] Authorization was successful.
2021-10-30 10:33:57.004 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:33:57.007 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:34:05.156 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:34:05.168 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 10:34:08.118 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:34:08.123 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:34:09.181 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 10:34:11.426 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 14418.8229ms
2021-10-30 10:34:11.426 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:34:11.428 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 14430.6648ms
2021-10-30 10:39:23.416 +02:00 [INF] Staring Api
2021-10-30 10:39:27.140 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 10:39:27.793 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 10:39:27.794 +02:00 [INF] Hosting environment: Development
2021-10-30 10:39:27.794 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 10:39:27.876 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 10:39:27.961 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 10:39:27.964 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 91.1102ms
2021-10-30 10:39:28.146 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 185.2885ms
2021-10-30 10:39:28.192 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 10:39:28.212 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 10:39:28.288 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 10:39:28.288 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 10:39:28.290 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 10:39:28.305 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 10:39:28.305 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 111.9293ms
2021-10-30 10:39:28.325 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 35.5919ms
2021-10-30 10:39:28.346 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 133.2906ms
2021-10-30 10:39:29.935 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 10:39:30.083 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 148.1299ms
2021-10-30 10:39:32.986 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 10:39:33.156 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user)
2021-10-30 10:39:33.161 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-10-30 10:39:33.163 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 401 - - 177.1792ms
2021-10-30 10:39:37.106 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 10:39:37.115 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user)
2021-10-30 10:39:37.115 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-10-30 10:39:37.118 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 401 - - 11.6356ms
2021-10-30 10:40:09.589 +02:00 [INF] Staring Api
2021-10-30 10:40:12.016 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 10:40:12.559 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 10:40:12.560 +02:00 [INF] Hosting environment: Development
2021-10-30 10:40:12.560 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 10:40:12.688 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 10:40:12.847 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 10:40:12.871 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 172.4633ms
2021-10-30 10:40:13.074 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 227.0937ms
2021-10-30 10:40:13.158 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 10:40:13.231 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 10:40:13.245 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 10:40:13.257 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 10:40:13.258 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 100.0733ms
2021-10-30 10:40:13.292 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 60.7725ms
2021-10-30 10:40:13.311 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 10:40:13.318 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 10:40:13.327 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 15.8564ms
2021-10-30 10:40:15.759 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 10:40:15.901 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 142.1702ms
2021-10-30 10:40:32.374 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 10:40:32.546 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 10:40:32.590 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 10:40:33.883 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:40:34.660 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 10:40:35.002 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 10:40:35.034 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 10:40:35.042 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 10:40:35.238 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 10:40:35.254 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2657.8237ms
2021-10-30 10:40:35.254 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 10:40:35.261 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2887.0947ms
2021-10-30 10:41:25.190 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 10:41:25.280 +02:00 [INF] Successfully validated the token.
2021-10-30 10:41:25.293 +02:00 [INF] Authorization was successful.
2021-10-30 10:41:25.295 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:41:25.300 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:41:25.379 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:41:25.387 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 10:41:25.415 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:41:25.416 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:41:25.416 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:41:25.419 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:41:25.420 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:41:25.420 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:41:25.421 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:41:25.421 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:41:25.422 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:41:25.422 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:41:25.423 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 10:41:25.437 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 137.4179ms
2021-10-30 10:41:25.437 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:41:25.439 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 248.6372ms
2021-10-30 10:41:32.704 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 10:41:32.709 +02:00 [INF] Successfully validated the token.
2021-10-30 10:41:32.710 +02:00 [INF] Authorization was successful.
2021-10-30 10:41:32.711 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:41:32.715 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:41:37.315 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:41:37.326 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 10:41:37.341 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:41:37.346 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:41:37.347 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 10:41:37.350 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 4635.2081ms
2021-10-30 10:41:37.350 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:41:37.357 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 4653.7063ms
2021-10-30 10:44:33.411 +02:00 [INF] Staring Api
2021-10-30 10:44:36.096 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 10:44:36.647 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 10:44:36.647 +02:00 [INF] Hosting environment: Development
2021-10-30 10:44:36.647 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 10:44:36.716 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 10:44:36.790 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 10:44:36.791 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 79.2558ms
2021-10-30 10:44:36.944 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 154.4071ms
2021-10-30 10:44:36.983 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 10:44:37.006 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 10:44:37.040 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 10:44:37.040 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 10:44:37.046 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 10:44:37.049 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 66.0006ms
2021-10-30 10:44:37.069 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 10:44:37.082 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 35.5701ms
2021-10-30 10:44:37.084 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 78.0857ms
2021-10-30 10:44:39.189 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 10:44:39.353 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 164.4604ms
2021-10-30 10:45:06.907 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 10:45:07.078 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 10:45:07.124 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 10:45:08.336 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:45:08.866 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 10:45:09.119 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 10:45:09.149 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 10:45:09.156 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 10:45:09.360 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 10:45:09.376 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2244.5176ms
2021-10-30 10:45:09.377 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 10:45:09.386 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2478.3394ms
2021-10-30 10:46:28.057 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 10:46:28.187 +02:00 [INF] Successfully validated the token.
2021-10-30 10:46:28.203 +02:00 [INF] Authorization was successful.
2021-10-30 10:46:28.205 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:46:28.211 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:46:28.305 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:46:28.318 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 10:46:28.368 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:46:28.368 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:46:28.369 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:46:28.372 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:46:28.373 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:46:28.375 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:46:28.376 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:46:28.376 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:46:28.377 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:46:28.377 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:46:28.378 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 10:46:28.406 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 194.3428ms
2021-10-30 10:46:28.406 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:46:28.412 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 355.7821ms
2021-10-30 10:46:31.083 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 10:46:31.086 +02:00 [INF] Successfully validated the token.
2021-10-30 10:46:31.086 +02:00 [INF] Authorization was successful.
2021-10-30 10:46:31.087 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:46:31.091 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:46:31.105 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:46:31.114 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 10:46:31.127 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:46:31.135 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:46:31.135 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 10:46:31.138 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 46.543ms
2021-10-30 10:46:31.138 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:46:31.140 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 57.0768ms
2021-10-30 10:48:29.780 +02:00 [INF] Staring Api
2021-10-30 10:48:32.014 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 10:48:32.532 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 10:48:32.532 +02:00 [INF] Hosting environment: Development
2021-10-30 10:48:32.543 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 10:48:32.602 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 10:48:32.687 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 10:48:32.697 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 97.4401ms
2021-10-30 10:48:32.854 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 166.2168ms
2021-10-30 10:48:32.899 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 10:48:32.915 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 10:48:32.968 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 10:48:32.968 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 10:48:32.983 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 84.0566ms
2021-10-30 10:48:33.011 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 98.5817ms
2021-10-30 10:48:33.037 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 10:48:33.043 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 10:48:33.054 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 16.8205ms
2021-10-30 10:48:35.011 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 10:48:35.181 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 170.3551ms
2021-10-30 10:50:40.991 +02:00 [INF] Staring Api
2021-10-30 10:50:43.500 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 10:50:44.097 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 10:50:44.097 +02:00 [INF] Hosting environment: Development
2021-10-30 10:50:44.097 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 10:50:44.188 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 10:50:44.299 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 10:50:44.316 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 134.7377ms
2021-10-30 10:50:44.560 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 261.7301ms
2021-10-30 10:50:44.614 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 10:50:44.636 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 10:50:44.691 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 10:50:44.691 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 10:50:44.701 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 87.0672ms
2021-10-30 10:50:44.720 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 10:50:44.727 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 10:50:44.740 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 104.0368ms
2021-10-30 10:50:44.752 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 32.4057ms
2021-10-30 10:50:46.174 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 10:50:46.337 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 162.7445ms
2021-10-30 10:51:47.145 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 10:51:47.317 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 10:51:47.370 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 10:51:48.460 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:51:48.958 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 10:51:49.168 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 10:51:49.204 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 10:51:49.217 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 10:51:49.409 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 10:51:49.429 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2047.0052ms
2021-10-30 10:51:49.430 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 10:51:49.443 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2297.8642ms
2021-10-30 10:52:27.352 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 10:52:27.465 +02:00 [INF] Successfully validated the token.
2021-10-30 10:52:27.480 +02:00 [INF] Authorization was successful.
2021-10-30 10:52:27.482 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:52:27.486 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:52:27.562 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:52:27.571 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 10:52:27.601 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:52:27.601 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:52:27.602 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:52:27.605 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:52:27.606 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:52:27.606 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:52:27.607 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:52:27.607 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:52:27.607 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:52:27.608 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:52:27.609 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 10:52:27.625 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 138.6423ms
2021-10-30 10:52:27.625 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:52:27.627 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 274.3114ms
2021-10-30 10:54:22.075 +02:00 [INF] Staring Api
2021-10-30 10:54:26.459 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 10:54:27.325 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 10:54:27.326 +02:00 [INF] Hosting environment: Development
2021-10-30 10:54:27.326 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 10:54:27.448 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 10:54:27.560 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 10:54:27.567 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 123.5527ms
2021-10-30 10:54:27.926 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 365.6601ms
2021-10-30 10:54:28.258 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 10:54:28.328 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 10:54:28.333 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 74.8233ms
2021-10-30 10:54:28.358 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 10:54:28.381 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 10:54:28.426 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 67.9440ms
2021-10-30 10:54:28.466 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 10:54:28.480 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 10:54:28.510 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 43.9076ms
2021-10-30 10:54:33.976 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 10:54:34.238 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 261.6259ms
2021-10-30 10:54:36.202 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 10:54:36.721 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user)
2021-10-30 10:54:36.729 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-10-30 10:54:36.765 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 401 - - 563.0183ms
2021-10-30 10:55:09.750 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 10:55:09.773 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 10:55:09.837 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 10:55:11.254 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:55:11.748 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 10:55:11.972 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 10:55:12.001 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 10:55:12.011 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 10:55:12.202 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 10:55:12.222 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2376.5813ms
2021-10-30 10:55:12.224 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 10:55:12.235 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2484.5955ms
2021-10-30 10:55:13.727 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 10:55:13.840 +02:00 [INF] Successfully validated the token.
2021-10-30 10:55:13.843 +02:00 [INF] Authorization was successful.
2021-10-30 10:55:13.843 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:55:13.849 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:55:13.936 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:55:13.949 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 10:55:13.977 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:55:13.978 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:55:13.979 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:55:13.980 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:55:13.981 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:55:13.982 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:55:13.982 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:55:13.983 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:55:13.983 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:55:13.983 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:55:13.985 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 10:55:14.002 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 153.1925ms
2021-10-30 10:55:14.003 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:55:14.004 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 276.8576ms
2021-10-30 10:55:23.501 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 10:55:23.502 +02:00 [INF] Successfully validated the token.
2021-10-30 10:55:23.503 +02:00 [INF] Authorization was successful.
2021-10-30 10:55:23.504 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:55:23.507 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:55:23.524 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:55:23.537 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 10:55:23.556 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:55:23.563 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:55:23.564 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 10:55:23.568 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 61.2035ms
2021-10-30 10:55:23.568 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:55:23.570 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 69.2541ms
2021-10-30 10:56:28.527 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 10:56:28.531 +02:00 [INF] Successfully validated the token.
2021-10-30 10:56:28.539 +02:00 [INF] Authorization was successful.
2021-10-30 10:56:28.540 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:56:28.540 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 10:56:28.546 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 10:56:28.556 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 10:56:28.567 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:56:28.573 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 10:56:28.574 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 10:56:28.574 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 34.1202ms
2021-10-30 10:56:28.574 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 10:56:28.576 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 49.1666ms
2021-10-30 11:00:01.244 +02:00 [INF] Staring Api
2021-10-30 11:00:03.813 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 11:00:04.529 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 11:00:04.530 +02:00 [INF] Hosting environment: Development
2021-10-30 11:00:04.530 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 11:00:04.650 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 11:00:04.792 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 11:00:04.799 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 153.6524ms
2021-10-30 11:00:05.043 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 250.8487ms
2021-10-30 11:00:05.110 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 11:00:05.113 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 11:00:05.114 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 11:00:05.186 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 11:00:05.186 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 11:00:05.187 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 11:00:05.195 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 81.8665ms
2021-10-30 11:00:05.226 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 111.8110ms
2021-10-30 11:00:05.242 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 131.4213ms
2021-10-30 11:00:06.184 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 11:00:06.496 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 311.5807ms
2021-10-30 11:01:01.633 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 11:01:01.825 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:01:01.882 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 11:01:03.036 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:01:03.671 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 11:01:03.893 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:01:03.925 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 11:01:03.934 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:01:04.127 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 11:01:04.151 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2260.2148ms
2021-10-30 11:01:04.152 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:01:04.159 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2525.5531ms
2021-10-30 11:01:08.303 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 11:01:08.394 +02:00 [INF] Successfully validated the token.
2021-10-30 11:01:08.409 +02:00 [INF] Authorization was successful.
2021-10-30 11:01:08.410 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:01:08.419 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:01:08.503 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:01:08.512 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 11:01:08.541 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:01:08.542 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:01:08.542 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:01:08.544 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:01:08.545 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:01:08.545 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:01:08.546 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:01:08.546 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:01:08.547 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:01:08.547 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:01:08.548 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 11:01:08.562 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 142.8469ms
2021-10-30 11:01:08.562 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:01:08.564 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 260.6818ms
2021-10-30 11:01:12.896 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:01:12.899 +02:00 [INF] Successfully validated the token.
2021-10-30 11:01:12.900 +02:00 [INF] Authorization was successful.
2021-10-30 11:01:12.901 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:01:12.905 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:01:12.917 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:01:12.927 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:01:12.939 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:01:12.944 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:01:12.944 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:01:12.947 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 42.2664ms
2021-10-30 11:01:12.947 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:01:12.948 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 52.1498ms
2021-10-30 11:01:25.065 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:01:25.066 +02:00 [INF] Successfully validated the token.
2021-10-30 11:01:25.068 +02:00 [INF] Authorization was successful.
2021-10-30 11:01:25.068 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:01:25.069 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:01:25.074 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:01:25.078 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:01:25.087 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:01:25.092 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:01:25.093 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:01:25.093 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 24.3104ms
2021-10-30 11:01:25.093 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:01:25.094 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 30.0302ms
2021-10-30 11:02:23.789 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:02:23.790 +02:00 [INF] Successfully validated the token.
2021-10-30 11:02:23.791 +02:00 [INF] Authorization was successful.
2021-10-30 11:02:23.791 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:02:23.792 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:02:23.793 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:02:23.801 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:02:23.810 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:02:23.815 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:02:23.816 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:02:23.816 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 24.5889ms
2021-10-30 11:02:23.817 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:02:23.818 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 28.4699ms
2021-10-30 11:02:51.309 +02:00 [INF] Staring Api
2021-10-30 11:02:54.076 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 11:02:54.601 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 11:02:54.602 +02:00 [INF] Hosting environment: Development
2021-10-30 11:02:54.602 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 11:02:54.688 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 11:02:54.813 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 128.9583ms
2021-10-30 11:02:54.814 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 11:02:55.044 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 229.6063ms
2021-10-30 11:02:55.123 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 11:02:55.125 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 11:02:55.127 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 11:02:55.218 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 11:02:55.218 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 11:02:55.218 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 11:02:55.229 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 102.2648ms
2021-10-30 11:02:55.244 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 118.7033ms
2021-10-30 11:02:55.285 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 161.6219ms
2021-10-30 11:02:56.242 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 11:02:56.633 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 390.8054ms
2021-10-30 11:03:07.178 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 11:03:07.366 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:03:07.422 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 11:03:08.532 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:03:09.021 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 11:03:09.238 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:03:09.269 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 11:03:09.276 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:03:09.474 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 11:03:09.489 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2060.3563ms
2021-10-30 11:03:09.490 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:03:09.498 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2320.1277ms
2021-10-30 11:03:11.820 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 11:03:11.908 +02:00 [INF] Successfully validated the token.
2021-10-30 11:03:11.922 +02:00 [INF] Authorization was successful.
2021-10-30 11:03:11.924 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:03:11.928 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:03:12.015 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:03:12.024 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 11:03:12.054 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:03:12.055 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:03:12.055 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:03:12.057 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:03:12.058 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:03:12.058 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:03:12.058 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:03:12.059 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:03:12.059 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:03:12.060 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:03:12.061 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 11:03:12.075 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 146.555ms
2021-10-30 11:03:12.075 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:03:12.076 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 256.4160ms
2021-10-30 11:03:14.664 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:03:14.667 +02:00 [INF] Successfully validated the token.
2021-10-30 11:03:14.668 +02:00 [INF] Authorization was successful.
2021-10-30 11:03:14.669 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:03:14.675 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:03:14.691 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:03:14.700 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:03:14.714 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:03:14.718 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:03:14.719 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:03:14.722 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 46.3234ms
2021-10-30 11:03:14.722 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:03:14.723 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 59.4351ms
2021-10-30 11:03:45.123 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Update application/json;+charset=utf-8 -
2021-10-30 11:03:45.124 +02:00 [INF] Successfully validated the token.
2021-10-30 11:03:45.124 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-10-30 11:03:45.125 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-10-30 11:03:45.133 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Update application/json;+charset=utf-8 - - 405 - - 9.2319ms
2021-10-30 11:04:44.238 +02:00 [INF] Staring Api
2021-10-30 11:04:46.553 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 11:04:47.011 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 11:04:47.012 +02:00 [INF] Hosting environment: Development
2021-10-30 11:04:47.012 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 11:04:47.130 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 11:04:47.213 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 11:04:47.221 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 93.9152ms
2021-10-30 11:04:47.413 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 200.3050ms
2021-10-30 11:04:47.470 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 11:04:47.471 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 11:04:47.477 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 11:04:47.536 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 11:04:47.536 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 11:04:47.536 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 11:04:47.553 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 82.4588ms
2021-10-30 11:04:47.558 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 80.6773ms
2021-10-30 11:04:47.602 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 131.3269ms
2021-10-30 11:04:48.616 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 11:04:49.030 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 415.7589ms
2021-10-30 11:05:51.424 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 11:05:51.639 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:05:51.703 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 11:05:52.814 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:05:53.293 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 11:05:53.510 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:05:53.539 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 11:05:53.548 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:05:53.756 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 11:05:53.773 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2062.3034ms
2021-10-30 11:05:53.774 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:05:53.783 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2361.2734ms
2021-10-30 11:05:54.992 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 11:05:55.101 +02:00 [INF] Successfully validated the token.
2021-10-30 11:05:55.116 +02:00 [INF] Authorization was successful.
2021-10-30 11:05:55.118 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:05:55.125 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:05:55.202 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:05:55.211 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 11:05:55.240 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:05:55.240 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:05:55.241 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:05:55.244 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:05:55.244 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:05:55.244 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:05:55.245 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:05:55.245 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:05:55.246 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:05:55.246 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:05:55.247 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 11:05:55.260 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 135.7496ms
2021-10-30 11:05:55.261 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:05:55.262 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 270.3414ms
2021-10-30 11:05:57.667 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:05:57.671 +02:00 [INF] Successfully validated the token.
2021-10-30 11:05:57.672 +02:00 [INF] Authorization was successful.
2021-10-30 11:05:57.672 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:05:57.676 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:05:57.689 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:05:57.698 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:05:57.711 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:05:57.716 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:05:57.716 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:05:57.719 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 42.9739ms
2021-10-30 11:05:57.719 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:05:57.720 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 53.1567ms
2021-10-30 11:06:18.240 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Books/Update application/json;+charset=utf-8 -
2021-10-30 11:06:18.241 +02:00 [INF] Successfully validated the token.
2021-10-30 11:06:18.241 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-10-30 11:06:18.241 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-10-30 11:06:18.247 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Books/Update application/json;+charset=utf-8 - - 405 - - 6.6834ms
2021-10-30 11:07:56.808 +02:00 [INF] Staring Api
2021-10-30 11:07:59.715 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 11:08:00.364 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 11:08:00.400 +02:00 [INF] Hosting environment: Development
2021-10-30 11:08:00.400 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 11:08:00.484 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 11:08:00.612 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 11:08:00.623 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 141.2879ms
2021-10-30 11:08:00.830 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 217.9938ms
2021-10-30 11:08:00.883 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 11:08:00.884 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 11:08:00.924 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 11:08:00.976 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 11:08:00.976 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 11:08:00.976 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 11:08:00.997 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 73.4519ms
2021-10-30 11:08:01.005 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 121.6092ms
2021-10-30 11:08:01.039 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 155.5108ms
2021-10-30 11:08:01.997 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 11:08:02.258 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 261.0894ms
2021-10-30 11:08:14.705 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 11:08:14.855 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:08:14.902 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 11:08:16.037 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:08:16.546 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 11:08:16.786 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:08:16.820 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 11:08:16.827 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:08:17.037 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 11:08:17.054 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2145.3775ms
2021-10-30 11:08:17.055 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:08:17.065 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2360.7826ms
2021-10-30 11:08:18.759 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 11:08:18.866 +02:00 [INF] Successfully validated the token.
2021-10-30 11:08:18.880 +02:00 [INF] Authorization was successful.
2021-10-30 11:08:18.882 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:08:18.886 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:08:18.957 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:08:18.968 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 11:08:19.007 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:08:19.009 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:08:19.010 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:08:19.012 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:08:19.013 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:08:19.014 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:08:19.015 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:08:19.015 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:08:19.016 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:08:19.016 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:08:19.017 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 11:08:19.035 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 149.0224ms
2021-10-30 11:08:19.036 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:08:19.037 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 278.3677ms
2021-10-30 11:08:21.333 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:08:21.337 +02:00 [INF] Successfully validated the token.
2021-10-30 11:08:21.338 +02:00 [INF] Authorization was successful.
2021-10-30 11:08:21.339 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:08:21.343 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:08:21.360 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:08:21.386 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:08:21.402 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:08:21.403 +02:00 [INF] Successfully validated the token.
2021-10-30 11:08:21.404 +02:00 [INF] Authorization was successful.
2021-10-30 11:08:21.404 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:08:21.405 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:08:21.406 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:08:21.410 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:08:21.413 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:08:21.413 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:08:21.413 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:08:21.417 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 73.5736ms
2021-10-30 11:08:21.417 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:08:21.418 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 85.7922ms
2021-10-30 11:08:21.419 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:08:21.424 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:08:21.425 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:08:21.425 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 20.4908ms
2021-10-30 11:08:21.426 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:08:21.428 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 25.2947ms
2021-10-30 11:08:50.284 +02:00 [INF] Staring Api
2021-10-30 11:08:53.086 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 11:08:53.507 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 11:08:53.507 +02:00 [INF] Hosting environment: Development
2021-10-30 11:08:53.507 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 11:08:53.607 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 11:08:53.734 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 11:08:53.782 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 178.2197ms
2021-10-30 11:08:53.995 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 260.4829ms
2021-10-30 11:08:54.106 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 11:08:54.118 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 11:08:54.119 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 11:08:54.203 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 11:08:54.203 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 11:08:54.203 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 11:08:54.219 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 112.7441ms
2021-10-30 11:08:54.235 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 116.7374ms
2021-10-30 11:08:54.267 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 148.2723ms
2021-10-30 11:08:55.125 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 11:08:55.599 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 474.5288ms
2021-10-30 11:09:05.441 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 11:09:05.610 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:09:05.666 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 11:09:06.867 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:09:07.361 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 11:09:07.568 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:09:07.602 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 11:09:07.612 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:09:07.805 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 11:09:07.821 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2148.1375ms
2021-10-30 11:09:07.822 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:09:07.829 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2388.3507ms
2021-10-30 11:09:10.258 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 11:09:10.354 +02:00 [INF] Successfully validated the token.
2021-10-30 11:09:10.367 +02:00 [INF] Authorization was successful.
2021-10-30 11:09:10.369 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:09:10.374 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:09:10.448 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:09:10.458 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 11:09:10.498 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:09:10.499 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:09:10.499 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:09:10.504 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:09:10.505 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:09:10.505 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:09:10.506 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:09:10.507 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:09:10.508 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:09:10.509 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:09:10.510 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 11:09:10.526 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 151.488ms
2021-10-30 11:09:10.526 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:09:10.528 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 270.0694ms
2021-10-30 11:09:12.283 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:09:12.287 +02:00 [INF] Successfully validated the token.
2021-10-30 11:09:12.288 +02:00 [INF] Authorization was successful.
2021-10-30 11:09:12.289 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:09:12.292 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:09:12.306 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:09:12.316 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:09:12.332 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:09:12.337 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:09:12.338 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:09:12.341 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 48.0324ms
2021-10-30 11:09:12.341 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:09:12.342 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 59.0075ms
2021-10-30 11:12:34.199 +02:00 [INF] Staring Api
2021-10-30 11:12:37.126 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 11:12:37.582 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 11:12:37.584 +02:00 [INF] Hosting environment: Development
2021-10-30 11:12:37.585 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 11:12:37.667 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 11:12:37.790 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 11:12:37.792 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 129.3470ms
2021-10-30 11:12:38.004 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 213.7678ms
2021-10-30 11:12:38.058 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 11:12:38.058 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 11:12:38.058 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 11:12:38.138 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 11:12:38.138 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 11:12:38.139 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 11:12:38.157 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 98.2866ms
2021-10-30 11:12:38.169 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 110.1563ms
2021-10-30 11:12:38.208 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 150.7554ms
2021-10-30 11:12:39.141 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 11:12:39.625 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 483.7533ms
2021-10-30 11:12:54.129 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 11:12:54.322 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:12:54.398 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 11:12:55.786 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:12:56.382 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 11:12:56.649 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:12:56.695 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 11:12:56.705 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:12:56.962 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 11:12:56.987 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2578.8903ms
2021-10-30 11:12:56.988 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:12:57.003 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2874.1160ms
2021-10-30 11:12:58.629 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 11:12:58.723 +02:00 [INF] Successfully validated the token.
2021-10-30 11:12:58.737 +02:00 [INF] Authorization was successful.
2021-10-30 11:12:58.739 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:12:58.744 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:12:58.816 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:12:58.828 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 11:12:58.859 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:12:58.860 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:12:58.860 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:12:58.861 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:12:58.862 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:12:58.862 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:12:58.862 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:12:58.863 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:12:58.863 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:12:58.863 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:12:58.864 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 11:12:58.876 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 131.0731ms
2021-10-30 11:12:58.876 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:12:58.877 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 247.2682ms
2021-10-30 11:13:01.413 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:13:01.417 +02:00 [INF] Successfully validated the token.
2021-10-30 11:13:01.418 +02:00 [INF] Authorization was successful.
2021-10-30 11:13:01.419 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:13:01.425 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:13:01.439 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:13:01.449 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:13:01.463 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:13:01.467 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:13:01.468 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:13:01.471 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 45.653ms
2021-10-30 11:13:01.471 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:13:01.472 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 58.3630ms
2021-10-30 11:14:14.328 +02:00 [INF] Staring Api
2021-10-30 11:14:17.412 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 11:14:17.921 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 11:14:17.921 +02:00 [INF] Hosting environment: Development
2021-10-30 11:14:17.922 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 11:14:17.993 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 11:14:18.090 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 11:14:18.098 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 107.5639ms
2021-10-30 11:14:18.271 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 180.4788ms
2021-10-30 11:14:18.330 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 11:14:18.330 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 11:14:18.330 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 11:14:18.399 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 11:14:18.399 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 11:14:18.399 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 11:14:18.410 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 79.8799ms
2021-10-30 11:14:18.411 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 81.0794ms
2021-10-30 11:14:18.460 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 130.0248ms
2021-10-30 11:14:19.223 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 11:14:19.503 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 279.2341ms
2021-10-30 11:14:41.643 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 11:14:41.806 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:14:41.855 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 11:14:43.046 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:14:43.559 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 11:14:43.773 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:14:43.801 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 11:14:43.810 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:14:44.003 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 11:14:44.019 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2157.8957ms
2021-10-30 11:14:44.022 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:14:44.032 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2388.9400ms
2021-10-30 11:14:45.339 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 11:14:45.431 +02:00 [INF] Successfully validated the token.
2021-10-30 11:14:45.446 +02:00 [INF] Authorization was successful.
2021-10-30 11:14:45.448 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:14:45.453 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:14:45.532 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:14:45.542 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 11:14:45.575 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:14:45.576 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:14:45.577 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:14:45.579 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:14:45.580 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:14:45.581 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:14:45.581 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:14:45.582 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:14:45.583 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:14:45.585 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:14:45.588 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 11:14:45.601 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 148.5741ms
2021-10-30 11:14:45.602 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:14:45.607 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 268.6242ms
2021-10-30 11:14:48.174 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:14:48.178 +02:00 [INF] Successfully validated the token.
2021-10-30 11:14:48.178 +02:00 [INF] Authorization was successful.
2021-10-30 11:14:48.179 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:14:48.182 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:14:48.197 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:14:48.207 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:14:48.221 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:14:48.225 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:14:48.226 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:14:48.229 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 46.1671ms
2021-10-30 11:14:48.229 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:14:48.230 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 55.7589ms
2021-10-30 11:14:53.522 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:14:53.523 +02:00 [INF] Successfully validated the token.
2021-10-30 11:14:53.524 +02:00 [INF] Authorization was successful.
2021-10-30 11:14:53.525 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:14:53.525 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:14:53.529 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:14:53.537 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:14:53.543 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:14:53.548 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:14:53.549 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:14:53.551 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 25.938ms
2021-10-30 11:14:53.551 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:14:53.553 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 31.0052ms
2021-10-30 11:15:07.780 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:15:07.781 +02:00 [INF] Successfully validated the token.
2021-10-30 11:15:07.781 +02:00 [INF] Authorization was successful.
2021-10-30 11:15:07.782 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:15:07.782 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:15:07.783 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:15:07.791 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:15:07.801 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:15:07.809 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:15:07.810 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:15:07.811 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 28.9554ms
2021-10-30 11:15:07.811 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:15:07.813 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 33.3035ms
2021-10-30 11:15:38.618 +02:00 [INF] Staring Api
2021-10-30 11:15:40.960 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 11:15:41.384 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 11:15:41.385 +02:00 [INF] Hosting environment: Development
2021-10-30 11:15:41.385 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 11:15:41.447 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 11:15:41.538 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 11:15:41.538 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 93.2191ms
2021-10-30 11:15:41.712 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 174.2631ms
2021-10-30 11:15:41.782 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 11:15:41.809 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 11:15:41.810 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 11:15:41.856 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 11:15:41.856 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 11:15:41.856 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 11:15:41.866 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 83.5858ms
2021-10-30 11:15:41.880 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 69.6262ms
2021-10-30 11:15:41.913 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 104.9868ms
2021-10-30 11:15:42.847 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 11:15:43.287 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 440.1634ms
2021-10-30 11:16:04.099 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 11:16:04.283 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:16:04.356 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 11:16:05.608 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:16:06.138 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 11:16:06.370 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:16:06.399 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 11:16:06.406 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:16:06.597 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 11:16:06.612 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2249.5769ms
2021-10-30 11:16:06.613 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:16:06.621 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2521.4737ms
2021-10-30 11:16:09.835 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 11:16:09.939 +02:00 [INF] Successfully validated the token.
2021-10-30 11:16:09.954 +02:00 [INF] Authorization was successful.
2021-10-30 11:16:09.955 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:16:09.959 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:16:10.093 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:16:10.105 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 11:16:10.143 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:16:10.144 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:16:10.144 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:16:10.147 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:16:10.147 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:16:10.148 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:16:10.149 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:16:10.149 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:16:10.150 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:16:10.150 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:16:10.151 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 11:16:10.164 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 204.8371ms
2021-10-30 11:16:10.164 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:16:10.165 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 330.2008ms
2021-10-30 11:16:12.190 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:16:12.194 +02:00 [INF] Successfully validated the token.
2021-10-30 11:16:12.195 +02:00 [INF] Authorization was successful.
2021-10-30 11:16:12.197 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:16:12.203 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:16:12.220 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:16:12.229 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:16:12.241 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:16:12.247 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:16:12.247 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:16:12.251 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 48.0696ms
2021-10-30 11:16:12.251 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:16:12.252 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 62.8011ms
2021-10-30 11:16:15.745 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:16:15.747 +02:00 [INF] Successfully validated the token.
2021-10-30 11:16:15.748 +02:00 [INF] Authorization was successful.
2021-10-30 11:16:15.749 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:16:15.749 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:16:15.753 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:16:15.760 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:16:15.769 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:16:15.774 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:16:15.775 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:16:15.777 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 27.5871ms
2021-10-30 11:16:15.777 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:16:15.779 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 34.1004ms
2021-10-30 11:16:49.925 +02:00 [INF] Staring Api
2021-10-30 11:16:52.071 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 11:16:52.568 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 11:16:52.568 +02:00 [INF] Hosting environment: Development
2021-10-30 11:16:52.568 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 11:16:52.639 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 11:16:52.749 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 11:16:52.761 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 126.5052ms
2021-10-30 11:16:52.962 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 213.5468ms
2021-10-30 11:16:53.036 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 11:16:53.039 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 11:16:53.039 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 11:16:53.101 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 11:16:53.101 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 11:16:53.101 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 11:16:53.120 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 84.4373ms
2021-10-30 11:16:53.132 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 93.0358ms
2021-10-30 11:16:53.175 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 136.3136ms
2021-10-30 11:16:54.179 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 11:16:54.541 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 362.3176ms
2021-10-30 11:17:12.263 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 11:17:12.467 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:17:12.518 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 11:17:13.907 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:17:14.600 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 11:17:14.847 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:17:14.882 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 11:17:14.891 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:17:15.133 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 11:17:15.154 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2628.4717ms
2021-10-30 11:17:15.155 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:17:15.164 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2900.6246ms
2021-10-30 11:17:16.066 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 11:17:16.160 +02:00 [INF] Successfully validated the token.
2021-10-30 11:17:16.174 +02:00 [INF] Authorization was successful.
2021-10-30 11:17:16.175 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:17:16.182 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:17:16.291 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:17:16.303 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 11:17:16.343 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:17:16.344 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:17:16.345 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:17:16.348 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:17:16.349 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:17:16.350 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:17:16.350 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:17:16.351 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:17:16.351 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:17:16.352 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:17:16.353 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 11:17:16.372 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 189.6569ms
2021-10-30 11:17:16.373 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:17:16.375 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 309.5561ms
2021-10-30 11:17:17.871 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:17:17.875 +02:00 [INF] Successfully validated the token.
2021-10-30 11:17:17.876 +02:00 [INF] Authorization was successful.
2021-10-30 11:17:17.877 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:17:17.884 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:17:17.899 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:17:17.908 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:17:17.924 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:17:17.929 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:17:17.930 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:17:17.933 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 48.3717ms
2021-10-30 11:17:17.933 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:17:17.934 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 63.0060ms
2021-10-30 11:17:20.783 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:17:20.784 +02:00 [INF] Successfully validated the token.
2021-10-30 11:17:20.785 +02:00 [INF] Authorization was successful.
2021-10-30 11:17:20.785 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:17:20.786 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:17:20.792 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:17:20.801 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:17:20.808 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:17:20.817 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:17:20.817 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:17:20.819 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 31.8783ms
2021-10-30 11:17:20.819 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:17:20.820 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 36.9822ms
2021-10-30 11:17:25.221 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:17:25.222 +02:00 [INF] Successfully validated the token.
2021-10-30 11:17:25.222 +02:00 [INF] Authorization was successful.
2021-10-30 11:17:25.222 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:17:25.223 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:17:25.223 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:17:25.232 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:17:25.239 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:17:25.247 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:17:25.248 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:17:25.248 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 25.7027ms
2021-10-30 11:17:25.249 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:17:25.249 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 27.9989ms
2021-10-30 11:18:10.121 +02:00 [INF] Staring Api
2021-10-30 11:18:12.943 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 11:18:13.371 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 11:18:13.372 +02:00 [INF] Hosting environment: Development
2021-10-30 11:18:13.372 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 11:18:13.444 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 11:18:13.538 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 11:18:13.547 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 108.0285ms
2021-10-30 11:18:13.719 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 181.4052ms
2021-10-30 11:18:13.781 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 11:18:13.788 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 11:18:13.843 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 11:18:13.885 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 11:18:13.885 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 11:18:13.885 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 11:18:13.892 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 111.5776ms
2021-10-30 11:18:13.904 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 60.9758ms
2021-10-30 11:18:13.962 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 173.5954ms
2021-10-30 11:18:14.951 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 11:18:15.315 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 363.8978ms
2021-10-30 11:18:25.703 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 11:18:25.912 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:18:25.975 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 11:18:27.293 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:18:27.788 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 11:18:28.014 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:18:28.042 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 11:18:28.051 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:18:28.244 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 11:18:28.259 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2278.7789ms
2021-10-30 11:18:28.260 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:18:28.268 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2564.3019ms
2021-10-30 11:18:30.232 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 11:18:30.319 +02:00 [INF] Successfully validated the token.
2021-10-30 11:18:30.333 +02:00 [INF] Authorization was successful.
2021-10-30 11:18:30.334 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:18:30.339 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:18:30.418 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:18:30.429 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 11:18:30.462 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:18:30.463 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:18:30.463 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:18:30.465 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:18:30.465 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:18:30.466 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:18:30.466 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:18:30.466 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:18:30.467 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:18:30.467 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:18:30.468 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 11:18:30.484 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 144.7152ms
2021-10-30 11:18:30.484 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:18:30.485 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 253.3040ms
2021-10-30 11:18:32.492 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:18:32.496 +02:00 [INF] Successfully validated the token.
2021-10-30 11:18:32.496 +02:00 [INF] Authorization was successful.
2021-10-30 11:18:32.497 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:18:32.501 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:18:32.516 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:18:32.525 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:18:32.547 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:18:32.554 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:18:32.555 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:18:32.560 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 58.777ms
2021-10-30 11:18:32.561 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:18:32.563 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 70.7873ms
2021-10-30 11:19:04.079 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update application/json;+charset=utf-8 -
2021-10-30 11:19:04.080 +02:00 [INF] Successfully validated the token.
2021-10-30 11:19:04.080 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-10-30 11:19:04.080 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-10-30 11:19:04.095 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update application/json;+charset=utf-8 - - 405 - - 15.5205ms
2021-10-30 11:21:35.444 +02:00 [INF] Staring Api
2021-10-30 11:21:38.973 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 11:21:39.595 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 11:21:39.596 +02:00 [INF] Hosting environment: Development
2021-10-30 11:21:39.596 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 11:21:39.690 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 11:21:39.796 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 11:21:39.823 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 135.8526ms
2021-10-30 11:21:40.010 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 213.9363ms
2021-10-30 11:21:40.057 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 11:21:40.062 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 11:21:40.069 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 11:21:40.207 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 11:21:40.207 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 11:21:40.207 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 11:21:40.227 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 169.0228ms
2021-10-30 11:21:40.237 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 174.2393ms
2021-10-30 11:21:40.283 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 213.5426ms
2021-10-30 11:21:41.380 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 11:21:41.878 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 497.2162ms
2021-10-30 11:25:47.051 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 11:25:47.220 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:25:47.265 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 11:25:48.369 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:25:48.878 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 11:25:49.091 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:25:49.122 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 11:25:49.131 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:25:49.329 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 11:25:49.344 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2072.2123ms
2021-10-30 11:25:49.344 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:25:49.354 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2302.9126ms
2021-10-30 11:25:52.403 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 11:25:52.496 +02:00 [INF] Successfully validated the token.
2021-10-30 11:25:52.511 +02:00 [INF] Authorization was successful.
2021-10-30 11:25:52.513 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:25:52.522 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:25:52.603 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:25:52.612 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 11:25:52.641 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:25:52.642 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:25:52.643 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:25:52.645 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:25:52.645 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:25:52.646 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:25:52.646 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:25:52.647 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:25:52.647 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:25:52.647 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:25:52.648 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 11:25:52.661 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 139.5759ms
2021-10-30 11:25:52.662 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:25:52.663 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 260.0672ms
2021-10-30 11:25:55.344 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:25:55.347 +02:00 [INF] Successfully validated the token.
2021-10-30 11:25:55.348 +02:00 [INF] Authorization was successful.
2021-10-30 11:25:55.349 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:25:55.352 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:25:55.366 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:25:55.377 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:25:55.389 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:25:55.394 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:25:55.395 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:25:55.398 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 45.3059ms
2021-10-30 11:25:55.398 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:25:55.399 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 55.1880ms
2021-10-30 11:26:08.809 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update application/json;+charset=utf-8 -
2021-10-30 11:26:08.809 +02:00 [INF] Successfully validated the token.
2021-10-30 11:26:08.810 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-10-30 11:26:08.810 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-10-30 11:26:08.811 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update application/json;+charset=utf-8 - - 405 - - 2.8574ms
2021-10-30 11:30:07.111 +02:00 [INF] Staring Api
2021-10-30 11:30:09.528 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 11:30:09.949 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 11:30:09.961 +02:00 [INF] Hosting environment: Development
2021-10-30 11:30:09.961 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 11:30:10.036 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 11:30:10.167 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 11:30:10.175 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 147.3404ms
2021-10-30 11:30:10.374 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 206.6748ms
2021-10-30 11:30:10.423 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 11:30:10.427 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 11:30:10.438 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 11:30:10.499 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 11:30:10.499 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 11:30:10.499 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 11:30:10.506 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 82.9992ms
2021-10-30 11:30:10.521 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 83.4337ms
2021-10-30 11:30:10.561 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 134.0377ms
2021-10-30 11:30:11.542 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 11:30:12.020 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 479.0822ms
2021-10-30 11:30:21.729 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 11:30:21.942 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:30:22.010 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 11:30:23.353 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:30:23.967 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 11:30:24.244 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:30:24.274 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 11:30:24.283 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:30:24.540 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 11:30:24.562 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2541.402ms
2021-10-30 11:30:24.563 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:30:24.577 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2848.4100ms
2021-10-30 11:30:26.537 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 11:30:26.654 +02:00 [INF] Successfully validated the token.
2021-10-30 11:30:26.683 +02:00 [INF] Authorization was successful.
2021-10-30 11:30:26.686 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:30:26.695 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:30:26.782 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:30:26.791 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 11:30:26.819 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:30:26.820 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:30:26.820 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:30:26.822 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:30:26.823 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:30:26.823 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:30:26.824 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:30:26.824 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:30:26.824 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:30:26.825 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:30:26.827 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 11:30:26.841 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 145.8378ms
2021-10-30 11:30:26.841 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:30:26.844 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 306.9052ms
2021-10-30 11:30:28.699 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:30:28.704 +02:00 [INF] Successfully validated the token.
2021-10-30 11:30:28.706 +02:00 [INF] Authorization was successful.
2021-10-30 11:30:28.707 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:30:28.713 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:30:28.735 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:30:28.751 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:30:28.772 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:30:28.776 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:30:28.777 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:30:28.780 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 67.1089ms
2021-10-30 11:30:28.780 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:30:28.781 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 81.7815ms
2021-10-30 11:30:35.026 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update application/json;+charset=utf-8 -
2021-10-30 11:30:35.027 +02:00 [INF] Successfully validated the token.
2021-10-30 11:30:35.027 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-10-30 11:30:35.028 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-10-30 11:30:35.030 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update application/json;+charset=utf-8 - - 405 - - 4.2563ms
2021-10-30 11:31:54.075 +02:00 [INF] Staring Api
2021-10-30 11:31:56.558 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 11:31:57.117 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 11:31:57.118 +02:00 [INF] Hosting environment: Development
2021-10-30 11:31:57.118 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 11:31:57.186 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 11:31:57.282 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 100.7059ms
2021-10-30 11:31:57.285 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 11:31:57.444 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 159.4582ms
2021-10-30 11:31:57.517 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 11:31:57.525 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 11:31:57.533 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 11:31:57.586 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 11:31:57.586 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 11:31:57.586 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 11:31:57.609 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 91.8986ms
2021-10-30 11:31:57.614 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 80.1963ms
2021-10-30 11:31:57.673 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 147.3258ms
2021-10-30 11:31:59.267 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 11:31:59.579 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 311.8984ms
2021-10-30 11:32:10.301 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 11:32:10.468 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:32:10.513 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 11:32:11.652 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:32:12.143 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 11:32:12.359 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:32:12.386 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 11:32:12.395 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 11:32:12.589 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 11:32:12.604 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2084.4895ms
2021-10-30 11:32:12.605 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 11:32:12.613 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2311.0982ms
2021-10-30 11:32:15.012 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 11:32:15.106 +02:00 [INF] Successfully validated the token.
2021-10-30 11:32:15.120 +02:00 [INF] Authorization was successful.
2021-10-30 11:32:15.122 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:32:15.127 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:32:15.206 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:32:15.214 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 11:32:15.245 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:32:15.245 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:32:15.246 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:32:15.248 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:32:15.248 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:32:15.248 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:32:15.249 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:32:15.249 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:32:15.250 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:32:15.250 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:32:15.251 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 11:32:15.264 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 137.4435ms
2021-10-30 11:32:15.264 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:32:15.266 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 253.7195ms
2021-10-30 11:32:16.939 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 11:32:16.943 +02:00 [INF] Successfully validated the token.
2021-10-30 11:32:16.944 +02:00 [INF] Authorization was successful.
2021-10-30 11:32:16.945 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:32:16.948 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 11:32:16.962 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 11:32:16.972 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 11:32:16.986 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:32:16.991 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 11:32:16.991 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 11:32:16.994 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 46.2407ms
2021-10-30 11:32:16.994 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 11:32:16.995 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 55.7700ms
2021-10-30 11:32:39.960 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update application/json;+charset=utf-8 -
2021-10-30 11:32:39.961 +02:00 [INF] Successfully validated the token.
2021-10-30 11:32:39.962 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-10-30 11:32:39.962 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-10-30 11:32:39.971 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update application/json;+charset=utf-8 - - 405 - - 10.3836ms
2021-10-30 11:39:14.981 +02:00 [INF] Staring Api
2021-10-30 11:39:17.283 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 11:39:17.685 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 11:39:17.686 +02:00 [INF] Hosting environment: Development
2021-10-30 11:39:17.686 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 11:39:17.757 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 11:39:17.853 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 11:39:17.861 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 106.9032ms
2021-10-30 11:39:18.019 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 165.1953ms
2021-10-30 11:39:18.088 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 11:39:18.098 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 11:39:18.139 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 11:39:18.311 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 11:39:18.311 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 11:39:18.311 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 11:39:18.347 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 259.3002ms
2021-10-30 11:39:18.348 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 208.5771ms
2021-10-30 11:39:18.400 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 301.9344ms
2021-10-30 11:39:20.031 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 11:39:20.461 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 430.4500ms
2021-10-30 13:12:33.398 +02:00 [INF] Staring Api
2021-10-30 13:12:35.434 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 13:12:36.802 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 13:12:36.803 +02:00 [INF] Hosting environment: Development
2021-10-30 13:12:36.803 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 13:12:36.904 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 13:12:37.043 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 13:12:37.044 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 144.9465ms
2021-10-30 13:12:37.294 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 250.4438ms
2021-10-30 13:12:37.364 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 13:12:37.373 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 13:12:37.403 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 13:12:37.476 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 13:12:37.481 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 13:12:37.480 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 13:12:37.508 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 143.9156ms
2021-10-30 13:12:37.518 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 118.4589ms
2021-10-30 13:12:37.541 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 168.1124ms
2021-10-30 13:12:38.896 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 13:12:39.200 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 304.2377ms
2021-10-30 13:20:09.597 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 13:20:09.778 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 13:20:09.835 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 13:20:11.050 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 13:20:11.566 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 13:20:11.799 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 13:20:11.829 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 13:20:11.838 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 13:20:12.040 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 13:20:12.056 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2214.8546ms
2021-10-30 13:20:12.056 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 13:20:12.063 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2466.1236ms
2021-10-30 13:20:13.901 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 13:20:14.004 +02:00 [INF] Successfully validated the token.
2021-10-30 13:20:14.020 +02:00 [INF] Authorization was successful.
2021-10-30 13:20:14.022 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 13:20:14.031 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 13:20:14.117 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 13:20:14.127 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 13:20:14.168 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:20:14.168 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:20:14.170 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:20:14.172 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:20:14.173 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:20:14.173 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:20:14.174 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:20:14.176 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:20:14.177 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:20:14.178 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:20:14.182 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 13:20:14.208 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 176.8205ms
2021-10-30 13:20:14.208 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 13:20:14.212 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 311.1378ms
2021-10-30 13:20:17.918 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 13:20:17.922 +02:00 [INF] Successfully validated the token.
2021-10-30 13:20:17.923 +02:00 [INF] Authorization was successful.
2021-10-30 13:20:17.924 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 13:20:17.928 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 13:20:17.941 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 13:20:17.949 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 13:20:17.962 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:20:17.966 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:20:17.967 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 13:20:17.971 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 43.0917ms
2021-10-30 13:20:17.971 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 13:20:17.972 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 54.5188ms
2021-10-30 13:41:14.113 +02:00 [INF] Staring Api
2021-10-30 13:41:18.129 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 13:41:18.928 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 13:41:18.928 +02:00 [INF] Hosting environment: Development
2021-10-30 13:41:18.929 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 13:41:19.000 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 13:41:19.099 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 13:41:19.100 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 102.5136ms
2021-10-30 13:41:19.288 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 187.8774ms
2021-10-30 13:41:19.381 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 13:41:19.382 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 13:41:19.383 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 13:41:19.463 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 13:41:19.463 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 13:41:19.463 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 13:41:19.476 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 93.0064ms
2021-10-30 13:41:19.478 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 96.0547ms
2021-10-30 13:41:19.507 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 125.5844ms
2021-10-30 13:41:20.829 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 13:41:21.166 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 336.8124ms
2021-10-30 13:42:53.790 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 13:42:53.971 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 13:42:54.017 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 13:42:55.214 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 13:42:55.741 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 13:42:55.960 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 13:42:55.994 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 13:42:56.004 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 13:42:56.219 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 13:42:56.237 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2212.2443ms
2021-10-30 13:42:56.240 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 13:42:56.248 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2457.4293ms
2021-10-30 13:42:57.259 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 13:42:57.361 +02:00 [INF] Successfully validated the token.
2021-10-30 13:42:57.375 +02:00 [INF] Authorization was successful.
2021-10-30 13:42:57.376 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 13:42:57.381 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 13:42:57.460 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 13:42:57.477 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 13:42:57.511 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:42:57.511 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:42:57.512 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:42:57.515 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:42:57.515 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:42:57.516 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:42:57.517 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:42:57.517 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:42:57.518 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:42:57.518 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:42:57.520 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 13:42:57.535 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 154.0193ms
2021-10-30 13:42:57.535 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 13:42:57.537 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 278.1520ms
2021-10-30 13:43:00.116 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 13:43:00.119 +02:00 [INF] Successfully validated the token.
2021-10-30 13:43:00.120 +02:00 [INF] Authorization was successful.
2021-10-30 13:43:00.121 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 13:43:00.125 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 13:43:00.140 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 13:43:00.149 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 13:43:00.163 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:43:00.168 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:43:00.169 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 13:43:00.172 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 46.7357ms
2021-10-30 13:43:00.172 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 13:43:00.174 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 57.9553ms
2021-10-30 13:44:28.708 +02:00 [INF] Staring Api
2021-10-30 13:44:31.734 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 13:44:32.165 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 13:44:32.166 +02:00 [INF] Hosting environment: Development
2021-10-30 13:44:32.166 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 13:44:32.234 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 13:44:32.356 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 13:44:32.365 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 136.0405ms
2021-10-30 13:44:32.601 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 244.2608ms
2021-10-30 13:44:32.672 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 13:44:32.680 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 13:44:32.682 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 13:44:32.771 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 13:44:32.771 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 13:44:32.771 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 13:44:32.778 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 105.8003ms
2021-10-30 13:44:32.801 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 119.3925ms
2021-10-30 13:44:32.840 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 167.6229ms
2021-10-30 13:44:33.755 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 13:44:34.104 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 348.9403ms
2021-10-30 13:45:07.711 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 13:45:07.904 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 13:45:07.967 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 13:45:09.169 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 13:45:09.675 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 13:45:09.919 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 13:45:09.951 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 13:45:09.962 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 13:45:10.165 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 13:45:10.188 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2209.9531ms
2021-10-30 13:45:10.189 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 13:45:10.198 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2486.9289ms
2021-10-30 13:45:10.874 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 13:45:10.976 +02:00 [INF] Successfully validated the token.
2021-10-30 13:45:10.991 +02:00 [INF] Authorization was successful.
2021-10-30 13:45:10.993 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 13:45:10.998 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 13:45:11.090 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 13:45:11.101 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 13:45:11.136 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:45:11.137 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:45:11.137 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:45:11.139 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:45:11.139 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:45:11.140 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:45:11.141 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:45:11.141 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:45:11.142 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:45:11.143 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:45:11.145 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 13:45:11.167 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 168.8756ms
2021-10-30 13:45:11.168 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 13:45:11.169 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 294.8225ms
2021-10-30 13:45:13.202 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 13:45:13.206 +02:00 [INF] Successfully validated the token.
2021-10-30 13:45:13.207 +02:00 [INF] Authorization was successful.
2021-10-30 13:45:13.208 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 13:45:13.211 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 13:45:13.226 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 13:45:13.235 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 13:45:13.249 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:45:13.253 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:45:13.254 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 13:45:13.257 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 45.7964ms
2021-10-30 13:45:13.257 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 13:45:13.258 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 56.0567ms
2021-10-30 13:47:53.034 +02:00 [INF] Staring Api
2021-10-30 13:47:56.129 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 13:47:56.731 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 13:47:56.731 +02:00 [INF] Hosting environment: Development
2021-10-30 13:47:56.732 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 13:47:56.817 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 13:47:56.906 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 13:47:56.922 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 108.4582ms
2021-10-30 13:47:57.070 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 164.5065ms
2021-10-30 13:47:57.180 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 13:47:57.248 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 13:47:57.251 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 13:47:57.335 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 13:47:57.335 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 13:47:57.335 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 13:47:57.354 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 102.2655ms
2021-10-30 13:47:57.354 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 105.6206ms
2021-10-30 13:47:57.414 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 233.6234ms
2021-10-30 13:47:58.301 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 13:47:58.796 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 494.6592ms
2021-10-30 13:48:10.823 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 13:48:11.001 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 13:48:11.055 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 13:48:12.298 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 13:48:12.838 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 13:48:13.077 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 13:48:13.119 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 13:48:13.129 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 13:48:13.329 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 13:48:13.348 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2284.6253ms
2021-10-30 13:48:13.349 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 13:48:13.358 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2534.8585ms
2021-10-30 13:48:29.097 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 13:48:29.194 +02:00 [INF] Successfully validated the token.
2021-10-30 13:48:29.208 +02:00 [INF] Authorization was successful.
2021-10-30 13:48:29.209 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 13:48:29.215 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 13:48:29.286 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 13:48:29.295 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 13:48:29.325 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:48:29.325 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:48:29.326 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:48:29.328 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:48:29.329 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:48:29.330 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:48:29.331 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:48:29.331 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:48:29.332 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:48:29.332 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:48:29.334 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 13:48:29.351 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 135.5191ms
2021-10-30 13:48:29.351 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 13:48:29.353 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 255.7798ms
2021-10-30 13:48:33.107 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 13:48:33.113 +02:00 [INF] Successfully validated the token.
2021-10-30 13:48:33.113 +02:00 [INF] Authorization was successful.
2021-10-30 13:48:33.114 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 13:48:33.118 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 13:48:33.132 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 13:48:33.141 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 13:48:33.155 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:48:33.160 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 13:48:33.161 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 13:48:33.164 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 45.9438ms
2021-10-30 13:48:33.164 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 13:48:33.165 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 57.6762ms
2021-10-30 14:00:29.326 +02:00 [INF] Staring Api
2021-10-30 14:00:31.809 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 14:00:32.517 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 14:00:32.518 +02:00 [INF] Hosting environment: Development
2021-10-30 14:00:32.518 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 14:00:32.634 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 14:00:32.787 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 157.3468ms
2021-10-30 14:00:32.795 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 14:00:33.028 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 232.1432ms
2021-10-30 14:00:33.090 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 14:00:33.090 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 14:00:33.113 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 14:00:33.154 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 14:00:33.154 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 14:00:33.154 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 14:00:33.161 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 70.6624ms
2021-10-30 14:00:33.188 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 74.3107ms
2021-10-30 14:00:33.241 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 150.7737ms
2021-10-30 14:00:34.378 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 14:00:34.747 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 368.9761ms
2021-10-30 14:00:49.416 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 14:00:49.626 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 14:00:49.683 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 14:00:50.990 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:00:51.538 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 14:00:51.775 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 14:00:51.806 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 14:00:51.816 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 14:00:52.063 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 14:00:52.084 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2390.8642ms
2021-10-30 14:00:52.085 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 14:00:52.094 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2677.8187ms
2021-10-30 14:00:54.963 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 14:00:55.056 +02:00 [INF] Successfully validated the token.
2021-10-30 14:00:55.071 +02:00 [INF] Authorization was successful.
2021-10-30 14:00:55.072 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:00:55.077 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 14:00:55.149 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:00:55.162 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 14:00:55.198 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:00:55.200 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:00:55.201 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:00:55.202 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:00:55.203 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:00:55.203 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:00:55.203 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:00:55.204 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:00:55.204 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:00:55.205 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:00:55.205 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 14:00:55.222 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 144.0388ms
2021-10-30 14:00:55.222 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:00:55.227 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 260.4138ms
2021-10-30 14:00:57.229 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 14:00:57.233 +02:00 [INF] Successfully validated the token.
2021-10-30 14:00:57.234 +02:00 [INF] Authorization was successful.
2021-10-30 14:00:57.235 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:00:57.239 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 14:00:57.252 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:00:57.263 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 14:00:57.277 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:00:57.283 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:00:57.283 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 14:00:57.286 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 47.5567ms
2021-10-30 14:00:57.287 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:00:57.288 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 58.8212ms
2021-10-30 14:01:44.286 +02:00 [INF] Staring Api
2021-10-30 14:01:46.892 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 14:01:47.339 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 14:01:47.339 +02:00 [INF] Hosting environment: Development
2021-10-30 14:01:47.340 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 14:01:47.430 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 14:01:47.556 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 14:01:47.558 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 136.6352ms
2021-10-30 14:01:47.787 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 231.0925ms
2021-10-30 14:01:47.862 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 14:01:47.864 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 14:01:47.890 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 14:01:47.992 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 14:01:47.992 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 14:01:47.992 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 14:01:48.001 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 138.5885ms
2021-10-30 14:01:48.020 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 130.4845ms
2021-10-30 14:01:48.051 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 187.0477ms
2021-10-30 14:01:49.153 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 14:01:49.569 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 415.7382ms
2021-10-30 14:04:31.235 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 14:04:31.423 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 14:04:31.481 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 14:04:32.919 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:04:33.514 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 14:04:33.777 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 14:04:33.810 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 14:04:33.819 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 14:04:34.039 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 14:04:34.059 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2568.386ms
2021-10-30 14:04:34.060 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 14:04:34.072 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2836.0151ms
2021-10-30 14:04:34.963 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 14:04:35.088 +02:00 [INF] Successfully validated the token.
2021-10-30 14:04:35.103 +02:00 [INF] Authorization was successful.
2021-10-30 14:04:35.104 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:04:35.109 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 14:04:35.187 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:04:35.197 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 14:04:35.227 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:04:35.228 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:04:35.228 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:04:35.230 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:04:35.230 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:04:35.231 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:04:35.231 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:04:35.232 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:04:35.232 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:04:35.233 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:04:35.234 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 14:04:35.247 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 138.2664ms
2021-10-30 14:04:35.248 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:04:35.249 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 286.4969ms
2021-10-30 14:04:37.036 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 14:04:37.039 +02:00 [INF] Successfully validated the token.
2021-10-30 14:04:37.040 +02:00 [INF] Authorization was successful.
2021-10-30 14:04:37.041 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:04:37.047 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 14:04:37.063 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:04:37.075 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 14:04:37.088 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:04:37.092 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:04:37.093 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 14:04:37.096 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 48.2562ms
2021-10-30 14:04:37.096 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:04:37.097 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 61.1315ms
2021-10-30 14:07:46.401 +02:00 [INF] Staring Api
2021-10-30 14:07:49.837 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 14:07:50.514 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 14:07:50.515 +02:00 [INF] Hosting environment: Development
2021-10-30 14:07:50.515 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 14:07:50.635 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 14:07:50.825 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 14:07:50.835 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 205.2464ms
2021-10-30 14:07:51.054 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 228.8836ms
2021-10-30 14:07:51.116 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 14:07:51.116 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 14:07:51.116 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 14:07:51.241 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 14:07:51.242 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 14:07:51.244 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 14:07:51.267 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 151.1726ms
2021-10-30 14:07:51.268 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 151.8869ms
2021-10-30 14:07:51.325 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 209.1702ms
2021-10-30 14:07:52.343 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 14:07:52.686 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 341.8224ms
2021-10-30 14:08:07.841 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 14:08:07.841 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 14:08:08.011 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 14:08:08.011 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 14:08:08.084 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 14:08:08.084 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 14:08:09.227 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:08:09.227 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:08:09.730 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 14:08:09.730 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 14:08:09.961 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 14:08:09.978 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 14:08:09.994 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 14:08:09.994 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 14:08:09.999 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 14:08:10.007 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 14:08:10.212 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 14:08:10.212 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 14:08:10.229 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2137.5318ms
2021-10-30 14:08:10.229 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2137.529ms
2021-10-30 14:08:10.230 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 14:08:10.230 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 14:08:10.239 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2397.9203ms
2021-10-30 14:08:10.239 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2398.1095ms
2021-10-30 14:08:14.429 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 14:08:14.534 +02:00 [INF] Successfully validated the token.
2021-10-30 14:08:14.550 +02:00 [INF] Authorization was successful.
2021-10-30 14:08:14.552 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:08:14.557 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 14:08:14.658 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:08:14.669 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 14:08:14.704 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:08:14.704 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:08:14.705 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:08:14.707 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:08:14.708 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:08:14.708 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:08:14.708 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:08:14.709 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:08:14.709 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:08:14.710 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:08:14.712 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 14:08:14.726 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 168.2267ms
2021-10-30 14:08:14.729 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:08:14.731 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 301.5093ms
2021-10-30 14:08:17.304 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 14:08:17.308 +02:00 [INF] Successfully validated the token.
2021-10-30 14:08:17.308 +02:00 [INF] Authorization was successful.
2021-10-30 14:08:17.309 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:08:17.315 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 14:08:17.319 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:08:17.330 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 14:08:17.346 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:08:17.350 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:08:17.351 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 14:08:17.354 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 38.4484ms
2021-10-30 14:08:17.354 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:08:17.355 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 50.4408ms
2021-10-30 14:15:26.408 +02:00 [INF] Staring Api
2021-10-30 14:15:29.640 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 14:15:30.222 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 14:15:30.222 +02:00 [INF] Hosting environment: Development
2021-10-30 14:15:30.222 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 14:15:30.334 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 14:15:30.460 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 132.6616ms
2021-10-30 14:15:30.463 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 14:15:30.706 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 242.8263ms
2021-10-30 14:15:30.777 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 14:15:30.786 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 14:15:30.791 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 14:15:30.874 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 14:15:30.874 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 14:15:30.874 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 14:15:30.894 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 108.3732ms
2021-10-30 14:15:30.899 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 105.7878ms
2021-10-30 14:15:30.954 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 177.0057ms
2021-10-30 14:15:32.025 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 14:15:32.429 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 403.5817ms
2021-10-30 14:16:03.446 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 14:16:03.626 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 14:16:03.682 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 14:16:04.889 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:16:05.453 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 14:16:05.688 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 14:16:05.722 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 14:16:05.734 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 14:16:05.946 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 14:16:05.971 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2277.5505ms
2021-10-30 14:16:05.972 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 14:16:05.982 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2536.1204ms
2021-10-30 14:16:08.174 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 14:16:08.269 +02:00 [INF] Successfully validated the token.
2021-10-30 14:16:08.284 +02:00 [INF] Authorization was successful.
2021-10-30 14:16:08.286 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:16:08.294 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 14:16:08.367 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:16:08.375 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 14:16:08.405 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:16:08.406 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:16:08.407 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:16:08.410 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:16:08.411 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:16:08.411 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:16:08.412 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:16:08.413 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:16:08.414 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:16:08.414 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:16:08.416 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 14:16:08.437 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 142.9945ms
2021-10-30 14:16:08.437 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:16:08.441 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 267.9667ms
2021-10-30 14:16:11.285 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 14:16:11.288 +02:00 [INF] Successfully validated the token.
2021-10-30 14:16:11.289 +02:00 [INF] Authorization was successful.
2021-10-30 14:16:11.290 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:16:11.293 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 14:16:11.306 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:16:11.317 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 14:16:11.329 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:16:11.334 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:16:11.335 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 14:16:11.338 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 44.6328ms
2021-10-30 14:16:11.338 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:16:11.339 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 53.9423ms
2021-10-30 14:16:30.656 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 14:16:30.657 +02:00 [INF] Successfully validated the token.
2021-10-30 14:16:30.660 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 404 - - 3.3637ms
2021-10-30 14:19:15.363 +02:00 [INF] Staring Api
2021-10-30 14:19:18.016 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 14:19:18.435 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 14:19:18.435 +02:00 [INF] Hosting environment: Development
2021-10-30 14:19:18.438 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 14:19:18.517 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 14:19:18.613 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 14:19:18.629 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 116.3674ms
2021-10-30 14:19:18.838 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 225.4628ms
2021-10-30 14:19:18.893 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 14:19:18.941 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 14:19:18.997 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 14:19:19.002 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 14:19:19.022 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 128.7001ms
2021-10-30 14:19:19.055 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 113.5396ms
2021-10-30 14:19:19.084 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 14:19:19.092 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 14:19:19.102 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 17.5078ms
2021-10-30 14:19:20.803 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 14:19:20.960 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 156.7053ms
2021-10-30 14:19:24.715 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 14:19:24.881 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user)
2021-10-30 14:19:24.889 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-10-30 14:19:24.890 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 401 - - 175.1685ms
2021-10-30 14:19:44.278 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 14:19:44.295 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 14:19:44.342 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 14:19:45.550 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:19:46.089 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 14:19:46.337 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 14:19:46.373 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 14:19:46.385 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 14:19:46.593 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 14:19:46.615 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2263.3899ms
2021-10-30 14:19:46.616 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 14:19:46.625 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2346.7238ms
2021-10-30 14:19:47.971 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 14:19:48.060 +02:00 [INF] Successfully validated the token.
2021-10-30 14:19:48.062 +02:00 [INF] Authorization was successful.
2021-10-30 14:19:48.063 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:19:48.067 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 14:19:48.143 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:19:48.152 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 14:19:48.180 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:19:48.182 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:19:48.182 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:19:48.184 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:19:48.185 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:19:48.185 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:19:48.186 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:19:48.186 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:19:48.186 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:19:48.187 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:19:48.188 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 14:19:48.204 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 136.4221ms
2021-10-30 14:19:48.204 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:19:48.207 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 236.1078ms
2021-10-30 14:19:50.000 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 14:19:50.001 +02:00 [INF] Successfully validated the token.
2021-10-30 14:19:50.002 +02:00 [INF] Authorization was successful.
2021-10-30 14:19:50.004 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:19:50.009 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 14:19:50.023 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:19:50.032 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 14:19:50.044 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:19:50.049 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:19:50.050 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 14:19:50.053 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 43.5743ms
2021-10-30 14:19:50.054 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:19:50.056 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 55.4124ms
2021-10-30 14:20:04.578 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 14:20:04.579 +02:00 [INF] Successfully validated the token.
2021-10-30 14:20:04.580 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 404 - - 2.5463ms
2021-10-30 14:24:10.311 +02:00 [INF] Staring Api
2021-10-30 14:24:12.606 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 14:24:13.187 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 14:24:13.187 +02:00 [INF] Hosting environment: Development
2021-10-30 14:24:13.187 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 14:24:13.293 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 14:24:13.423 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 14:24:13.448 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 163.6266ms
2021-10-30 14:24:13.665 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 241.6815ms
2021-10-30 14:24:13.732 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 14:24:13.787 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 14:24:13.826 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 14:24:13.826 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 14:24:13.831 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 99.4202ms
2021-10-30 14:24:13.862 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 74.9520ms
2021-10-30 14:24:13.891 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 14:24:13.903 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 14:24:13.914 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 22.6865ms
2021-10-30 14:24:15.419 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 14:24:15.660 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 241.4913ms
2021-10-30 14:37:20.066 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 14:37:20.244 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 14:37:20.309 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 14:37:21.414 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:37:21.928 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 14:37:22.149 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 14:37:22.183 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 14:37:22.192 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 14:37:22.404 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 14:37:22.420 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2104.2567ms
2021-10-30 14:37:22.421 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 14:37:22.430 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2363.0847ms
2021-10-30 14:37:23.473 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 14:37:23.571 +02:00 [INF] Successfully validated the token.
2021-10-30 14:37:23.586 +02:00 [INF] Authorization was successful.
2021-10-30 14:37:23.587 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:37:23.593 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 14:37:23.666 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:37:23.675 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 14:37:23.706 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:37:23.708 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:37:23.710 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:37:23.712 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:37:23.713 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:37:23.713 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:37:23.714 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:37:23.714 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:37:23.715 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:37:23.715 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:37:23.716 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 14:37:23.729 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 136.5638ms
2021-10-30 14:37:23.730 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:37:23.733 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 259.9965ms
2021-10-30 14:37:28.282 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 14:37:28.287 +02:00 [INF] Successfully validated the token.
2021-10-30 14:37:28.288 +02:00 [INF] Authorization was successful.
2021-10-30 14:37:28.289 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:37:28.295 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 14:37:28.317 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:37:28.329 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 14:37:28.348 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:37:28.353 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:37:28.354 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 14:37:28.358 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 63.0923ms
2021-10-30 14:37:28.359 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:37:28.360 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 77.9842ms
2021-10-30 14:37:57.308 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 14:37:57.309 +02:00 [INF] Successfully validated the token.
2021-10-30 14:37:57.318 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 404 - - 4.5368ms
2021-10-30 14:38:45.221 +02:00 [INF] Staring Api
2021-10-30 14:38:47.424 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 14:38:47.836 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 14:38:47.837 +02:00 [INF] Hosting environment: Development
2021-10-30 14:38:47.837 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 14:38:47.908 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 14:38:47.998 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 14:38:48.004 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 99.3768ms
2021-10-30 14:38:48.200 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 201.7388ms
2021-10-30 14:38:48.256 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 14:38:48.298 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 14:38:48.356 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 14:38:48.357 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 14:38:48.357 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 14:38:48.382 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 14:38:48.380 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 122.3900ms
2021-10-30 14:38:48.402 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 46.1544ms
2021-10-30 14:38:48.416 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 117.6380ms
2021-10-30 14:38:50.114 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 14:38:50.268 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 153.9226ms
2021-10-30 14:38:59.852 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 14:39:00.048 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 14:39:00.120 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 14:39:01.598 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:39:02.081 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 14:39:02.319 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 14:39:02.353 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 14:39:02.361 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 14:39:02.558 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 14:39:02.573 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2446.0379ms
2021-10-30 14:39:02.574 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 14:39:02.582 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2729.5618ms
2021-10-30 14:39:03.378 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 14:39:03.488 +02:00 [INF] Successfully validated the token.
2021-10-30 14:39:03.503 +02:00 [INF] Authorization was successful.
2021-10-30 14:39:03.505 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:39:03.510 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 14:39:03.597 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:39:03.608 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 14:39:03.650 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:39:03.651 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:39:03.651 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:39:03.655 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:39:03.656 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:39:03.657 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:39:03.658 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:39:03.658 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:39:03.658 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:39:03.659 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:39:03.660 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 14:39:03.686 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 176.2992ms
2021-10-30 14:39:03.686 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:39:03.688 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 309.4095ms
2021-10-30 14:39:04.914 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 14:39:04.918 +02:00 [INF] Successfully validated the token.
2021-10-30 14:39:04.920 +02:00 [INF] Authorization was successful.
2021-10-30 14:39:04.921 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:39:04.927 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 14:39:04.945 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:39:04.957 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 14:39:04.975 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:39:04.980 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:39:04.981 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 14:39:04.984 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 56.7302ms
2021-10-30 14:39:04.984 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:39:04.985 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 71.0160ms
2021-10-30 14:39:10.368 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update?id=a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 14:39:10.369 +02:00 [INF] Successfully validated the token.
2021-10-30 14:39:10.370 +02:00 [INF] Authorization was successful.
2021-10-30 14:39:10.371 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 14:39:10.377 +02:00 [INF] Route matched with {action = "Update", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Update(System.Guid, ProgLibrary.Infrastructure.Commands.Books.UpdateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 14:39:10.403 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2021-10-30 14:39:10.420 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API) in 43.5565ms
2021-10-30 14:39:10.421 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 14:39:10.426 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update?id=a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 400 - application/problem+json;+charset=utf-8 56.9386ms
2021-10-30 14:41:32.504 +02:00 [INF] Staring Api
2021-10-30 14:41:34.989 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 14:41:35.431 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 14:41:35.431 +02:00 [INF] Hosting environment: Development
2021-10-30 14:41:35.431 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 14:41:35.505 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 14:41:35.592 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 14:41:35.601 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 100.3108ms
2021-10-30 14:41:35.750 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 162.8978ms
2021-10-30 14:41:35.799 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 14:41:35.810 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 14:41:35.874 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 14:41:35.874 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 14:41:35.881 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 81.2902ms
2021-10-30 14:41:35.908 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 14:41:35.925 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 114.0191ms
2021-10-30 14:41:35.934 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 14:41:35.946 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 38.0799ms
2021-10-30 14:41:38.688 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 14:41:38.808 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-30 14:41:38.876 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 500 - text/plain 187.4063ms
2021-10-30 14:48:55.918 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 14:48:56.099 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 14:48:56.162 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 14:48:57.375 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:48:57.925 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 14:48:58.168 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 14:48:58.199 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 14:48:58.208 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 14:48:58.421 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 14:48:58.441 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2269.4868ms
2021-10-30 14:48:58.442 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 14:48:58.451 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2533.6183ms
2021-10-30 14:49:00.209 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 14:49:00.296 +02:00 [INF] Successfully validated the token.
2021-10-30 14:49:00.309 +02:00 [INF] Authorization was successful.
2021-10-30 14:49:00.310 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:49:00.315 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 14:49:00.396 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:49:00.407 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 14:49:00.441 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:49:00.442 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:49:00.442 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:49:00.444 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:49:00.445 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:49:00.445 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:49:00.446 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:49:00.446 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:49:00.446 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:49:00.447 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:49:00.448 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 14:49:00.463 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 147.4504ms
2021-10-30 14:49:00.463 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:49:00.466 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 257.3060ms
2021-10-30 14:49:01.536 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 14:49:01.542 +02:00 [INF] Successfully validated the token.
2021-10-30 14:49:01.543 +02:00 [INF] Authorization was successful.
2021-10-30 14:49:01.544 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:49:01.547 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 14:49:01.560 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:49:01.570 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 14:49:01.583 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:49:01.588 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 14:49:01.589 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 14:49:01.592 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 44.8636ms
2021-10-30 14:49:01.592 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 14:49:01.593 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 57.0014ms
2021-10-30 14:49:07.534 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update?id=a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 14:49:07.535 +02:00 [INF] Successfully validated the token.
2021-10-30 14:49:07.536 +02:00 [INF] Authorization was successful.
2021-10-30 14:49:07.537 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 14:49:07.542 +02:00 [INF] Route matched with {action = "Update", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Update(System.Guid, ProgLibrary.Infrastructure.Commands.Books.UpdateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 14:49:15.677 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 14:49:15.688 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__title_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-10-30 14:49:17.224 +02:00 [INF] Executing JsonResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-10-30 14:49:17.254 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API) in 9710.6605ms
2021-10-30 14:49:17.260 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 14:49:17.273 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Książka o tytule: 'Pan Tadeusz' już istnieje)
 ---> System.Exception: Książka o tytule: 'Pan Tadeusz' już istnieje
   at ProgLibrary.Infrastructure.Extensions.RepositoryExtensions.GetOrFailAsync(IBookRepository bookRepository, String title) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Extensions\RepositoryExtensions.cs:line 31
   at ProgLibrary.Infrastructure.Services.BookService.UpdateAsync(Guid id, String title, String author, DateTime releasedDate, String description) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\BookService.cs:line 57
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-30 14:49:17.311 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update?id=a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 500 - text/plain 9776.4344ms
2021-10-30 14:52:40.232 +02:00 [INF] Staring Api
2021-10-30 14:52:43.360 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 14:52:43.815 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 14:52:43.816 +02:00 [INF] Hosting environment: Development
2021-10-30 14:52:43.816 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 14:52:43.903 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 14:52:44.007 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 14:52:44.017 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 125.2174ms
2021-10-30 14:52:44.190 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 190.5440ms
2021-10-30 14:52:44.259 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 14:52:44.260 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 14:52:44.260 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 14:52:44.342 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 14:52:44.342 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 14:52:44.342 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 14:52:44.364 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 105.0376ms
2021-10-30 14:52:44.372 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 111.8734ms
2021-10-30 14:52:44.411 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 151.0995ms
2021-10-30 14:52:45.407 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 14:52:45.623 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-30 14:52:45.747 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 500 - text/plain 340.1636ms
2021-10-30 15:13:09.554 +02:00 [INF] Staring Api
2021-10-30 15:13:13.098 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 15:13:13.920 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 15:13:13.920 +02:00 [INF] Hosting environment: Development
2021-10-30 15:13:13.920 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 15:13:14.004 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 15:13:14.109 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 15:13:14.118 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 120.1702ms
2021-10-30 15:13:14.292 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 183.0105ms
2021-10-30 15:13:14.347 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 15:13:14.353 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 15:13:14.353 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 15:13:14.432 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 15:13:14.432 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 15:13:14.438 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 91.0539ms
2021-10-30 15:13:14.446 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 15:13:14.488 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 134.9657ms
2021-10-30 15:13:14.516 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 163.6646ms
2021-10-30 15:13:15.326 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 15:13:15.492 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-30 15:13:15.569 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 500 - text/plain 243.2657ms
2021-10-30 15:14:08.807 +02:00 [INF] Staring Api
2021-10-30 15:14:12.803 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 15:14:13.480 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 15:14:13.480 +02:00 [INF] Hosting environment: Development
2021-10-30 15:14:13.480 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 15:14:13.609 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 15:14:13.821 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 213.8286ms
2021-10-30 15:14:13.858 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 15:14:14.030 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 171.8655ms
2021-10-30 15:14:14.085 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 15:14:14.085 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 15:14:14.085 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 15:14:14.142 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 15:14:14.142 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 15:14:14.142 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 15:14:14.151 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 65.4953ms
2021-10-30 15:14:14.175 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 90.1721ms
2021-10-30 15:14:14.229 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 143.7963ms
2021-10-30 15:14:14.913 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 15:14:15.121 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 207.1538ms
2021-10-30 15:31:50.489 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 15:31:50.658 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 15:31:50.702 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 15:31:52.030 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 15:31:52.506 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 15:31:52.726 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 15:31:52.758 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 15:31:52.767 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 15:31:52.955 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 15:31:52.972 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2262.816ms
2021-10-30 15:31:52.972 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 15:31:52.980 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2490.9353ms
2021-10-30 15:31:55.293 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 15:31:55.388 +02:00 [INF] Successfully validated the token.
2021-10-30 15:31:55.403 +02:00 [INF] Authorization was successful.
2021-10-30 15:31:55.404 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 15:31:55.413 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 15:31:55.486 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 15:31:55.495 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 15:31:55.526 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:31:55.526 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:31:55.527 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:31:55.529 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:31:55.530 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:31:55.531 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:31:55.532 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:31:55.532 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:31:55.533 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:31:55.533 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:31:55.534 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 15:31:55.554 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 141.3836ms
2021-10-30 15:31:55.554 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 15:31:55.557 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 263.5709ms
2021-10-30 15:31:57.445 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 15:31:57.450 +02:00 [INF] Successfully validated the token.
2021-10-30 15:31:57.451 +02:00 [INF] Authorization was successful.
2021-10-30 15:31:57.452 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 15:31:57.455 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 15:31:57.469 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 15:31:57.478 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 15:31:57.491 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:31:57.498 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:31:57.499 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 15:31:57.502 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 46.6062ms
2021-10-30 15:31:57.502 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 15:31:57.503 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 57.7975ms
2021-10-30 15:32:03.219 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 15:32:03.219 +02:00 [INF] Successfully validated the token.
2021-10-30 15:32:03.222 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 404 - - 2.9076ms
2021-10-30 15:33:45.119 +02:00 [INF] Staring Api
2021-10-30 15:33:48.072 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 15:33:48.669 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 15:33:48.669 +02:00 [INF] Hosting environment: Development
2021-10-30 15:33:48.669 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 15:33:48.740 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 15:33:48.832 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 15:33:48.840 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 102.8761ms
2021-10-30 15:33:48.996 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 163.4500ms
2021-10-30 15:33:49.056 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 15:33:49.060 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 15:33:49.060 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 15:33:49.157 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 15:33:49.157 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 15:33:49.157 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 15:33:49.163 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 107.4733ms
2021-10-30 15:33:49.170 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 109.9104ms
2021-10-30 15:33:49.244 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 184.4015ms
2021-10-30 15:33:50.349 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 15:33:50.537 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-30 15:33:50.620 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 500 - text/plain 270.6030ms
2021-10-30 15:42:14.424 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 15:42:14.663 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 15:42:14.723 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 15:42:16.024 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 15:42:16.635 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 15:42:16.863 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 15:42:16.895 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 15:42:16.910 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 15:42:17.100 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 15:42:17.125 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2391.2468ms
2021-10-30 15:42:17.126 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 15:42:17.141 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2717.8877ms
2021-10-30 15:42:18.685 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 15:42:18.802 +02:00 [INF] Successfully validated the token.
2021-10-30 15:42:18.830 +02:00 [INF] Authorization was successful.
2021-10-30 15:42:18.832 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 15:42:18.841 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 15:42:18.941 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 15:42:18.949 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 15:42:18.980 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:42:18.981 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:42:18.981 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:42:18.983 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:42:18.983 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:42:18.984 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:42:18.984 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:42:18.984 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:42:18.985 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:42:18.985 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:42:18.986 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 15:42:19.001 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 159.02ms
2021-10-30 15:42:19.001 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 15:42:19.002 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 317.6154ms
2021-10-30 15:42:20.663 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 15:42:20.667 +02:00 [INF] Successfully validated the token.
2021-10-30 15:42:20.668 +02:00 [INF] Authorization was successful.
2021-10-30 15:42:20.669 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 15:42:20.674 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 15:42:20.693 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 15:42:20.702 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 15:42:20.715 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:42:20.720 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:42:20.721 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 15:42:20.724 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 49.0614ms
2021-10-30 15:42:20.724 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 15:42:20.725 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 61.9248ms
2021-10-30 15:42:27.128 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 15:42:27.128 +02:00 [INF] Successfully validated the token.
2021-10-30 15:42:27.131 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 404 - - 3.5363ms
2021-10-30 15:43:40.723 +02:00 [INF] Staring Api
2021-10-30 15:43:43.785 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 15:43:44.255 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 15:43:44.256 +02:00 [INF] Hosting environment: Development
2021-10-30 15:43:44.256 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 15:43:44.338 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 15:43:44.432 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 15:43:44.435 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 99.5901ms
2021-10-30 15:43:44.681 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 248.5298ms
2021-10-30 15:43:44.789 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 15:43:44.790 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 15:43:44.790 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 15:43:44.883 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 15:43:44.883 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 15:43:44.883 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 15:43:44.896 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 106.6147ms
2021-10-30 15:43:44.898 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 107.3278ms
2021-10-30 15:43:44.934 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 144.2237ms
2021-10-30 15:43:46.473 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 15:43:46.817 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-30 15:43:46.921 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 500 - text/plain 448.7062ms
2021-10-30 15:43:56.352 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 15:43:56.535 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user)
2021-10-30 15:43:56.543 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-10-30 15:43:56.545 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 401 - - 192.2843ms
2021-10-30 15:44:07.712 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 15:44:07.728 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 15:44:07.795 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 15:44:08.927 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 15:44:09.423 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 15:44:09.647 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 15:44:09.675 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 15:44:09.683 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 15:44:09.868 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 15:44:09.884 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2081.1309ms
2021-10-30 15:44:09.885 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 15:44:09.891 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2178.7792ms
2021-10-30 15:44:15.344 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 15:44:15.434 +02:00 [INF] Successfully validated the token.
2021-10-30 15:44:15.437 +02:00 [INF] Authorization was successful.
2021-10-30 15:44:15.437 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 15:44:15.441 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 15:44:15.516 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 15:44:15.524 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 15:44:15.553 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:44:15.554 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:44:15.554 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:44:15.555 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:44:15.556 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:44:15.556 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:44:15.557 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:44:15.557 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:44:15.557 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:44:15.558 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:44:15.559 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 15:44:15.572 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 130.1702ms
2021-10-30 15:44:15.572 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 15:44:15.573 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 229.1376ms
2021-10-30 15:44:17.814 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 15:44:17.815 +02:00 [INF] Successfully validated the token.
2021-10-30 15:44:17.817 +02:00 [INF] Authorization was successful.
2021-10-30 15:44:17.817 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 15:44:17.821 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 15:44:17.838 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 15:44:17.854 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 15:44:17.868 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:44:17.873 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 15:44:17.873 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 15:44:17.877 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 56.2222ms
2021-10-30 15:44:17.877 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 15:44:17.880 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 66.6593ms
2021-10-30 15:44:26.500 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update?id=a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 15:44:26.500 +02:00 [INF] Successfully validated the token.
2021-10-30 15:44:26.501 +02:00 [INF] Authorization was successful.
2021-10-30 15:44:26.501 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 15:44:26.506 +02:00 [INF] Route matched with {action = "Update", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Update(System.Guid, ProgLibrary.Infrastructure.Commands.Books.UpdateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 15:45:39.119 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 15:45:39.129 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__title_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-10-30 15:46:31.422 +02:00 [INF] Executing JsonResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-10-30 15:46:31.461 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API) in 124954.7965ms
2021-10-30 15:46:31.463 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 15:46:31.467 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Książka o tytule: 'Pan Tadeusz' już istnieje)
 ---> System.Exception: Książka o tytule: 'Pan Tadeusz' już istnieje
   at ProgLibrary.Infrastructure.Extensions.RepositoryExtensions.GetOrFailAsync(IBookRepository bookRepository, String title) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Extensions\RepositoryExtensions.cs:line 31
   at ProgLibrary.Infrastructure.Services.BookService.UpdateAsync(Guid id, String title, String author, DateTime releasedDate, String description) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\BookService.cs:line 57
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-30 15:46:31.513 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update?id=a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 500 - text/plain 125013.0953ms
2021-10-30 15:58:42.393 +02:00 [INF] Staring Api
2021-10-30 15:58:45.147 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 15:58:45.718 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 15:58:45.718 +02:00 [INF] Hosting environment: Development
2021-10-30 15:58:45.718 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 15:58:45.812 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 15:58:45.909 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 101.4163ms
2021-10-30 15:58:46.477 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 15:58:46.876 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 398.5382ms
2021-10-30 15:58:46.955 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 15:58:46.962 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 15:58:46.963 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 15:58:47.145 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 15:58:47.145 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 15:58:47.202 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 15:58:47.207 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 245.0685ms
2021-10-30 15:58:47.207 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 252.4100ms
2021-10-30 15:58:47.280 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 315.9192ms
2021-10-30 15:58:48.034 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 15:58:48.269 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 235.3995ms
2021-10-30 16:27:12.807 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 16:27:12.994 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 16:27:13.065 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 16:27:14.198 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 16:27:14.693 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 16:27:14.954 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 16:27:14.986 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 16:27:14.996 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 16:27:15.238 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 16:27:15.256 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2182.7571ms
2021-10-30 16:27:15.257 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 16:27:15.265 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2458.3820ms
2021-10-30 16:27:38.506 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 16:27:38.601 +02:00 [INF] Successfully validated the token.
2021-10-30 16:27:38.614 +02:00 [INF] Authorization was successful.
2021-10-30 16:27:38.616 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 16:27:38.622 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 16:27:38.701 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 16:27:38.709 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 16:27:38.737 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:27:38.738 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:27:38.739 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:27:38.741 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:27:38.742 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:27:38.742 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:27:38.743 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:27:38.743 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:27:38.744 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:27:38.745 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:27:38.746 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 16:27:38.761 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 138.3011ms
2021-10-30 16:27:38.761 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 16:27:38.762 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 255.8782ms
2021-10-30 16:27:41.212 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 16:27:41.216 +02:00 [INF] Successfully validated the token.
2021-10-30 16:27:41.217 +02:00 [INF] Authorization was successful.
2021-10-30 16:27:41.218 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 16:27:41.222 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 16:27:41.237 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 16:27:41.248 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 16:27:41.261 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:27:41.266 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:27:41.267 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 16:27:41.270 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 48.2986ms
2021-10-30 16:27:41.270 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 16:27:41.272 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 59.3396ms
2021-10-30 16:27:46.254 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update?id=a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 16:27:46.254 +02:00 [INF] Successfully validated the token.
2021-10-30 16:27:46.254 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-10-30 16:27:46.255 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-10-30 16:27:46.256 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update?id=a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 405 - - 2.5673ms
2021-10-30 16:30:22.746 +02:00 [INF] Staring Api
2021-10-30 16:30:27.060 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 16:30:27.800 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 16:30:27.800 +02:00 [INF] Hosting environment: Development
2021-10-30 16:30:27.800 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 16:30:27.917 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 16:30:28.033 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 121.7410ms
2021-10-30 16:30:28.034 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 16:30:28.260 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 226.5346ms
2021-10-30 16:30:28.985 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 16:30:29.045 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 16:30:29.049 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 64.9567ms
2021-10-30 16:30:29.157 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 16:30:29.168 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 16:30:29.202 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 45.4153ms
2021-10-30 16:30:29.255 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 16:30:29.263 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 16:30:29.276 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 21.0284ms
2021-10-30 16:30:30.804 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 16:30:30.953 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-30 16:30:31.027 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 500 - text/plain 223.3602ms
2021-10-30 16:31:06.563 +02:00 [INF] Staring Api
2021-10-30 16:31:09.550 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 16:31:10.085 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 16:31:10.086 +02:00 [INF] Hosting environment: Development
2021-10-30 16:31:10.086 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 16:31:10.165 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 16:31:10.258 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 16:31:10.272 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 108.7954ms
2021-10-30 16:31:10.490 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 231.7997ms
2021-10-30 16:31:10.594 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 16:31:10.647 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 16:31:10.707 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 16:31:10.707 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 16:31:10.713 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 118.1485ms
2021-10-30 16:31:10.750 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 102.1925ms
2021-10-30 16:31:10.828 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 16:31:10.845 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 16:31:10.857 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 29.8219ms
2021-10-30 16:31:12.083 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 16:31:12.322 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 238.6511ms
2021-10-30 16:31:34.144 +02:00 [INF] Staring Api
2021-10-30 16:31:36.063 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 16:31:36.999 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 16:31:36.999 +02:00 [INF] Hosting environment: Development
2021-10-30 16:31:36.999 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 16:31:37.149 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 16:31:37.556 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 16:31:37.565 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 422.1897ms
2021-10-30 16:31:37.960 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 404.4801ms
2021-10-30 16:31:38.132 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 16:31:38.136 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 16:31:38.212 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 16:31:38.309 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 16:31:38.309 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 16:31:38.309 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 16:31:38.318 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 185.0340ms
2021-10-30 16:31:38.328 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 115.5328ms
2021-10-30 16:31:38.375 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 239.4413ms
2021-10-30 16:31:39.259 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 16:31:39.564 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 304.8639ms
2021-10-30 16:31:57.472 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 16:31:57.660 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 16:31:57.714 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 16:31:58.886 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 16:31:59.434 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 16:31:59.642 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 16:31:59.676 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 16:31:59.685 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 16:31:59.881 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 16:31:59.901 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2176.1744ms
2021-10-30 16:31:59.903 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 16:31:59.914 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2442.2135ms
2021-10-30 16:32:01.035 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 16:32:01.147 +02:00 [INF] Successfully validated the token.
2021-10-30 16:32:01.161 +02:00 [INF] Authorization was successful.
2021-10-30 16:32:01.163 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 16:32:01.170 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 16:32:01.239 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 16:32:01.248 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 16:32:01.276 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:32:01.277 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:32:01.278 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:32:01.280 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:32:01.281 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:32:01.281 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:32:01.282 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:32:01.282 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:32:01.283 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:32:01.283 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:32:01.284 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 16:32:01.299 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 128.9609ms
2021-10-30 16:32:01.299 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 16:32:01.301 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 265.3978ms
2021-10-30 16:32:02.514 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 16:32:02.518 +02:00 [INF] Successfully validated the token.
2021-10-30 16:32:02.519 +02:00 [INF] Authorization was successful.
2021-10-30 16:32:02.520 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 16:32:02.523 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 16:32:02.538 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 16:32:02.550 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 16:32:02.563 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:32:02.568 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:32:02.568 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 16:32:02.572 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 48.7706ms
2021-10-30 16:32:02.572 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 16:32:02.574 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 59.9795ms
2021-10-30 16:32:07.777 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 16:32:07.778 +02:00 [INF] Successfully validated the token.
2021-10-30 16:32:07.779 +02:00 [INF] Authorization was successful.
2021-10-30 16:32:07.780 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 16:32:07.785 +02:00 [INF] Route matched with {action = "Update", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Update(System.Guid, ProgLibrary.Infrastructure.Commands.Books.UpdateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 16:32:08.865 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 16:32:08.874 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__title_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-10-30 16:34:47.952 +02:00 [INF] Executing JsonResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-10-30 16:34:47.990 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API) in 160204.7323ms
2021-10-30 16:34:47.991 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 16:34:48.001 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Książka o tytule: 'Pan Tadeusz' już istnieje)
 ---> System.Exception: Książka o tytule: 'Pan Tadeusz' już istnieje
   at ProgLibrary.Infrastructure.Extensions.RepositoryExtensions.GetOrFailAsync(IBookRepository bookRepository, String title) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Extensions\RepositoryExtensions.cs:line 31
   at ProgLibrary.Infrastructure.Services.BookService.UpdateAsync(Guid id, String title, String author, DateTime releasedDate, String description) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\BookService.cs:line 57
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-30 16:34:48.115 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 500 - text/plain 160337.3937ms
2021-10-30 16:35:03.034 +02:00 [INF] Staring Api
2021-10-30 16:35:06.489 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 16:35:06.938 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 16:35:06.938 +02:00 [INF] Hosting environment: Development
2021-10-30 16:35:06.938 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 16:35:07.027 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 16:35:07.156 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 130.2415ms
2021-10-30 16:35:07.214 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 16:35:07.421 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 207.8206ms
2021-10-30 16:35:07.488 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 16:35:07.489 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 16:35:07.494 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 16:35:07.573 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 16:35:07.573 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 16:35:07.573 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 16:35:07.601 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 111.9116ms
2021-10-30 16:35:07.605 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 110.4855ms
2021-10-30 16:35:07.656 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 167.9342ms
2021-10-30 16:35:08.488 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 16:35:08.823 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 335.5086ms
2021-10-30 16:43:43.818 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 16:43:43.986 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 16:43:44.028 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 16:43:45.174 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 16:43:45.726 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 16:43:45.982 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 16:43:46.010 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 16:43:46.018 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 16:43:46.203 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 16:43:46.220 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2184.0084ms
2021-10-30 16:43:46.221 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 16:43:46.227 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2409.7732ms
2021-10-30 16:44:52.117 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 16:44:52.244 +02:00 [INF] Successfully validated the token.
2021-10-30 16:44:52.258 +02:00 [INF] Authorization was successful.
2021-10-30 16:44:52.259 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 16:44:52.265 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 16:44:52.337 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 16:44:52.349 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 16:44:52.383 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:44:52.384 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:44:52.385 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:44:52.387 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:44:52.389 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:44:52.389 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:44:52.390 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:44:52.391 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:44:52.391 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:44:52.392 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:44:52.393 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 16:44:52.409 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 144.0235ms
2021-10-30 16:44:52.409 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 16:44:52.411 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 294.5766ms
2021-10-30 16:44:56.122 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 16:44:56.127 +02:00 [INF] Successfully validated the token.
2021-10-30 16:44:56.127 +02:00 [INF] Authorization was successful.
2021-10-30 16:44:56.128 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 16:44:56.132 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 16:44:56.144 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 16:44:56.155 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 16:44:56.169 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:44:56.174 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 16:44:56.174 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 16:44:56.177 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 44.8776ms
2021-10-30 16:44:56.177 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 16:44:56.179 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 56.9895ms
2021-10-30 16:44:59.680 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 16:44:59.680 +02:00 [INF] Successfully validated the token.
2021-10-30 16:44:59.681 +02:00 [INF] Authorization was successful.
2021-10-30 16:44:59.682 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 16:44:59.685 +02:00 [INF] Route matched with {action = "Update", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Update(System.Guid, ProgLibrary.Infrastructure.Commands.Books.UpdateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 16:45:00.497 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 16:45:00.509 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__title_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-10-30 16:45:21.675 +02:00 [INF] Executing JsonResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-10-30 16:45:21.699 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API) in 22014.1027ms
2021-10-30 16:45:21.701 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 16:45:21.703 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Książka o tytule: 'Pan Tadeusz' już istnieje)
 ---> System.Exception: Książka o tytule: 'Pan Tadeusz' już istnieje
   at ProgLibrary.Infrastructure.Extensions.RepositoryExtensions.GetOrFailAsync(IBookRepository bookRepository, String title) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Extensions\RepositoryExtensions.cs:line 31
   at ProgLibrary.Infrastructure.Services.BookService.UpdateAsync(Guid id, String title, String author, DateTime releasedDate, String description) in C:\Users\dorynekm\Source\Repos\maciejdorynek95\ProgLibrary.Infrastructure\Services\BookService.cs:line 57
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-30 16:45:21.792 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 500 - text/plain 22112.2679ms
2021-10-30 17:15:13.782 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 17:15:13.790 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user)
2021-10-30 17:15:13.796 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-10-30 17:15:13.798 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 401 - - 15.9983ms
2021-10-30 17:15:16.226 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 17:15:16.226 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user)
2021-10-30 17:15:16.226 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-10-30 17:15:16.227 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 401 - - 1.8281ms
2021-10-30 17:15:17.746 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 17:15:17.747 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user)
2021-10-30 17:15:17.747 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-10-30 17:15:17.748 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 401 - - 2.0422ms
2021-10-30 17:15:32.637 +02:00 [INF] Staring Api
2021-10-30 17:15:34.710 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 17:15:35.149 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 17:15:35.149 +02:00 [INF] Hosting environment: Development
2021-10-30 17:15:35.150 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 17:15:35.255 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 17:15:35.337 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 17:15:35.353 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 97.7848ms
2021-10-30 17:15:35.535 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 195.8722ms
2021-10-30 17:15:35.602 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 17:15:35.643 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 17:15:35.673 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 17:15:35.673 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 17:15:35.695 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 91.4337ms
2021-10-30 17:15:35.715 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 17:15:35.726 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 83.1797ms
2021-10-30 17:15:35.739 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 17:15:35.752 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 36.9967ms
2021-10-30 17:15:37.637 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 17:15:37.775 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 138.2152ms
2021-10-30 17:16:31.523 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 17:16:31.699 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 17:16:31.743 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 17:16:33.043 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 17:16:33.633 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 17:16:33.915 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 17:16:33.948 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 17:16:33.956 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 17:16:34.183 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 17:16:34.201 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2449.8058ms
2021-10-30 17:16:34.201 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 17:16:34.213 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2689.8234ms
2021-10-30 17:16:36.103 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 17:16:36.194 +02:00 [INF] Successfully validated the token.
2021-10-30 17:16:36.208 +02:00 [INF] Authorization was successful.
2021-10-30 17:16:36.210 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 17:16:36.219 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 17:16:36.301 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 17:16:36.309 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 17:16:36.340 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 17:16:36.340 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 17:16:36.341 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 17:16:36.343 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 17:16:36.343 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 17:16:36.344 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 17:16:36.344 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 17:16:36.345 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 17:16:36.345 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 17:16:36.345 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 17:16:36.346 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 17:16:36.360 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 141.0132ms
2021-10-30 17:16:36.361 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 17:16:36.362 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 258.0844ms
2021-10-30 17:16:38.226 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 17:16:38.230 +02:00 [INF] Successfully validated the token.
2021-10-30 17:16:38.232 +02:00 [INF] Authorization was successful.
2021-10-30 17:16:38.235 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 17:16:38.239 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 17:16:38.253 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 17:16:38.263 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 17:16:38.276 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 17:16:38.280 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 17:16:38.281 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 17:16:38.286 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 46.3735ms
2021-10-30 17:16:38.286 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 17:16:38.287 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 61.1380ms
2021-10-30 17:16:43.267 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 17:16:43.268 +02:00 [INF] Successfully validated the token.
2021-10-30 17:16:43.269 +02:00 [INF] Authorization was successful.
2021-10-30 17:16:43.270 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 17:16:43.275 +02:00 [INF] Route matched with {action = "Update", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Update(System.Guid, ProgLibrary.Infrastructure.Commands.Books.UpdateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 17:16:47.546 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 17:16:47.553 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__title_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-10-30 17:19:10.059 +02:00 [INF] Staring Api
2021-10-30 17:19:12.983 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 17:19:13.466 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 17:19:13.466 +02:00 [INF] Hosting environment: Development
2021-10-30 17:19:13.466 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 17:19:13.553 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 17:19:13.661 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 17:19:13.670 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 118.5432ms
2021-10-30 17:19:13.842 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 186.5290ms
2021-10-30 17:19:13.880 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 17:19:13.923 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 17:19:13.927 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 17:19:13.960 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 17:19:13.960 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 17:19:13.960 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 17:19:13.968 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 88.0594ms
2021-10-30 17:19:13.976 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 49.2616ms
2021-10-30 17:19:14.009 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 86.2783ms
2021-10-30 17:19:16.306 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 17:19:16.449 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 142.8477ms
2021-10-30 18:00:27.667 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 18:00:27.838 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 18:00:27.906 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 18:00:29.107 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 18:00:29.696 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 18:00:29.942 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 18:00:29.975 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 18:00:29.986 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 18:00:30.226 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 18:00:30.255 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2333.2237ms
2021-10-30 18:00:30.255 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 18:00:30.272 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2603.7448ms
2021-10-30 18:00:32.890 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 18:00:32.992 +02:00 [INF] Successfully validated the token.
2021-10-30 18:00:33.007 +02:00 [INF] Authorization was successful.
2021-10-30 18:00:33.009 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 18:00:33.018 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 18:00:33.090 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 18:00:33.099 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 18:00:33.128 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:00:33.128 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:00:33.129 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:00:33.131 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:00:33.131 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:00:33.132 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:00:33.132 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:00:33.132 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:00:33.133 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:00:33.133 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:00:33.134 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 18:00:33.147 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 129.3733ms
2021-10-30 18:00:33.148 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 18:00:33.151 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 260.8419ms
2021-10-30 18:00:36.644 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 18:00:36.650 +02:00 [INF] Successfully validated the token.
2021-10-30 18:00:36.651 +02:00 [INF] Authorization was successful.
2021-10-30 18:00:36.652 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 18:00:36.658 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 18:00:36.684 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 18:00:36.700 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 18:00:36.719 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:00:36.725 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:00:36.726 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 18:00:36.730 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 72.3918ms
2021-10-30 18:00:36.731 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 18:00:36.732 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 88.5516ms
2021-10-30 18:00:42.023 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 18:00:42.024 +02:00 [INF] Successfully validated the token.
2021-10-30 18:00:42.027 +02:00 [INF] Authorization was successful.
2021-10-30 18:00:42.028 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 18:00:42.033 +02:00 [INF] Route matched with {action = "Update", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Update(System.Guid, ProgLibrary.Infrastructure.Commands.Books.UpdateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 18:01:28.932 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 18:01:28.940 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__title_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Title" = @__title_0
LIMIT 2
2021-10-30 18:07:55.258 +02:00 [INF] Staring Api
2021-10-30 18:07:57.951 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 18:07:58.398 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 18:07:58.399 +02:00 [INF] Hosting environment: Development
2021-10-30 18:07:58.399 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 18:07:58.513 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 18:07:58.669 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 160.1016ms
2021-10-30 18:07:58.672 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 18:07:58.891 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 219.1776ms
2021-10-30 18:07:58.998 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 18:07:59.086 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 18:07:59.109 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 110.4407ms
2021-10-30 18:07:59.136 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 18:07:59.158 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 18:07:59.196 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 61.2909ms
2021-10-30 18:07:59.271 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 18:07:59.285 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 18:07:59.295 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 23.9629ms
2021-10-30 18:08:00.853 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 18:08:01.044 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 191.4336ms
2021-10-30 18:08:17.118 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 18:08:17.291 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 18:08:17.340 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 18:08:18.457 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 18:08:19.050 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 18:08:19.264 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 18:08:19.305 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 18:08:19.319 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 18:08:19.556 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 18:08:19.577 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2228.2343ms
2021-10-30 18:08:19.578 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 18:08:19.588 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2470.1113ms
2021-10-30 18:08:21.153 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 18:08:21.284 +02:00 [INF] Successfully validated the token.
2021-10-30 18:08:21.303 +02:00 [INF] Authorization was successful.
2021-10-30 18:08:21.305 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 18:08:21.310 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 18:08:21.388 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 18:08:21.397 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 18:08:21.426 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:08:21.427 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:08:21.427 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:08:21.429 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:08:21.430 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:08:21.430 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:08:21.431 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:08:21.431 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:08:21.432 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:08:21.432 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:08:21.434 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 18:08:21.451 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 140.6968ms
2021-10-30 18:08:21.451 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 18:08:21.452 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 298.9261ms
2021-10-30 18:08:23.569 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 18:08:23.574 +02:00 [INF] Successfully validated the token.
2021-10-30 18:08:23.575 +02:00 [INF] Authorization was successful.
2021-10-30 18:08:23.577 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 18:08:23.580 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 18:08:23.595 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 18:08:23.606 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 18:08:23.619 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:08:23.624 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:08:23.625 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 18:08:23.629 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 49.0948ms
2021-10-30 18:08:23.629 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 18:08:23.630 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 61.4088ms
2021-10-30 18:08:28.213 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 18:08:28.213 +02:00 [INF] Successfully validated the token.
2021-10-30 18:08:28.214 +02:00 [INF] Authorization was successful.
2021-10-30 18:08:28.215 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 18:08:28.220 +02:00 [INF] Route matched with {action = "Update", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Update(System.Guid, ProgLibrary.Infrastructure.Commands.Books.UpdateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 18:08:29.600 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 18:08:29.608 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 18:08:53.733 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p5='?', @p0='?' (Size = 15), @p1='?' (Size = 10), @p2='?', @p3='?' (Size = 11), @p4='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Author" = @p0, "Description" = @p1, "ReleaseDate" = @p2, "Title" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
SELECT changes();
2021-10-30 18:09:05.398 +02:00 [INF] Executing JsonResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-10-30 18:09:05.428 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API) in 37205.9721ms
2021-10-30 18:09:05.434 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 18:09:05.453 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-30 18:09:05.548 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 500 - text/plain 37334.4209ms
2021-10-30 18:11:06.097 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 18:11:06.099 +02:00 [INF] Successfully validated the token.
2021-10-30 18:11:06.100 +02:00 [INF] Authorization was successful.
2021-10-30 18:11:06.100 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 18:11:06.102 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 18:11:06.146 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 18:11:06.152 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 18:11:06.156 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:11:06.160 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:11:06.161 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 18:11:06.161 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 55.6611ms
2021-10-30 18:11:06.161 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 18:11:06.163 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 66.0798ms
2021-10-30 18:11:08.761 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 18:11:08.762 +02:00 [INF] Successfully validated the token.
2021-10-30 18:11:08.762 +02:00 [INF] Authorization was successful.
2021-10-30 18:11:08.762 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 18:11:08.763 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 18:11:08.764 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 18:11:08.770 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 18:11:08.777 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:11:08.786 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 18:11:08.787 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 18:11:08.788 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 24.8699ms
2021-10-30 18:11:08.788 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 18:11:08.789 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 27.2516ms
2021-10-30 19:49:47.006 +02:00 [INF] Staring Api
2021-10-30 19:49:52.312 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 19:49:53.031 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 19:49:53.031 +02:00 [INF] Hosting environment: Development
2021-10-30 19:49:53.032 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 19:49:53.139 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 19:49:53.268 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 132.9639ms
2021-10-30 19:49:53.290 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 19:49:53.524 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 234.1958ms
2021-10-30 19:49:53.603 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 19:49:53.617 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 19:49:53.707 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 19:49:53.709 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 19:49:53.712 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 108.3397ms
2021-10-30 19:49:53.742 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 125.0899ms
2021-10-30 19:49:53.770 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 19:49:53.780 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 19:49:53.792 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 21.5581ms
2021-10-30 19:49:55.484 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 19:49:55.710 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 226.1686ms
2021-10-30 19:55:04.498 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 19:55:04.721 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 19:55:04.772 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 19:55:06.004 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 19:55:06.589 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 19:55:06.796 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 19:55:06.835 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 19:55:06.842 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 19:55:07.041 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 19:55:07.056 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2277.9587ms
2021-10-30 19:55:07.056 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 19:55:07.065 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2567.4600ms
2021-10-30 19:55:09.005 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 19:55:09.101 +02:00 [INF] Successfully validated the token.
2021-10-30 19:55:09.113 +02:00 [INF] Authorization was successful.
2021-10-30 19:55:09.115 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 19:55:09.120 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 19:55:09.191 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 19:55:09.198 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 19:55:09.226 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 19:55:09.228 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 19:55:09.228 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 19:55:09.230 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 19:55:09.231 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 19:55:09.231 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 19:55:09.232 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 19:55:09.232 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 19:55:09.233 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 19:55:09.233 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 19:55:09.235 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 19:55:09.248 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 127.3424ms
2021-10-30 19:55:09.248 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 19:55:09.250 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 245.1871ms
2021-10-30 19:55:11.495 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 19:55:11.501 +02:00 [INF] Successfully validated the token.
2021-10-30 19:55:11.502 +02:00 [INF] Authorization was successful.
2021-10-30 19:55:11.503 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 19:55:11.507 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 19:55:11.522 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 19:55:11.531 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 19:55:11.542 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 19:55:11.546 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 19:55:11.548 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 19:55:11.551 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 44.6458ms
2021-10-30 19:55:11.552 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 19:55:11.553 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 57.7160ms
2021-10-30 19:55:17.453 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 19:55:17.453 +02:00 [INF] Successfully validated the token.
2021-10-30 19:55:17.454 +02:00 [INF] Authorization was successful.
2021-10-30 19:55:17.454 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 19:55:17.459 +02:00 [INF] Route matched with {action = "Update", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Update(System.Guid, ProgLibrary.Infrastructure.Commands.Books.UpdateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 19:55:18.539 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 19:55:18.544 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 19:55:18.679 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?', @p0='?' (Size = 15), @p1='?' (Size = 13), @p2='?', @p3='?' (Size = 11), @p4='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Author" = @p0, "Description" = @p1, "ReleaseDate" = @p2, "Title" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
SELECT changes();
2021-10-30 20:10:17.895 +02:00 [INF] Executing JsonResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-10-30 20:10:17.929 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API) in 900470.4804ms
2021-10-30 20:10:17.930 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 20:10:17.931 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 900477.9976ms
2021-10-30 20:10:18.008 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 20:10:18.012 +02:00 [INF] Successfully validated the token.
2021-10-30 20:10:18.013 +02:00 [INF] Authorization was successful.
2021-10-30 20:10:18.013 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 20:10:18.013 +02:00 [INF] Route matched with {action = "Update", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Update(System.Guid, ProgLibrary.Infrastructure.Commands.Books.UpdateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 20:10:22.440 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 20:10:22.446 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 20:10:24.371 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?', @p0='?' (Size = 15), @p1='?' (Size = 13), @p2='?', @p3='?' (Size = 11), @p4='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Author" = @p0, "Description" = @p1, "ReleaseDate" = @p2, "Title" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
SELECT changes();
2021-10-30 20:10:30.358 +02:00 [INF] Executing JsonResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-10-30 20:10:30.375 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API) in 12361.4253ms
2021-10-30 20:10:30.382 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 20:10:30.396 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-30 20:10:30.502 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 500 - text/plain 12493.8700ms
2021-10-30 20:37:43.397 +02:00 [INF] Staring Api
2021-10-30 20:37:45.921 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 20:37:46.552 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 20:37:46.553 +02:00 [INF] Hosting environment: Development
2021-10-30 20:37:46.553 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 20:37:46.633 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 20:37:46.750 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 120.0284ms
2021-10-30 20:37:46.752 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 20:37:46.923 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 170.6452ms
2021-10-30 20:37:46.967 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 20:37:46.968 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 20:37:46.971 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 20:37:47.029 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 20:37:47.029 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 20:37:47.029 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 20:37:47.036 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 69.2368ms
2021-10-30 20:37:47.054 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 83.7830ms
2021-10-30 20:37:47.083 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 114.9949ms
2021-10-30 20:37:48.035 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 20:37:48.237 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 201.7897ms
2021-10-30 20:38:54.681 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 20:38:54.949 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 20:38:54.999 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 20:38:56.124 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 20:38:56.585 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 20:38:56.806 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 20:38:56.836 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 20:38:56.850 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 20:38:57.044 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 20:38:57.061 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2053.4389ms
2021-10-30 20:38:57.062 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 20:38:57.075 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2393.7909ms
2021-10-30 20:38:58.144 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 20:38:58.245 +02:00 [INF] Successfully validated the token.
2021-10-30 20:38:58.260 +02:00 [INF] Authorization was successful.
2021-10-30 20:38:58.261 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 20:38:58.265 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 20:38:58.343 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 20:38:58.355 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 20:38:58.388 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:38:58.389 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:38:58.389 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:38:58.392 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:38:58.393 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:38:58.393 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:38:58.394 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:38:58.394 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:38:58.395 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:38:58.395 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:38:58.397 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 20:38:58.410 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 144.5918ms
2021-10-30 20:38:58.410 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 20:38:58.412 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 267.7858ms
2021-10-30 20:39:00.907 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 20:39:00.914 +02:00 [INF] Successfully validated the token.
2021-10-30 20:39:00.914 +02:00 [INF] Authorization was successful.
2021-10-30 20:39:00.915 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 20:39:00.920 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 20:39:00.932 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 20:39:00.941 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 20:39:00.953 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:39:00.956 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:39:00.958 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 20:39:00.961 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 41.036ms
2021-10-30 20:39:00.961 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 20:39:00.962 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 55.1823ms
2021-10-30 20:39:06.274 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 20:39:06.275 +02:00 [INF] Successfully validated the token.
2021-10-30 20:39:06.276 +02:00 [INF] Authorization was successful.
2021-10-30 20:39:06.276 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 20:39:06.281 +02:00 [INF] Route matched with {action = "Update", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Update(System.Guid, ProgLibrary.Infrastructure.Commands.Books.UpdateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 20:39:09.470 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/00000000-0000-0000-0000-000000000000 - -
2021-10-30 20:39:09.471 +02:00 [INF] Successfully validated the token.
2021-10-30 20:39:09.472 +02:00 [INF] Authorization was successful.
2021-10-30 20:39:09.472 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 20:39:09.473 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 20:39:09.475 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 20:39:09.480 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 20:39:09.481 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 20:39:09.485 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 20:39:09.489 +02:00 [INF] Executing JsonResult, writing value of type 'System.Exception'.
2021-10-30 20:39:09.497 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 23.6909ms
2021-10-30 20:39:09.497 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 20:39:09.500 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/00000000-0000-0000-0000-000000000000 - - - 200 - application/json;+charset=utf-8 29.5238ms
2021-10-30 20:39:09.724 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?', @p0='?' (Size = 15), @p1='?' (Size = 7), @p2='?', @p3='?' (Size = 11), @p4='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Author" = @p0, "Description" = @p1, "ReleaseDate" = @p2, "Title" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
SELECT changes();
2021-10-30 20:39:11.430 +02:00 [INF] Executing JsonResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-10-30 20:39:11.449 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API) in 5168.4032ms
2021-10-30 20:39:11.449 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 20:39:11.450 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 5175.7455ms
2021-10-30 20:41:24.643 +02:00 [INF] Staring Api
2021-10-30 20:41:27.092 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 20:41:27.522 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 20:41:27.523 +02:00 [INF] Hosting environment: Development
2021-10-30 20:41:27.523 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 20:41:27.584 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 20:41:27.688 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 20:41:27.692 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 109.5706ms
2021-10-30 20:41:27.841 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 152.5294ms
2021-10-30 20:41:27.915 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 20:41:27.939 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 20:41:27.939 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 20:41:27.980 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 20:41:27.980 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 20:41:27.980 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 20:41:27.990 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 74.3665ms
2021-10-30 20:41:27.998 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 58.6827ms
2021-10-30 20:41:28.029 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 89.4868ms
2021-10-30 20:41:28.907 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 20:41:29.113 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 206.0487ms
2021-10-30 20:41:47.475 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 20:41:47.631 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 20:41:47.690 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 20:41:48.826 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 20:41:49.288 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 20:41:49.500 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 20:41:49.529 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 20:41:49.534 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 20:41:49.733 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 20:41:49.749 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2050.7208ms
2021-10-30 20:41:49.750 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 20:41:49.757 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2282.4432ms
2021-10-30 20:41:52.014 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 20:41:52.103 +02:00 [INF] Successfully validated the token.
2021-10-30 20:41:52.117 +02:00 [INF] Authorization was successful.
2021-10-30 20:41:52.118 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 20:41:52.122 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 20:41:52.201 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 20:41:52.209 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 20:41:52.237 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:41:52.238 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:41:52.238 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:41:52.242 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:41:52.243 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:41:52.243 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:41:52.244 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:41:52.244 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:41:52.244 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:41:52.245 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:41:52.247 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 20:41:52.260 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 137.2785ms
2021-10-30 20:41:52.260 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 20:41:52.261 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 247.3475ms
2021-10-30 20:41:56.142 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 20:41:56.147 +02:00 [INF] Successfully validated the token.
2021-10-30 20:41:56.147 +02:00 [INF] Authorization was successful.
2021-10-30 20:41:56.148 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 20:41:56.154 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 20:41:56.170 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 20:41:56.179 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 20:41:56.193 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:41:56.196 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:41:56.198 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 20:41:56.201 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 46.9517ms
2021-10-30 20:41:56.202 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 20:41:56.203 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 61.5463ms
2021-10-30 20:42:03.526 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 20:42:03.527 +02:00 [INF] Successfully validated the token.
2021-10-30 20:42:03.528 +02:00 [INF] Authorization was successful.
2021-10-30 20:42:03.528 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 20:42:03.533 +02:00 [INF] Route matched with {action = "Update", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Update(System.Guid, ProgLibrary.Infrastructure.Commands.Books.UpdateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 20:53:08.734 +02:00 [INF] Staring Api
2021-10-30 20:53:11.849 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 20:53:12.260 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 20:53:12.264 +02:00 [INF] Hosting environment: Development
2021-10-30 20:53:12.267 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 20:53:12.358 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 20:53:12.481 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 20:53:12.487 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 135.4208ms
2021-10-30 20:53:12.714 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 233.0659ms
2021-10-30 20:53:12.831 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 20:53:12.890 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 20:53:12.897 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 65.6854ms
2021-10-30 20:53:12.924 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 20:53:12.934 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 20:53:12.968 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 44.0038ms
2021-10-30 20:53:12.981 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 20:53:12.990 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 20:53:12.999 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 18.1288ms
2021-10-30 20:53:14.345 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 20:53:14.487 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 142.5789ms
2021-10-30 20:54:07.330 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 20:54:07.483 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 20:54:07.532 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 20:54:08.736 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 20:54:09.316 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 20:54:09.521 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 20:54:09.550 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 20:54:09.556 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 20:54:09.811 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 20:54:09.825 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2287.6112ms
2021-10-30 20:54:09.826 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 20:54:09.835 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2504.6276ms
2021-10-30 20:54:13.722 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 20:54:13.819 +02:00 [INF] Successfully validated the token.
2021-10-30 20:54:13.834 +02:00 [INF] Authorization was successful.
2021-10-30 20:54:13.835 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 20:54:13.841 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 20:54:13.909 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 20:54:13.916 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 20:54:13.945 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:54:13.946 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:54:13.946 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:54:13.948 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:54:13.949 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:54:13.950 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:54:13.950 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:54:13.951 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:54:13.951 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:54:13.951 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:54:13.953 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 20:54:13.966 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 124.6603ms
2021-10-30 20:54:13.966 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 20:54:13.968 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 246.5410ms
2021-10-30 20:54:17.806 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 20:54:17.812 +02:00 [INF] Successfully validated the token.
2021-10-30 20:54:17.812 +02:00 [INF] Authorization was successful.
2021-10-30 20:54:17.813 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 20:54:17.817 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 20:54:17.831 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 20:54:17.837 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 20:54:17.851 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:54:17.856 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 20:54:17.857 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 20:54:17.861 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 44.0665ms
2021-10-30 20:54:17.861 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 20:54:17.862 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 55.8991ms
2021-10-30 20:54:29.193 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 20:54:29.194 +02:00 [INF] Successfully validated the token.
2021-10-30 20:54:29.195 +02:00 [INF] Authorization was successful.
2021-10-30 20:54:29.195 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 20:54:29.203 +02:00 [INF] Route matched with {action = "Update", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Update(System.Guid, ProgLibrary.Infrastructure.Commands.Books.UpdateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 20:54:34.060 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 20:54:34.064 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 20:54:36.081 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?', @p0='?' (Size = 15), @p1='?' (Size = 9), @p2='?', @p3='?' (Size = 11), @p4='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Author" = @p0, "Description" = @p1, "ReleaseDate" = @p2, "Title" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
SELECT changes();
2021-10-30 20:54:38.331 +02:00 [INF] Executing JsonResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-10-30 20:54:38.357 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API) in 9152.9419ms
2021-10-30 20:54:38.365 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 20:54:38.380 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-30 20:54:38.486 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 500 - text/plain 9293.1507ms
2021-10-30 21:03:29.771 +02:00 [INF] Staring Api
2021-10-30 21:03:32.467 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 21:03:33.031 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 21:03:33.031 +02:00 [INF] Hosting environment: Development
2021-10-30 21:03:33.031 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 21:03:33.134 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 21:03:33.242 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 21:03:33.251 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 125.0478ms
2021-10-30 21:03:33.452 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 209.5574ms
2021-10-30 21:03:33.512 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 21:03:33.659 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 21:03:33.671 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 157.2696ms
2021-10-30 21:03:33.716 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 21:03:33.735 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 21:03:33.769 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 52.5321ms
2021-10-30 21:03:33.783 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 21:03:33.790 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 21:03:33.803 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 19.1222ms
2021-10-30 21:03:40.907 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 21:03:41.096 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 188.9723ms
2021-10-30 21:03:42.037 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 21:03:42.285 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (user)
2021-10-30 21:03:42.294 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-10-30 21:03:42.296 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 401 - - 258.7181ms
2021-10-30 21:04:55.035 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 21:04:55.064 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 21:04:55.127 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 21:04:56.724 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:04:57.451 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 21:04:57.821 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 21:04:57.868 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 21:04:57.878 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 21:04:58.170 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 21:04:58.197 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 3059.0296ms
2021-10-30 21:04:58.198 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 21:04:58.210 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 3174.9414ms
2021-10-30 21:05:02.528 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 21:05:02.668 +02:00 [INF] Successfully validated the token.
2021-10-30 21:05:02.671 +02:00 [INF] Authorization was successful.
2021-10-30 21:05:02.672 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:05:02.678 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 21:05:02.789 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:05:02.797 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 21:05:02.832 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:05:02.832 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:05:02.833 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:05:02.835 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:05:02.837 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:05:02.837 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:05:02.838 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:05:02.838 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:05:02.839 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:05:02.839 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:05:02.842 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 21:05:02.860 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 182.1917ms
2021-10-30 21:05:02.860 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:05:02.862 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 333.6039ms
2021-10-30 21:05:08.745 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 21:05:08.747 +02:00 [INF] Successfully validated the token.
2021-10-30 21:05:08.748 +02:00 [INF] Authorization was successful.
2021-10-30 21:05:08.749 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:05:08.755 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 21:05:08.776 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:05:08.788 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 21:05:08.805 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:05:08.809 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:05:08.811 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 21:05:08.815 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 59.3548ms
2021-10-30 21:05:08.815 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:05:08.817 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 71.7552ms
2021-10-30 21:05:21.397 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 21:05:21.397 +02:00 [INF] Successfully validated the token.
2021-10-30 21:05:21.398 +02:00 [INF] Authorization was successful.
2021-10-30 21:05:21.400 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 21:05:21.412 +02:00 [INF] Route matched with {action = "Update", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Update(System.Guid, ProgLibrary.Infrastructure.Commands.Books.UpdateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 21:05:22.037 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:05:22.042 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 21:05:22.244 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?', @p0='?' (Size = 15), @p1='?' (Size = 11), @p2='?', @p3='?' (Size = 11), @p4='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Author" = @p0, "Description" = @p1, "ReleaseDate" = @p2, "Title" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
SELECT changes();
2021-10-30 21:05:26.783 +02:00 [INF] Executing JsonResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-10-30 21:05:26.811 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API) in 5398.7523ms
2021-10-30 21:05:26.811 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 21:05:26.813 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 5416.3023ms
2021-10-30 21:41:47.182 +02:00 [INF] Staring Api
2021-10-30 21:41:49.519 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 21:41:49.892 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 21:41:49.894 +02:00 [INF] Hosting environment: Development
2021-10-30 21:41:49.894 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 21:41:49.959 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 21:41:50.069 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 21:41:50.086 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 128.7071ms
2021-10-30 21:41:50.297 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 228.2238ms
2021-10-30 21:41:50.406 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 21:41:50.454 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 21:41:50.469 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 21:41:50.469 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 21:41:50.477 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 71.2522ms
2021-10-30 21:41:50.504 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 50.1758ms
2021-10-30 21:41:50.544 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 21:41:50.554 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 21:41:50.568 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 23.9077ms
2021-10-30 21:41:52.218 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 21:41:52.379 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 161.4165ms
2021-10-30 21:43:09.014 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 21:43:09.187 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 21:43:09.233 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 21:43:10.327 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:43:10.821 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 21:43:11.033 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 21:43:11.061 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 21:43:11.068 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 21:43:11.257 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 21:43:11.272 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2031.2624ms
2021-10-30 21:43:11.273 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 21:43:11.280 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2265.6808ms
2021-10-30 21:43:13.143 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 21:43:13.240 +02:00 [INF] Successfully validated the token.
2021-10-30 21:43:13.255 +02:00 [INF] Authorization was successful.
2021-10-30 21:43:13.256 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:43:13.261 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 21:43:13.338 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:43:13.346 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 21:43:13.376 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:43:13.377 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:43:13.378 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:43:13.379 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:43:13.380 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:43:13.380 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:43:13.381 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:43:13.381 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:43:13.382 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:43:13.382 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:43:13.385 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 21:43:13.397 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 134.9551ms
2021-10-30 21:43:13.397 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:43:13.398 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 254.9988ms
2021-10-30 21:43:17.138 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 21:43:17.143 +02:00 [INF] Successfully validated the token.
2021-10-30 21:43:17.144 +02:00 [INF] Authorization was successful.
2021-10-30 21:43:17.145 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:43:17.148 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 21:43:17.166 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:43:17.175 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 21:43:17.187 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:43:17.191 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:43:17.193 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 21:43:17.195 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 46.8285ms
2021-10-30 21:43:17.195 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:43:17.197 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 58.1264ms
2021-10-30 21:43:22.590 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 21:43:22.591 +02:00 [INF] Successfully validated the token.
2021-10-30 21:43:22.592 +02:00 [INF] Authorization was successful.
2021-10-30 21:43:22.592 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 21:43:22.598 +02:00 [INF] Route matched with {action = "Update", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Update(System.Guid, ProgLibrary.Infrastructure.Commands.Books.UpdateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 21:44:02.118 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:44:02.122 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 21:44:03.810 +02:00 [INF] Executed DbCommand (589ms) [Parameters=[@p5='?', @p0='?' (Size = 15), @p1='?' (Size = 9), @p2='?', @p3='?' (Size = 11), @p4='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Author" = @p0, "Description" = @p1, "ReleaseDate" = @p2, "Title" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
SELECT changes();
2021-10-30 21:44:04.762 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 21:44:04.764 +02:00 [INF] Successfully validated the token.
2021-10-30 21:44:04.785 +02:00 [INF] Authorization was successful.
2021-10-30 21:44:04.786 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:44:05.439 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 21:44:05.443 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:44:05.447 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 21:44:05.486 +02:00 [INF] Executing JsonResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-10-30 21:44:05.489 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:44:05.494 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:44:05.495 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 21:44:05.496 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 56.929ms
2021-10-30 21:44:05.496 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:44:05.497 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 735.4111ms
2021-10-30 21:44:05.532 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API) in 42933.3785ms
2021-10-30 21:44:05.541 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 21:44:05.562 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-30 21:44:05.758 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 500 - text/plain 43168.5817ms
2021-10-30 21:47:43.955 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 21:47:43.956 +02:00 [INF] Successfully validated the token.
2021-10-30 21:47:43.957 +02:00 [INF] Authorization was successful.
2021-10-30 21:47:43.957 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 21:47:43.957 +02:00 [INF] Route matched with {action = "Update", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Update(System.Guid, ProgLibrary.Infrastructure.Commands.Books.UpdateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 21:47:52.316 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 21:47:52.339 +02:00 [INF] Successfully validated the token.
2021-10-30 21:47:52.340 +02:00 [INF] Authorization was successful.
2021-10-30 21:47:52.340 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:47:52.340 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 21:47:52.342 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:47:52.367 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 21:47:52.424 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:47:52.437 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:47:52.439 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 21:47:52.466 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 124.3651ms
2021-10-30 21:47:52.466 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:47:52.495 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 179.2673ms
2021-10-30 21:47:54.649 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:47:54.653 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 21:48:08.734 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?', @p0='?' (Size = 15), @p1='?' (Size = 11), @p2='?', @p3='?' (Size = 11), @p4='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Author" = @p0, "Description" = @p1, "ReleaseDate" = @p2, "Title" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
SELECT changes();
2021-10-30 21:48:09.311 +02:00 [INF] Executing JsonResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-10-30 21:48:09.316 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API) in 25358.2831ms
2021-10-30 21:48:09.316 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 21:48:09.319 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWriteAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.SystemTextJsonResultExecutor.ExecuteAsync(ActionContext context, JsonResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-30 21:48:09.367 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 500 - text/plain 25411.9256ms
2021-10-30 21:48:21.806 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 21:48:21.806 +02:00 [INF] Successfully validated the token.
2021-10-30 21:48:21.807 +02:00 [INF] Authorization was successful.
2021-10-30 21:48:21.807 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:48:21.807 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 21:48:21.808 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:48:21.811 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 21:48:21.817 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:48:21.822 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:48:21.825 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 21:48:21.825 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 18.1439ms
2021-10-30 21:48:21.826 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:48:21.828 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 21.7170ms
2021-10-30 21:48:24.568 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 21:48:24.568 +02:00 [INF] Successfully validated the token.
2021-10-30 21:48:24.568 +02:00 [INF] Authorization was successful.
2021-10-30 21:48:24.569 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:48:24.569 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 21:48:24.570 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:48:24.573 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 21:48:24.578 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:48:24.583 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:48:24.585 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 21:48:24.585 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 16.3009ms
2021-10-30 21:48:24.586 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:48:24.586 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 18.6678ms
2021-10-30 21:55:20.909 +02:00 [INF] Staring Api
2021-10-30 21:55:23.084 +02:00 [INF] User profile is available. Using 'C:\Users\dorynekm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-30 21:55:23.527 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-30 21:55:23.527 +02:00 [INF] Hosting environment: Development
2021-10-30 21:55:23.527 +02:00 [INF] Content root path: C:\Users\dorynekm\source\repos\maciejdorynek95\ProgLibrary.API
2021-10-30 21:55:23.598 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger - -
2021-10-30 21:55:24.032 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/index.html - -
2021-10-30 21:55:24.033 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger - - - 301 - - 243.2666ms
2021-10-30 21:55:24.326 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/index.html - - - 200 - text/html;charset=utf-8 293.9392ms
2021-10-30 21:55:24.518 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - -
2021-10-30 21:55:24.564 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - -
2021-10-30 21:55:24.610 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-10-30 21:55:24.623 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui.css - - - 200 143632 text/css 105.2021ms
2021-10-30 21:55:24.652 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2021-10-30 21:55:24.705 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 141.0348ms
2021-10-30 21:55:25.251 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - -
2021-10-30 21:55:25.263 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2021-10-30 21:55:25.373 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 122.5142ms
2021-10-30 21:55:27.539 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - -
2021-10-30 21:55:27.751 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44336/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 211.8274ms
2021-10-30 21:56:47.541 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 -
2021-10-30 21:56:47.734 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 21:56:47.786 +02:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Login(ProgLibrary.Infrastructure.Commands.User.Login) on controller ProgLibrary.API.Controllers.AccountController (ProgLibrary.API).
2021-10-30 21:56:48.959 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'AuthenticationDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:56:49.460 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__email_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Email" = @__email_0
LIMIT 1
2021-10-30 21:56:49.685 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 21:56:49.716 +02:00 [INF] Dane Logowania Poprawne
2021-10-30 21:56:49.722 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2021-10-30 21:56:49.932 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.TokenDto'.
2021-10-30 21:56:49.948 +02:00 [INF] Executed action ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API) in 2154.0746ms
2021-10-30 21:56:49.948 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.AccountController.Login (ProgLibrary.API)'
2021-10-30 21:56:49.954 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44336/api/Account/Login application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 2412.9579ms
2021-10-30 21:56:51.817 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get - -
2021-10-30 21:56:51.907 +02:00 [INF] Successfully validated the token.
2021-10-30 21:56:51.924 +02:00 [INF] Authorization was successful.
2021-10-30 21:56:51.926 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:56:51.935 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.String) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 21:56:52.008 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:56:52.016 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
2021-10-30 21:56:52.047 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:56:52.047 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:56:52.048 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:56:52.050 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:56:52.050 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:56:52.051 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:56:52.051 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:56:52.051 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:56:52.051 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:56:52.052 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:56:52.053 +02:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[ProgLibrary.Infrastructure.DTO.BookDto, ProgLibrary.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-30 21:56:52.067 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 132.0154ms
2021-10-30 21:56:52.067 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:56:52.069 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get - - - 200 - application/json;+charset=utf-8 252.0912ms
2021-10-30 21:56:56.516 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 21:56:56.519 +02:00 [INF] Successfully validated the token.
2021-10-30 21:56:56.520 +02:00 [INF] Authorization was successful.
2021-10-30 21:56:56.521 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:56:56.524 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 21:56:56.539 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:56:56.548 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 21:56:56.561 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:56:56.565 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:56:56.567 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 21:56:56.570 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 45.1061ms
2021-10-30 21:56:56.570 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:56:56.572 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 55.5326ms
2021-10-30 21:57:08.195 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 -
2021-10-30 21:57:08.196 +02:00 [INF] Successfully validated the token.
2021-10-30 21:57:08.198 +02:00 [INF] Authorization was successful.
2021-10-30 21:57:08.199 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 21:57:08.204 +02:00 [INF] Route matched with {action = "Update", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Update(System.Guid, ProgLibrary.Infrastructure.Commands.Books.UpdateBook) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 21:57:08.224 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:57:08.227 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 21:57:22.186 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?', @p0='?' (Size = 15), @p1='?' (Size = 14), @p2='?', @p3='?' (Size = 11), @p4='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Author" = @p0, "Description" = @p1, "ReleaseDate" = @p2, "Title" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
SELECT changes();
2021-10-30 21:57:22.226 +02:00 [INF] Executing JsonResult, writing value of type 'System.Threading.Tasks.Task`1[[System.Threading.Tasks.VoidTaskResult, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-10-30 21:57:22.258 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API) in 14053.3119ms
2021-10-30 21:57:22.258 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Update (ProgLibrary.API)'
2021-10-30 21:57:22.291 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:44336/api/Books/Update/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 application/json;+charset=utf-8 - - 200 - application/json;+charset=utf-8 14095.6954ms
2021-10-30 21:57:35.383 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 21:57:35.383 +02:00 [INF] Successfully validated the token.
2021-10-30 21:57:35.384 +02:00 [INF] Authorization was successful.
2021-10-30 21:57:35.384 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:57:35.384 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 21:57:35.385 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:57:35.388 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 21:57:35.394 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:57:35.398 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:57:35.399 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 21:57:35.400 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 15.3648ms
2021-10-30 21:57:35.400 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:57:35.405 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 22.2880ms
2021-10-30 21:57:47.153 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - -
2021-10-30 21:57:47.154 +02:00 [INF] Successfully validated the token.
2021-10-30 21:57:47.154 +02:00 [INF] Authorization was successful.
2021-10-30 21:57:47.154 +02:00 [INF] Executing endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:57:47.154 +02:00 [INF] Route matched with {action = "Get", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.JsonResult] Get(System.Guid) on controller ProgLibrary.API.Controllers.BooksController (ProgLibrary.API).
2021-10-30 21:57:47.155 +02:00 [INF] Entity Framework Core 5.0.11 initialized 'LibraryDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: MigrationsAssembly=ProgLibrary.Core 
2021-10-30 21:57:47.158 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."Author", "b"."Description", "b"."ReleaseDate", "b"."Title", "b"."UpdatedAt"
FROM "Books" AS "b"
WHERE "b"."Id" = @__id_0
LIMIT 2
2021-10-30 21:57:47.162 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:57:47.166 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."BookId", "r"."CreatedAt", "r"."ReservationTimeFrom", "r"."ReservationTimeTo", "r"."UserId"
FROM "Reservations" AS "r"
2021-10-30 21:57:47.167 +02:00 [INF] Executing JsonResult, writing value of type 'ProgLibrary.Infrastructure.DTO.BookDetailsDto'.
2021-10-30 21:57:47.168 +02:00 [INF] Executed action ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API) in 13.7219ms
2021-10-30 21:57:47.168 +02:00 [INF] Executed endpoint 'ProgLibrary.API.Controllers.BooksController.Get (ProgLibrary.API)'
2021-10-30 21:57:47.169 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:44336/api/Books/Get/a5f7e6ca-3715-4101-a9f0-3e107cbbc972 - - - 200 - application/json;+charset=utf-8 16.2058ms
